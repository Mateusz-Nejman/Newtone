‡
4D:\Projekty\CS\Newtone\Newtone.Mobile.UI\App.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
{ 
public 

partial 
class 
App 
: 
Application *
{		 
public 
static 
App 
Instance "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
App 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
Instance 
= 
this 
; 
if 
( 
Global 
. 
Permissions "
." #
IsValid# *
(* +
)+ ,
&&- /
File0 4
.4 5
Exists5 ;
(; <

GlobalData< F
.F G
CurrentG N
.N O
DataPathO W
+X Y
$strZ j
)j k
)k l
{ 
MainPage 
= 
new 

NormalPage )
() *
)* +
;+ ,
} 
else 
{ 
MainPage 
= 
new 
LanguageSelectPage 1
(1 2
$str2 ?
)? @
;@ A
} 
} 	
} 
} ˛
8D:\Projekty\CS\Newtone\Newtone.Mobile.UI\AssemblyInfo.cs
[ 
assembly 	
:	 

XamlCompilation 
( "
XamlCompilationOptions 1
.1 2
Compile2 9
)9 :
]: ;À
2D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Colors.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
{ 
public 

static 
class 
Colors 
{ 
public 
static 
Color 
ColorPrimary (
=>) +
Color, 1
.1 2
FromHex2 9
(9 :
$str: C
)C D
;D E
public

 
static

 
Color

 
ColorSecondary

 *
=>

+ -
Color

. 3
.

3 4
FromHex

4 ;
(

; <
$str

< E
)

E F
;

F G
public 
static 
Color 
ColorThirdary )
=>* ,
Color- 2
.2 3
FromHex3 :
(: ;
$str; D
)D E
;E F
public 
static 
Color 
	TextColor %
=>& (
Color) .
.. /
FromHex/ 6
(6 7
$str7 @
)@ A
;A B
public 
static 
Color 

BadgeColor &
=>' )
Color* /
./ 0
FromHex0 7
(7 8
$str8 A
)A B
;B C
public 
static 
Color 
ProgressBarColor ,
=>- /
Color0 5
.5 6
FromHex6 =
(= >
$str> G
)G H
;H I
} 
} ö
1D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Fonts.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
{ 
public 

static 
class 
Fonts 
{ 
public 
const 
string 
Black !
=" #
$str$ I
;I J
public 
const 
string 
Bold  
=! "
$str# F
;F G
public 
const 
string 
Regular #
=$ %
$str& O
;O P
public		 
const		 
string		 
Medium		 "
=		# $
$str		% L
;		L M
public

 
const

 
string

 
Light

 !
=

" #
$str

$ I
;

I J
public 
const 
string 
Thin  
=! "
$str# F
;F G
} 
} Ã	
2D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Global.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
{ 
public 

static 
class 
Global 
{ 
public 
static 
IPermission !
Permissions" -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
static 
IApplication "
Application# .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public		 
static		 
IImageProcessing		 &
ImageProcessing		' 6
{		7 8
get		9 <
;		< =
set		> A
;		A B
}		C D
public

 
static

 
IContextMenuBuilder

 )
ContextMenuBuilder

* <
{

= >
get

? B
;

B C
set

D G
;

G H
}

I J
public 
static 
bool 
Loaded !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} ß
GD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Logic\ContentViewExtensions.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Logic !
{ 
public 

static 
class !
ContentViewExtensions -
{ 
public 
static 
bool 
IsTimerView &
(& '
this' +
ContentView, 7
contentView8 C
)C D
{		 	
return

 
contentView

 
is

 !
ITimerContent

" /
;

/ 0
} 	
} 
} Öﬂ
DD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Logic\ContextMenuBuilder.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Logic !
{ 
public 

static 
class 
ContextMenuBuilder *
{ 
private 
static 
string 
CurrentModelInfo .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
static 
void 
BuildForTrack (
(( )
Xamarin) 0
.0 1
Forms1 6
.6 7
View7 ;
sender< B
,B C
stringD J
	modelInfoK T
)T U
{ 	
CurrentModelInfo 
= 
	modelInfo (
;( )
string 
[ 
] 
elems 
= 
CurrentModelInfo -
.- .
Split. 3
(3 4

GlobalData4 >
.> ?
	SEPARATOR? H
,H I
SystemJ P
.P Q
StringSplitOptionsQ c
.c d
Noned h
)h i
;i j
string 
filePath 
= 
elems #
[# $
$num$ %
]% &
;& '
string 
playlistName 
=  !
elems" '
[' (
$num( )
]) *
;* +
List   
<   
string   
>   
	menuItems   "
=  # $
new  % (
List  ) -
<  - .
string  . 4
>  4 5
(  5 6
)  6 7
{  8 9
filePath  : B
.  B C
Length  C I
==  J L
$num  M O
?  P Q
Localization  R ^
.  ^ _
Download  _ g
:  h i
Localization  j v
.  v w
TrackMenuEdit	  w Ñ
,
  Ñ Ö
Localization
  Ü í
.
  í ì
TrackMenuPlaylist
  ì §
,
  § •
Localization
  ¶ ≤
.
  ≤ ≥
TrackMenuQueue
  ≥ ¡
}
  ¬ √
;
  √ ƒ
if!! 
(!! 
!!! 
string!! 
.!! 
IsNullOrEmpty!! %
(!!% &
playlistName!!& 2
)!!2 3
)!!3 4
	menuItems"" 
."" 
Add"" 
("" 
Localization"" *
.""* +
SyncAddPlaylist""+ :
)"": ;
;""; <
	menuItems$$ 
.$$ 
Add$$ 
($$ 
Localization$$ &
.$$& '
TrackMenuDelete$$' 6
)$$6 7
;$$7 8
Global&& 
.&& 
ContextMenuBuilder&& %
.&&% &
BuildForTrack&&& 3
(&&3 4
sender&&4 :
,&&: ;
	modelInfo&&< E
,&&E F
filePath&&G O
,&&O P
playlistName&&Q ]
,&&] ^
	menuItems&&_ h
,&&h i
TrackAction&&j u
)&&u v
;&&v w
}'' 	
public)) 
static)) 
void)) 
BuildForPlaylist)) +
())+ ,
View)), 0
sender))1 7
,))7 8
string))9 ?
playlistName))@ L
)))L M
{** 	
List++ 
<++ 
string++ 
>++ 
elements++ !
=++" #
new++$ '
List++( ,
<++, -
string++- 3
>++3 4
(++4 5
)++5 6
{++7 8
Localization++9 E
.++E F
PlaylistPlay++F R
,++R S
Localization++T `
.++` a
TrackMenuPlaylist++a r
,++r s
Localization	++t Ä
.
++Ä Å
TrackMenuQueue
++Å è
,
++è ê
Localization
++ë ù
.
++ù û

ChangeName
++û ®
,
++® ©
Localization
++™ ∂
.
++∂ ∑
TrackMenuDelete
++∑ ∆
}
++« »
;
++» …
Global-- 
.-- 
ContextMenuBuilder-- %
.--% &
BuildForPlaylist--& 6
(--6 7
sender--7 =
,--= >
playlistName--? K
,--K L
elements--M U
,--U V
PlaylistAction--W e
)--e f
;--f g
}.. 	
public00 
static00 
void00 
BuildForArtist00 )
(00) *
View00* .
sender00/ 5
,005 6
string007 =

artistName00> H
)00H I
{11 	
List22 
<22 
string22 
>22 
elements22 !
=22" #
new22$ '
List22( ,
<22, -
string22- 3
>223 4
(224 5
)225 6
{227 8
Localization229 E
.22E F
PlaylistPlay22F R
,22R S
Localization22T `
.22` a
TrackMenuPlaylist22a r
,22r s
Localization	22t Ä
.
22Ä Å
TrackMenuQueue
22Å è
}
22ê ë
;
22ë í
Global44 
.44 
ContextMenuBuilder44 %
.44% &
BuildForArtist44& 4
(444 5
sender445 ;
,44; <

artistName44= G
,44G H
elements44I Q
,44Q R
ArtistAction44S _
)44_ `
;44` a
}55 	
public77 
static77 
void77  
BuildForSearchResult77 /
(77/ 0
View770 4
sender775 ;
,77; <
string77= C
	modelInfo77D M
)77M N
{88 	
List99 
<99 
string99 
>99 
elements99 !
=99" #
new99$ '
List99( ,
<99, -
string99- 3
>993 4
(994 5
)995 6
{997 8
Localization999 E
.99E F
Download99F N
,99N O
Localization99P \
.99\ ]
TrackMenuPlaylist99] n
}99o p
;99p q
Global;; 
.;; 
ContextMenuBuilder;; %
.;;% & 
BuildForSearchResult;;& :
(;;: ;
sender;;; A
,;;A B
	modelInfo;;C L
,;;L M
elements;;N V
,;;V W
SearchResultAction;;X j
);;j k
;;;k l
}<< 	
private?? 
static?? 
async?? 
Task?? !
TrackAction??" -
(??- .
string??. 4
filePath??5 =
,??= >
string??? E
item??F J
,??J K
string??L R
playlistName??S _
)??_ `
{@@ 	
PageAA 
pageAA 
=AA 

NormalPageAA "
.AA" #
InstanceAA# +
;AA+ ,
ifCC 
(CC 
filePathCC 
.CC 
LengthCC 
==CC !
$numCC" $
&&CC% '
!CC( )

GlobalDataCC) 3
.CC3 4
CurrentCC4 ;
.CC; <
SavedTracksCC< G
.CCG H
ContainsKeyCCH S
(CCS T
filePathCCT \
)CC\ ]
)CC] ^
{DD 
YoutubeClientEE 
clientEE $
=EE% &
newEE' *
YoutubeClientEE+ 8
(EE8 9
)EE9 :
;EE: ;
varFF 
videoFF 
=FF 
awaitFF !
clientFF" (
.FF( )
VideosFF) /
.FF/ 0
GetAsyncFF0 8
(FF8 9
filePathFF9 A
)FFA B
;FFB C
varHH 
mediaSourceHH 
=HH  !
newHH" %
CoreHH& *
.HH* +
MediaHH+ 0
.HH0 1
MediaSourceHH1 <
(HH< =
)HH= >
{II 
ArtistJJ 
=JJ 
videoJJ "
.JJ" #
AuthorJJ# )
,JJ) *
DurationKK 
=KK 
videoKK $
.KK$ %
DurationKK% -
,KK- .
FilePathLL 
=LL 
videoLL $
.LL$ %
IdLL% '
,LL' (
TitleMM 
=MM 
videoMM !
.MM! "
TitleMM" '
,MM' (
TypeNN 
=NN 
CoreNN 
.NN  
MediaNN  %
.NN% &
MediaSourceNN& 1
.NN1 2

SourceTypeNN2 <
.NN< =
WebNN= @
}OO 
;OO 
tryQQ 
{RR 
usingSS 
	WebClientSS #
	webClientSS$ -
=SS. /
newSS0 3
	WebClientSS4 =
(SS= >
)SS> ?
;SS? @
byteTT 
[TT 
]TT 
	thumbDataTT $
=TT% &
	webClientTT' 0
.TT0 1
DownloadDataTT1 =
(TT= >
videoTT> C
.TTC D

ThumbnailsTTD N
.TTN O
MediumResUrlTTO [
)TT[ \
;TT\ ]
mediaSourceUU 
.UU  
ImageUU  %
=UU& '
	thumbDataUU( 1
;UU1 2
}VV 
catchWW 
{XX 
}ZZ 

GlobalData\\ 
.\\ 
Current\\ "
.\\" #
SavedTracks\\# .
.\\. /
Add\\/ 2
(\\2 3
filePath\\3 ;
,\\; <
mediaSource\\= H
)\\H I
;\\I J

GlobalData]] 
.]] 
Current]] "
.]]" #
SaveSavedTracks]]# 2
(]]2 3
)]]3 4
;]]4 5
}^^ 
var__ 
track__ 
=__ 
filePath__  
.__  !
Length__! '
==__( *
$num__+ -
?__. /

GlobalData__0 :
.__: ;
Current__; B
.__B C
SavedTracks__C N
[__N O
filePath__O W
]__W X
:__Y Z

GlobalData__[ e
.__e f
Current__f m
.__m n
Audios__n t
[__t u
filePath__u }
]__} ~
;__~ 
ifaa 
(aa 
trackaa 
==aa 
nullaa 
)aa 
{bb 
Globalcc 
.cc 
Applicationcc "
.cc" #
ShowSnackbarcc# /
(cc/ 0
Localizationcc0 <
.cc< =
SnackFileExistscc= L
)ccL M
;ccM N
returndd 
;dd 
}ee 
ifgg 
(gg 
itemgg 
==gg 
Localizationgg $
.gg$ %
TrackMenuEditgg% 2
)gg2 3
{hh 
stringii 
titleii 
;ii 
stringjj 
artistjj 
;jj 
ifll 
(ll 

GlobalDatall 
.ll 
Currentll &
.ll& '
	AudioTagsll' 0
.ll0 1
ContainsKeyll1 <
(ll< =
filePathll= E
)llE F
)llF G
{mm 
artistnn 
=nn 

GlobalDatann '
.nn' (
Currentnn( /
.nn/ 0
	AudioTagsnn0 9
[nn9 :
filePathnn: B
]nnB C
.nnC D
AuthornnD J
;nnJ K
titleoo 
=oo 

GlobalDataoo &
.oo& '
Currentoo' .
.oo. /
	AudioTagsoo/ 8
[oo8 9
filePathoo9 A
]ooA B
.ooB C
TitleooC H
;ooH I
}pp 
elseqq 
{rr 
artistss 
=ss 

GlobalDatass '
.ss' (
Currentss( /
.ss/ 0
Audiosss0 6
[ss6 7
filePathss7 ?
]ss? @
.ss@ A
ArtistssA G
;ssG H
titlett 
=tt 

GlobalDatatt &
.tt& '
Currenttt' .
.tt. /
Audiostt/ 5
[tt5 6
filePathtt6 >
]tt> ?
.tt? @
Titlett@ E
;ttE F
}uu 
stringww 

userArtistww !
=ww" #
awaitww$ )
pageww* .
.ww. /
DisplayPromptAsyncww/ A
(wwA B
LocalizationwwB N
.wwN O
ArtistwwO U
,wwU V
artistwwW ]
,ww] ^
$strww_ c
,wwc d
Localizationwwe q
.wwq r
Cancelwwr x
,wwx y
artist	wwz Ä
,
wwÄ Å
-
wwÇ É
$num
wwÉ Ñ
,
wwÑ Ö
null
wwÜ ä
,
wwä ã
artist
wwå í
)
wwí ì
;
wwì î
stringxx 
	userTitlexx  
=xx! "
awaitxx# (
pagexx) -
.xx- .
DisplayPromptAsyncxx. @
(xx@ A
LocalizationxxA M
.xxM N
TitlexxN S
,xxS T
titlexxU Z
,xxZ [
$strxx\ `
,xx` a
Localizationxxb n
.xxn o
Cancelxxo u
,xxu v
titlexxw |
,xx| }
-xx~ 
$num	xx Ä
,
xxÄ Å
null
xxÇ Ü
,
xxÜ á
title
xxà ç
)
xxç é
;
xxé è
ifzz 
(zz 

userArtistzz 
!=zz !
nullzz" &
&&zz' )
	userTitlezz* 3
!=zz4 6
nullzz7 ;
)zz; <
{{{ 
if|| 
(|| 
!|| 

GlobalData|| #
.||# $
Current||$ +
.||+ ,
	AudioTags||, 5
.||5 6
ContainsKey||6 A
(||A B
filePath||B J
)||J K
)||K L
{}} 

GlobalData~~ "
.~~" #
Current~~# *
.~~* +
	AudioTags~~+ 4
.~~4 5
Add~~5 8
(~~8 9
filePath~~9 A
,~~A B
new~~C F
Newtone~~G N
.~~N O
Core~~O S
.~~S T
Media~~T Y
.~~Y Z
MediaSourceTag~~Z h
(~~h i
)~~i j
{~~k l
Author~~m s
=~~t u

userArtist	~~v Ä
,
~~Ä Å
Title
~~Ç á
=
~~à â
	userTitle
~~ä ì
}
~~î ï
)
~~ï ñ
;
~~ñ ó
} 

GlobalData
ÅÅ 
.
ÅÅ 
Current
ÅÅ &
.
ÅÅ& '
	AudioTags
ÅÅ' 0
[
ÅÅ0 1
filePath
ÅÅ1 9
]
ÅÅ9 :
.
ÅÅ: ;
Author
ÅÅ; A
=
ÅÅB C

userArtist
ÅÅD N
;
ÅÅN O

GlobalData
ÇÇ 
.
ÇÇ 
Current
ÇÇ &
.
ÇÇ& '
	AudioTags
ÇÇ' 0
[
ÇÇ0 1
filePath
ÇÇ1 9
]
ÇÇ9 :
.
ÇÇ: ;
Title
ÇÇ; @
=
ÇÇA B
	userTitle
ÇÇC L
;
ÇÇL M
var
ÉÉ 
	newSource
ÉÉ !
=
ÉÉ" #

GlobalData
ÉÉ$ .
.
ÉÉ. /
Current
ÉÉ/ 6
.
ÉÉ6 7
Audios
ÉÉ7 =
[
ÉÉ= >
filePath
ÉÉ> F
]
ÉÉF G
.
ÉÉG H
Clone
ÉÉH M
(
ÉÉM N
)
ÉÉN O
;
ÉÉO P
	newSource
ÑÑ 
.
ÑÑ 
Title
ÑÑ #
=
ÑÑ$ %
	userTitle
ÑÑ& /
;
ÑÑ/ 0
	newSource
ÖÖ 
.
ÖÖ 
Artist
ÖÖ $
=
ÖÖ% &

userArtist
ÖÖ' 1
;
ÖÖ1 2
GlobalLoader
ÜÜ  
.
ÜÜ  !
ChangeTrack
ÜÜ! ,
(
ÜÜ, -

GlobalData
ÜÜ- 7
.
ÜÜ7 8
Current
ÜÜ8 ?
.
ÜÜ? @
Audios
ÜÜ@ F
[
ÜÜF G
filePath
ÜÜG O
]
ÜÜO P
,
ÜÜP Q
	newSource
ÜÜR [
)
ÜÜ[ \
;
ÜÜ\ ]

GlobalData
áá 
.
áá 
Current
áá &
.
áá& '
SaveTags
áá' /
(
áá/ 0
)
áá0 1
;
áá1 2
Global
àà 
.
àà 
Application
àà &
.
àà& '
ShowSnackbar
àà' 3
(
àà3 4
Localization
àà4 @
.
àà@ A
Ready
ààA F
)
ààF G
;
ààG H
}
ââ 
}
ãã 
else
åå 
if
åå 
(
åå 
item
åå 
==
åå 
Localization
åå )
.
åå) *
TrackMenuPlaylist
åå* ;
)
åå; <
{
çç 
List
éé 
<
éé 
string
éé 
>
éé 
	positions
éé &
=
éé' (
new
éé) ,
List
éé- 1
<
éé1 2
string
éé2 8
>
éé8 9
(
éé9 :
)
éé: ;
{
èè 
Localization
êê  
.
êê  !
NewPlaylist
êê! ,
}
ëë 
;
ëë 
foreach
ìì 
(
ìì 
string
ìì 
playlist
ìì  (
in
ìì) +

GlobalData
ìì, 6
.
ìì6 7
Current
ìì7 >
.
ìì> ?
	Playlists
ìì? H
.
ììH I
Keys
ììI M
)
ììM N
	positions
îî 
.
îî 
Add
îî !
(
îî! "
playlist
îî" *
)
îî* +
;
îî+ ,
string
ññ 
answer
ññ 
=
ññ 
await
ññ  %
page
ññ& *
.
ññ* + 
DisplayActionSheet
ññ+ =
(
ññ= >
Localization
ññ> J
.
ññJ K
ChoosePlaylist
ññK Y
,
ññY Z
Localization
ññ[ g
.
ññg h
Cancel
ññh n
,
ññn o
null
ññp t
,
ññt u
	positions
ññv 
.ññ Ä
ToArrayññÄ á
(ññá à
)ññà â
)ññâ ä
;ññä ã
if
òò 
(
òò 
answer
òò 
==
òò 
Localization
òò *
.
òò* +
NewPlaylist
òò+ 6
)
òò6 7
{
ôô 
string
öö 
playlist
öö #
=
öö$ %
await
öö& +
page
öö, 0
.
öö0 1 
DisplayPromptAsync
öö1 C
(
ööC D
Localization
ööD P
.
ööP Q
NewPlaylist
ööQ \
,
öö\ ]
Localization
öö^ j
.
ööj k
NewPlaylistHint
öök z
,
ööz {
Localizationöö| à
.ööà â
Addööâ å
,ööå ç
Localizationööé ö
.ööö õ
Cancelööõ °
,öö° ¢
Localizationöö£ Ø
.ööØ ∞
Playlistöö∞ ∏
,öö∏ π
-öö∫ ª
$numööª º
,ööº Ω
nullööæ ¬
,öö¬ √
Localizationööƒ –
.öö– —
NewPlaylistöö— ‹
)öö‹ ›
;öö› ﬁ
if
úú 
(
úú 
!
úú 
string
úú 
.
úú  
IsNullOrEmpty
úú  -
(
úú- .
playlist
úú. 6
)
úú6 7
)
úú7 8
{
ùù 
if
ûû 
(
ûû 

GlobalData
ûû &
.
ûû& '
Current
ûû' .
.
ûû. /
	Playlists
ûû/ 8
.
ûû8 9
ContainsKey
ûû9 D
(
ûûD E
playlist
ûûE M
)
ûûM N
)
ûûN O

GlobalData
üü &
.
üü& '
Current
üü' .
.
üü. /
	Playlists
üü/ 8
[
üü8 9
playlist
üü9 A
]
üüA B
.
üüB C
Add
üüC F
(
üüF G
track
üüG L
.
üüL M
FilePath
üüM U
)
üüU V
;
üüV W
else
†† 

GlobalData
°° &
.
°°& '
Current
°°' .
.
°°. /
	Playlists
°°/ 8
.
°°8 9
Add
°°9 <
(
°°< =
playlist
°°= E
,
°°E F
new
°°G J
List
°°K O
<
°°O P
string
°°P V
>
°°V W
(
°°W X
)
°°X Y
{
°°Z [
track
°°\ a
.
°°a b
FilePath
°°b j
}
°°k l
)
°°l m
;
°°m n

GlobalData
££ "
.
££" #
Current
££# *
.
££* +"
PlaylistsNeedRefresh
££+ ?
=
££@ A
true
££B F
;
££F G

GlobalData
§§ "
.
§§" #
Current
§§# *
.
§§* +

SaveConfig
§§+ 5
(
§§5 6
)
§§6 7
;
§§7 8
Global
¶¶ 
.
¶¶ 
Application
¶¶ *
.
¶¶* +
ShowSnackbar
¶¶+ 7
(
¶¶7 8
Localization
¶¶8 D
.
¶¶D E
SnackPlaylist
¶¶E R
)
¶¶R S
;
¶¶S T
}
ßß 
}
®® 
else
©© 
if
©© 
(
©© 

GlobalData
©© #
.
©©# $
Current
©©$ +
.
©©+ ,
	Playlists
©©, 5
.
©©5 6
ContainsKey
©©6 A
(
©©A B
answer
©©B H
)
©©H I
)
©©I J
{
™™ 
if
´´ 
(
´´ 
!
´´ 

GlobalData
´´ #
.
´´# $
Current
´´$ +
.
´´+ ,
	Playlists
´´, 5
[
´´5 6
answer
´´6 <
]
´´< =
.
´´= >
Contains
´´> F
(
´´F G
filePath
´´G O
)
´´O P
)
´´P Q

GlobalData
¨¨ "
.
¨¨" #
Current
¨¨# *
.
¨¨* +
	Playlists
¨¨+ 4
[
¨¨4 5
answer
¨¨5 ;
]
¨¨; <
.
¨¨< =
Add
¨¨= @
(
¨¨@ A
filePath
¨¨A I
)
¨¨I J
;
¨¨J K

GlobalData
ÆÆ 
.
ÆÆ 
Current
ÆÆ &
.
ÆÆ& '

SaveConfig
ÆÆ' 1
(
ÆÆ1 2
)
ÆÆ2 3
;
ÆÆ3 4
Global
ØØ 
.
ØØ 
Application
ØØ &
.
ØØ& '
ShowSnackbar
ØØ' 3
(
ØØ3 4
Localization
ØØ4 @
.
ØØ@ A
SnackPlaylist
ØØA N
)
ØØN O
;
ØØO P
}
∞∞ 

GlobalData
≤≤ 
.
≤≤ 
Current
≤≤ "
.
≤≤" #"
PlaylistsNeedRefresh
≤≤# 7
=
≤≤8 9
true
≤≤: >
;
≤≤> ?
}
¥¥ 
else
µµ 
if
µµ 
(
µµ 
item
µµ 
==
µµ 
Localization
µµ )
.
µµ) *
TrackMenuDelete
µµ* 9
)
µµ9 :
{
∂∂ 
bool
∑∑ 
answer
∑∑ 
=
∑∑ 
await
∑∑ #
page
∑∑$ (
.
∑∑( )
DisplayAlert
∑∑) 5
(
∑∑5 6
Localization
∑∑6 B
.
∑∑B C
Question
∑∑C K
,
∑∑K L
Localization
∑∑M Y
.
∑∑Y Z
QuestionDelete
∑∑Z h
+
∑∑i j
$str
∑∑k n
+
∑∑o p
track
∑∑q v
.
∑∑v w
Title
∑∑w |
+
∑∑} ~
(∑∑ Ä
playlistName∑∑Ä å
!=∑∑ç è
$str∑∑ê í
?∑∑ì î
$str∑∑ï ò
+∑∑ô ö
Localization∑∑õ ß
.∑∑ß ®*
QuestionDeleteFromPlaylist∑∑® ¬
+∑∑√ ƒ
$str∑∑≈ »
:∑∑…  
$str∑∑À Œ
)∑∑Œ œ
,∑∑œ –
Localization∑∑— ›
.∑∑› ﬁ
Yes∑∑ﬁ ·
,∑∑· ‚
Localization∑∑„ Ô
.∑∑Ô 
No∑∑ Ú
)∑∑Ú Û
;∑∑Û Ù
if
ππ 
(
ππ 
answer
ππ 
)
ππ 
{
∫∫ 
if
ªª 
(
ªª 
playlistName
ªª $
==
ªª% '
$str
ªª( *
)
ªª* +
{
ºº 
if
ΩΩ 
(
ΩΩ 
File
ΩΩ  
.
ΩΩ  !
Exists
ΩΩ! '
(
ΩΩ' (
filePath
ΩΩ( 0
)
ΩΩ0 1
)
ΩΩ1 2
File
ææ  
.
ææ  !
Delete
ææ! '
(
ææ' (
filePath
ææ( 0
)
ææ0 1
;
ææ1 2
if
¿¿ 
(
¿¿ 
filePath
¿¿ #
.
¿¿# $
Length
¿¿$ *
==
¿¿+ -
$num
¿¿. 0
)
¿¿0 1
{
¡¡ 
GlobalLoader
¬¬ (
.
¬¬( )
RemoveSavedTrack
¬¬) 9
(
¬¬9 :
filePath
¬¬: B
)
¬¬B C
;
¬¬C D
}
√√ 
if
≈≈ 
(
≈≈ 

GlobalData
≈≈ &
.
≈≈& '
Current
≈≈' .
.
≈≈. /
Artists
≈≈/ 6
[
≈≈6 7
track
≈≈7 <
.
≈≈< =
Artist
≈≈= C
]
≈≈C D
.
≈≈D E
Contains
≈≈E M
(
≈≈M N
track
≈≈N S
.
≈≈S T
FilePath
≈≈T \
)
≈≈\ ]
)
≈≈] ^

GlobalData
∆∆ &
.
∆∆& '
Current
∆∆' .
.
∆∆. /
Artists
∆∆/ 6
[
∆∆6 7
track
∆∆7 <
.
∆∆< =
Artist
∆∆= C
]
∆∆C D
.
∆∆D E
Remove
∆∆E K
(
∆∆K L
track
∆∆L Q
.
∆∆Q R
FilePath
∆∆R Z
)
∆∆Z [
;
∆∆[ \
if
»» 
(
»» 

GlobalData
»» &
.
»»& '
Current
»»' .
.
»». /
Artists
»»/ 6
[
»»6 7
track
»»7 <
.
»»< =
Artist
»»= C
]
»»C D
.
»»D E
Count
»»E J
==
»»K M
$num
»»N O
)
»»O P
{
…… 

GlobalData
   &
.
  & '
Current
  ' .
.
  . /
Artists
  / 6
.
  6 7
Remove
  7 =
(
  = >
track
  > C
.
  C D
Artist
  D J
)
  J K
;
  K L

GlobalData
ÀÀ &
.
ÀÀ& '
Current
ÀÀ' .
.
ÀÀ. / 
ArtistsNeedRefresh
ÀÀ/ A
=
ÀÀB C
true
ÀÀD H
;
ÀÀH I
}
ÃÃ 

GlobalData
ŒŒ "
.
ŒŒ" #
Current
ŒŒ# *
.
ŒŒ* +
Audios
ŒŒ+ 1
.
ŒŒ1 2
Remove
ŒŒ2 8
(
ŒŒ8 9
filePath
ŒŒ9 A
)
ŒŒA B
;
ŒŒB C
foreach
–– 
(
––  !
var
––! $
playlist
––% -
in
––. 0

GlobalData
––1 ;
.
––; <
Current
––< C
.
––C D
	Playlists
––D M
.
––M N
Keys
––N R
)
––R S
{
—— 
if
““ 
(
““  

GlobalData
““  *
.
““* +
Current
““+ 2
.
““2 3
	Playlists
““3 <
[
““< =
playlist
““= E
]
““E F
.
““F G
Contains
““G O
(
““O P
filePath
““P X
)
““X Y
)
““Y Z
{
”” 

GlobalData
‘‘  *
.
‘‘* +
Current
‘‘+ 2
.
‘‘2 3
	Playlists
‘‘3 <
[
‘‘< =
playlist
‘‘= E
]
‘‘E F
.
‘‘F G
Remove
‘‘G M
(
‘‘M N
filePath
‘‘N V
)
‘‘V W
;
‘‘W X

GlobalData
’’  *
.
’’* +
Current
’’+ 2
.
’’2 3"
PlaylistsNeedRefresh
’’3 G
=
’’H I
true
’’J N
;
’’N O
}
÷÷ 
}
◊◊ 
}
ÿÿ 
else
ŸŸ 
{
⁄⁄ 
if
€€ 
(
€€ 

GlobalData
€€ &
.
€€& '
Current
€€' .
.
€€. /
	Playlists
€€/ 8
[
€€8 9
playlistName
€€9 E
]
€€E F
.
€€F G
Contains
€€G O
(
€€O P
filePath
€€P X
)
€€X Y
)
€€Y Z
{
‹‹ 

GlobalData
›› &
.
››& '
Current
››' .
.
››. /
	Playlists
››/ 8
[
››8 9
playlistName
››9 E
]
››E F
.
››F G
Remove
››G M
(
››M N
filePath
››N V
)
››V W
;
››W X

GlobalData
ﬁﬁ &
.
ﬁﬁ& '
Current
ﬁﬁ' .
.
ﬁﬁ. /"
PlaylistsNeedRefresh
ﬁﬁ/ C
=
ﬁﬁD E
true
ﬁﬁF J
;
ﬁﬁJ K
}
ﬂﬂ 
}
‡‡ 

GlobalData
‚‚ 
.
‚‚ 
Current
‚‚ &
.
‚‚& '

SaveConfig
‚‚' 1
(
‚‚1 2
)
‚‚2 3
;
‚‚3 4
Global
„„ 
.
„„ 
Application
„„ &
.
„„& '
ShowSnackbar
„„' 3
(
„„3 4
Localization
„„4 @
.
„„@ A
Ready
„„A F
)
„„F G
;
„„G H
}
‰‰ 
}
ÂÂ 
else
ÊÊ 
if
ÊÊ 
(
ÊÊ 
item
ÊÊ 
==
ÊÊ 
Localization
ÊÊ )
.
ÊÊ) *
TrackMenuQueue
ÊÊ* 8
)
ÊÊ8 9
{
ÁÁ 
if
ËË 
(
ËË 

GlobalData
ËË 
.
ËË 
Current
ËË &
.
ËË& '
CurrentPlaylist
ËË' 6
.
ËË6 7
Count
ËË7 <
>
ËË= >
$num
ËË? @
)
ËË@ A
{
ÈÈ 
if
ÍÍ 
(
ÍÍ 

GlobalData
ÍÍ "
.
ÍÍ" #
Current
ÍÍ# *
.
ÍÍ* +
QueuePosition
ÍÍ+ 8
<
ÍÍ9 :

GlobalData
ÍÍ; E
.
ÍÍE F
Current
ÍÍF M
.
ÍÍM N
PlaylistPosition
ÍÍN ^
||
ÍÍ_ a

GlobalData
ÍÍb l
.
ÍÍl m
Current
ÍÍm t
.
ÍÍt u
QueuePositionÍÍu Ç
>ÍÍÉ Ñ

GlobalDataÍÍÖ è
.ÍÍè ê
CurrentÍÍê ó
.ÍÍó ò
CurrentPlaylistÍÍò ß
.ÍÍß ®
CountÍÍ® ≠
)ÍÍ≠ Æ
{
ÎÎ 

GlobalData
ÏÏ "
.
ÏÏ" #
Current
ÏÏ# *
.
ÏÏ* +
QueuePosition
ÏÏ+ 8
=
ÏÏ9 :

GlobalData
ÏÏ; E
.
ÏÏE F
Current
ÏÏF M
.
ÏÏM N
PlaylistPosition
ÏÏN ^
;
ÏÏ^ _
}
ÌÌ 

GlobalData
ÔÔ 
.
ÔÔ 
Current
ÔÔ &
.
ÔÔ& '
CurrentPlaylist
ÔÔ' 6
.
ÔÔ6 7
Insert
ÔÔ7 =
(
ÔÔ= >

GlobalData
ÔÔ> H
.
ÔÔH I
Current
ÔÔI P
.
ÔÔP Q
QueuePosition
ÔÔQ ^
+
ÔÔ_ `
$num
ÔÔa b
,
ÔÔb c
filePath
ÔÔd l
.
ÔÔl m
Length
ÔÔm s
==
ÔÔt v
$num
ÔÔw y
?
ÔÔz {

GlobalDataÔÔ| Ü
.ÔÔÜ á
CurrentÔÔá é
.ÔÔé è
SavedTracksÔÔè ö
[ÔÔö õ
filePathÔÔõ £
]ÔÔ£ §
:ÔÔ• ¶

GlobalDataÔÔß ±
.ÔÔ± ≤
CurrentÔÔ≤ π
.ÔÔπ ∫
AudiosÔÔ∫ ¿
[ÔÔ¿ ¡
filePathÔÔ¡ …
]ÔÔ…  
)ÔÔ  À
;ÔÔÀ Ã

GlobalData
 
.
 
Current
 &
.
& '
QueuePosition
' 4
++
4 6
;
6 7
Global
ÒÒ 
.
ÒÒ 
Application
ÒÒ &
.
ÒÒ& '
ShowSnackbar
ÒÒ' 3
(
ÒÒ3 4
Localization
ÒÒ4 @
.
ÒÒ@ A

SnackQueue
ÒÒA K
)
ÒÒK L
;
ÒÒL M
}
ÚÚ 
}
ÛÛ 
else
ÙÙ 
if
ÙÙ 
(
ÙÙ 
item
ÙÙ 
==
ÙÙ 
Localization
ÙÙ (
.
ÙÙ( )
Download
ÙÙ) 1
)
ÙÙ1 2
{
ıı  
DownloadProcessing
ˆˆ "
.
ˆˆ" #
Add
ˆˆ# &
(
ˆˆ& '
filePath
ˆˆ' /
,
ˆˆ/ 0
track
ˆˆ1 6
.
ˆˆ6 7
Title
ˆˆ7 <
,
ˆˆ< =
$str
ˆˆ> @
,
ˆˆ@ A
$str
ˆˆB D
)
ˆˆD E
;
ˆˆE F
Global
˜˜ 
.
˜˜ 
Application
˜˜ "
.
˜˜" #
ShowSnackbar
˜˜# /
(
˜˜/ 0
Localization
˜˜0 <
.
˜˜< =
Ready
˜˜= B
)
˜˜B C
;
˜˜C D
}
¯¯ 
}
˘˘ 	
private
˙˙ 
static
˙˙ 
async
˙˙ 
Task
˙˙ !
PlaylistAction
˙˙" 0
(
˙˙0 1
View
˙˙1 5
sender
˙˙6 <
,
˙˙< =
string
˙˙> D
playlistName
˙˙E Q
,
˙˙Q R
string
˙˙S Y
item
˙˙Z ^
)
˙˙^ _
{
˚˚ 	
if
¸¸ 
(
¸¸ 
item
¸¸ 
==
¸¸ 
Localization
¸¸ $
.
¸¸$ %
PlaylistPlay
¸¸% 1
)
¸¸1 2
{
˝˝ 
if
˛˛ 
(
˛˛ 

GlobalData
˛˛ 
.
˛˛ 
Current
˛˛ &
.
˛˛& '
	Playlists
˛˛' 0
[
˛˛0 1
playlistName
˛˛1 =
]
˛˛= >
.
˛˛> ?
Count
˛˛? D
>
˛˛E F
$num
˛˛G H
)
˛˛H I
{
ˇˇ 

GlobalData
ÄÄ 
.
ÄÄ 
Current
ÄÄ &
.
ÄÄ& '
MediaPlayer
ÄÄ' 2
.
ÄÄ2 3
LoadPlaylist
ÄÄ3 ?
(
ÄÄ? @

GlobalData
ÄÄ@ J
.
ÄÄJ K
Current
ÄÄK R
.
ÄÄR S
	Playlists
ÄÄS \
[
ÄÄ\ ]
playlistName
ÄÄ] i
]
ÄÄi j
,
ÄÄj k
$num
ÄÄl m
,
ÄÄm n
true
ÄÄo s
,
ÄÄs t
true
ÄÄu y
)
ÄÄy z
;
ÄÄz {
}
ÅÅ 
}
ÇÇ 
else
ÉÉ 
if
ÉÉ 
(
ÉÉ 
item
ÉÉ 
==
ÉÉ 
Localization
ÉÉ )
.
ÉÉ) *
TrackMenuPlaylist
ÉÉ* ;
)
ÉÉ; <
{
ÑÑ 
Page
ÖÖ 
page
ÖÖ 
=
ÖÖ 

NormalPage
ÖÖ &
.
ÖÖ& '
Instance
ÖÖ' /
;
ÖÖ/ 0
List
ÜÜ 
<
ÜÜ 
string
ÜÜ 
>
ÜÜ 
	positions
ÜÜ &
=
ÜÜ' (
new
ÜÜ) ,
List
ÜÜ- 1
<
ÜÜ1 2
string
ÜÜ2 8
>
ÜÜ8 9
(
ÜÜ9 :
)
ÜÜ: ;
{
áá 
Localization
àà  
.
àà  !
NewPlaylist
àà! ,
}
ââ 
;
ââ 
foreach
ãã 
(
ãã 
string
ãã 
playlist
ãã  (
in
ãã) +

GlobalData
ãã, 6
.
ãã6 7
Current
ãã7 >
.
ãã> ?
	Playlists
ãã? H
.
ããH I
Keys
ããI M
)
ããM N
	positions
åå 
.
åå 
Add
åå !
(
åå! "
playlist
åå" *
)
åå* +
;
åå+ ,
string
éé 
answer
éé 
=
éé 
await
éé  %
page
éé& *
.
éé* + 
DisplayActionSheet
éé+ =
(
éé= >
Localization
éé> J
.
ééJ K
ChoosePlaylist
ééK Y
,
ééY Z
Localization
éé[ g
.
éég h
Cancel
ééh n
,
één o
null
éép t
,
éét u
	positions
éév 
.éé Ä
ToArrayééÄ á
(ééá à
)ééà â
)ééâ ä
;ééä ã
if
êê 
(
êê 
answer
êê 
==
êê 
Localization
êê *
.
êê* +
NewPlaylist
êê+ 6
)
êê6 7
{
ëë 
string
íí 
playlist
íí #
=
íí$ %
await
íí& +
page
íí, 0
.
íí0 1 
DisplayPromptAsync
íí1 C
(
ííC D
Localization
ííD P
.
ííP Q
NewPlaylist
ííQ \
,
íí\ ]
Localization
íí^ j
.
ííj k
NewPlaylistHint
íík z
,
ííz {
Localizationíí| à
.ííà â
Addííâ å
,ííå ç
Localizationííé ö
.ííö õ
Cancelííõ °
,íí° ¢
Localizationíí£ Ø
.ííØ ∞
Playlistíí∞ ∏
,íí∏ π
-íí∫ ª
$numííª º
,ííº Ω
nullííæ ¬
,íí¬ √
Localizationííƒ –
.íí– —
NewPlaylistíí— ‹
)íí‹ ›
;íí› ﬁ
if
îî 
(
îî 
!
îî 
string
îî 
.
îî  
IsNullOrEmpty
îî  -
(
îî- .
playlist
îî. 6
)
îî6 7
)
îî7 8
{
ïï 
foreach
ññ 
(
ññ  !
var
ññ! $
playlistItem
ññ% 1
in
ññ2 4

GlobalData
ññ5 ?
.
ññ? @
Current
ññ@ G
.
ññG H
	Playlists
ññH Q
[
ññQ R
playlistName
ññR ^
]
ññ^ _
)
ññ_ `
{
óó 
if
òò 
(
òò  

GlobalData
òò  *
.
òò* +
Current
òò+ 2
.
òò2 3
	Playlists
òò3 <
.
òò< =
ContainsKey
òò= H
(
òòH I
playlist
òòI Q
)
òòQ R
)
òòR S

GlobalData
ôô  *
.
ôô* +
Current
ôô+ 2
.
ôô2 3
	Playlists
ôô3 <
[
ôô< =
playlist
ôô= E
]
ôôE F
.
ôôF G
Add
ôôG J
(
ôôJ K
playlistItem
ôôK W
)
ôôW X
;
ôôX Y
else
öö  

GlobalData
õõ  *
.
õõ* +
Current
õõ+ 2
.
õõ2 3
	Playlists
õõ3 <
.
õõ< =
Add
õõ= @
(
õõ@ A
playlist
õõA I
,
õõI J
new
õõK N
List
õõO S
<
õõS T
string
õõT Z
>
õõZ [
(
õõ[ \
)
õõ\ ]
{
õõ^ _
playlistItem
õõ` l
}
õõm n
)
õõn o
;
õõo p
}
úú 

GlobalData
ûû "
.
ûû" #
Current
ûû# *
.
ûû* +

SaveConfig
ûû+ 5
(
ûû5 6
)
ûû6 7
;
ûû7 8
Global
†† 
.
†† 
Application
†† *
.
††* +
ShowSnackbar
††+ 7
(
††7 8
Localization
††8 D
.
††D E
SnackPlaylist
††E R
)
††R S
;
††S T
}
°° 
}
¢¢ 
else
££ 
if
££ 
(
££ 

GlobalData
££ #
.
££# $
Current
££$ +
.
££+ ,
	Playlists
££, 5
.
££5 6
ContainsKey
££6 A
(
££A B
answer
££B H
)
££H I
)
££I J
{
§§ 
foreach
•• 
(
•• 
var
••  
playlistItem
••! -
in
••. 0

GlobalData
••1 ;
.
••; <
Current
••< C
.
••C D
	Playlists
••D M
[
••M N
playlistName
••N Z
]
••Z [
)
••[ \
{
¶¶ 
if
ßß 
(
ßß 
!
ßß 

GlobalData
ßß '
.
ßß' (
Current
ßß( /
.
ßß/ 0
	Playlists
ßß0 9
[
ßß9 :
answer
ßß: @
]
ßß@ A
.
ßßA B
Contains
ßßB J
(
ßßJ K
playlistItem
ßßK W
)
ßßW X
)
ßßX Y

GlobalData
®® &
.
®®& '
Current
®®' .
.
®®. /
	Playlists
®®/ 8
[
®®8 9
answer
®®9 ?
]
®®? @
.
®®@ A
Add
®®A D
(
®®D E
playlistItem
®®E Q
)
®®Q R
;
®®R S
}
©© 

GlobalData
´´ 
.
´´ 
Current
´´ &
.
´´& '

SaveConfig
´´' 1
(
´´1 2
)
´´2 3
;
´´3 4
Global
¨¨ 
.
¨¨ 
Application
¨¨ &
.
¨¨& '
ShowSnackbar
¨¨' 3
(
¨¨3 4
Localization
¨¨4 @
.
¨¨@ A
SnackPlaylist
¨¨A N
)
¨¨N O
;
¨¨O P
}
≠≠ 

GlobalData
ØØ 
.
ØØ 
Current
ØØ "
.
ØØ" #"
PlaylistsNeedRefresh
ØØ# 7
=
ØØ8 9
true
ØØ: >
;
ØØ> ?
(
∞∞ 
sender
∞∞ 
as
∞∞ 
PlaylistGridItem
∞∞ +
)
∞∞+ ,
.
∞∞, -
Page
∞∞- 1
.
∞∞1 2
Init
∞∞2 6
(
∞∞6 7
)
∞∞7 8
;
∞∞8 9
}
±± 
if
≤≤ 
(
≤≤ 
item
≤≤ 
==
≤≤ 
Localization
≤≤ $
.
≤≤$ %

ChangeName
≤≤% /
)
≤≤/ 0
{
≥≥ 
string
¥¥ 
answer
¥¥ 
=
¥¥ 
await
¥¥  %

NormalPage
¥¥& 0
.
¥¥0 1
Instance
¥¥1 9
.
¥¥9 : 
DisplayPromptAsync
¥¥: L
(
¥¥L M
Localization
¥¥M Y
.
¥¥Y Z

ChangeName
¥¥Z d
,
¥¥d e
Localization
¥¥f r
.
¥¥r s
NewPlaylistHint¥¥s Ç
,¥¥Ç É
$str¥¥Ñ à
,¥¥à â
Localization¥¥ä ñ
.¥¥ñ ó
Cancel¥¥ó ù
,¥¥ù û
Localization¥¥ü ´
.¥¥´ ¨
NewPlaylistHint¥¥¨ ª
,¥¥ª º
-¥¥Ω æ
$num¥¥æ ø
,¥¥ø ¿
null¥¥¡ ≈
,¥¥≈ ∆
playlistName¥¥« ”
)¥¥” ‘
;¥¥‘ ’
if
µµ 
(
µµ 
!
µµ 
string
µµ 
.
µµ 
IsNullOrEmpty
µµ )
(
µµ) *
answer
µµ* 0
)
µµ0 1
)
µµ1 2
{
∂∂ 
if
∑∑ 
(
∑∑ 

GlobalData
∑∑ "
.
∑∑" #
Current
∑∑# *
.
∑∑* +
	Playlists
∑∑+ 4
.
∑∑4 5
ContainsKey
∑∑5 @
(
∑∑@ A
answer
∑∑A G
)
∑∑G H
)
∑∑H I
Global
∏∏ 
.
∏∏ 
Application
∏∏ *
.
∏∏* +
ShowSnackbar
∏∏+ 7
(
∏∏7 8
Localization
∏∏8 D
.
∏∏D E
PlaylistExists
∏∏E S
)
∏∏S T
;
∏∏T U
else
ππ 
{
∫∫ 

GlobalData
ªª "
.
ªª" #
Current
ªª# *
.
ªª* +
	Playlists
ªª+ 4
.
ªª4 5
Add
ªª5 8
(
ªª8 9
answer
ªª9 ?
,
ªª? @
new
ªªA D
List
ªªE I
<
ªªI J
string
ªªJ P
>
ªªP Q
(
ªªQ R

GlobalData
ªªR \
.
ªª\ ]
Current
ªª] d
.
ªªd e
	Playlists
ªªe n
[
ªªn o
playlistName
ªªo {
]
ªª{ |
)
ªª| }
)
ªª} ~
;
ªª~ 

GlobalData
ºº "
.
ºº" #
Current
ºº# *
.
ºº* +
	Playlists
ºº+ 4
.
ºº4 5
Remove
ºº5 ;
(
ºº; <
playlistName
ºº< H
)
ººH I
;
ººI J
if
ææ 
(
ææ 

GlobalData
ææ &
.
ææ& '
Current
ææ' .
.
ææ. /!
WebToLocalPlaylists
ææ/ B
.
ææB C
ContainsValue
ææC P
(
ææP Q
playlistName
ææQ ]
)
ææ] ^
)
ææ^ _
{
øø 
var
¿¿ 
key
¿¿  #
=
¿¿$ %

GlobalData
¿¿& 0
.
¿¿0 1
Current
¿¿1 8
.
¿¿8 9!
WebToLocalPlaylists
¿¿9 L
.
¿¿L M
First
¿¿M R
(
¿¿R S
keyPair
¿¿S Z
=>
¿¿[ ]
keyPair
¿¿^ e
.
¿¿e f
Value
¿¿f k
==
¿¿l n
playlistName
¿¿o {
)
¿¿{ |
.
¿¿| }
Key¿¿} Ä
;¿¿Ä Å
if
¬¬ 
(
¬¬  

GlobalData
¬¬  *
.
¬¬* +
Current
¬¬+ 2
.
¬¬2 3!
WebToLocalPlaylists
¬¬3 F
.
¬¬F G
ContainsKey
¬¬G R
(
¬¬R S
key
¬¬S V
)
¬¬V W
)
¬¬W X

GlobalData
√√  *
.
√√* +
Current
√√+ 2
.
√√2 3!
WebToLocalPlaylists
√√3 F
[
√√F G
key
√√G J
]
√√J K
=
√√L M
answer
√√N T
;
√√T U
}
≈≈ 

GlobalData
∆∆ "
.
∆∆" #
Current
∆∆# *
.
∆∆* +

SaveConfig
∆∆+ 5
(
∆∆5 6
)
∆∆6 7
;
∆∆7 8

GlobalData
«« "
.
««" #
Current
««# *
.
««* +"
PlaylistsNeedRefresh
««+ ?
=
««@ A
true
««B F
;
««F G
(
»» 
sender
»» 
as
»»  "
PlaylistGridItem
»»# 3
)
»»3 4
.
»»4 5
Page
»»5 9
.
»»9 :
Init
»»: >
(
»»> ?
)
»»? @
;
»»@ A
Global
…… 
.
…… 
Application
…… *
.
……* +
ShowSnackbar
……+ 7
(
……7 8
Localization
……8 D
.
……D E
Ready
……E J
)
……J K
;
……K L
}
   
}
ÀÀ 
}
ÃÃ 
else
ÕÕ 
if
ÕÕ 
(
ÕÕ 
item
ÕÕ 
==
ÕÕ 
Localization
ÕÕ )
.
ÕÕ) *
TrackMenuDelete
ÕÕ* 9
)
ÕÕ9 :
{
ŒŒ 
bool
œœ 
answer
œœ 
=
œœ 
await
œœ #

NormalPage
œœ$ .
.
œœ. /
Instance
œœ/ 7
.
œœ7 8
DisplayAlert
œœ8 D
(
œœD E
Localization
œœE Q
.
œœQ R
Question
œœR Z
,
œœZ [
Localization
œœ\ h
.
œœh i$
QuestionDeletePlaylist
œœi 
+œœÄ Å
$strœœÇ Ö
+œœÜ á
playlistNameœœà î
+œœï ñ
$strœœó ö
,œœö õ
Localizationœœú ®
.œœ® ©
Yesœœ© ¨
,œœ¨ ≠
LocalizationœœÆ ∫
.œœ∫ ª
Noœœª Ω
)œœΩ æ
;œœæ ø
if
—— 
(
—— 
answer
—— 
)
—— 
{
““ 

GlobalData
”” 
.
”” 
Current
”” &
.
””& '
	Playlists
””' 0
.
””0 1
Remove
””1 7
(
””7 8
playlistName
””8 D
)
””D E
;
””E F
if
’’ 
(
’’ 

GlobalData
’’ "
.
’’" #
Current
’’# *
.
’’* +!
WebToLocalPlaylists
’’+ >
.
’’> ?
ContainsValue
’’? L
(
’’L M
playlistName
’’M Y
)
’’Y Z
)
’’Z [
{
÷÷ 
var
◊◊ 
key
◊◊ 
=
◊◊  !

GlobalData
◊◊" ,
.
◊◊, -
Current
◊◊- 4
.
◊◊4 5!
WebToLocalPlaylists
◊◊5 H
.
◊◊H I
First
◊◊I N
(
◊◊N O
keyPair
◊◊O V
=>
◊◊W Y
keyPair
◊◊Z a
.
◊◊a b
Value
◊◊b g
==
◊◊h j
playlistName
◊◊k w
)
◊◊w x
.
◊◊x y
Key
◊◊y |
;
◊◊| }
if
ŸŸ 
(
ŸŸ 

GlobalData
ŸŸ &
.
ŸŸ& '
Current
ŸŸ' .
.
ŸŸ. /!
WebToLocalPlaylists
ŸŸ/ B
.
ŸŸB C
ContainsKey
ŸŸC N
(
ŸŸN O
key
ŸŸO R
)
ŸŸR S
)
ŸŸS T

GlobalData
⁄⁄ &
.
⁄⁄& '
Current
⁄⁄' .
.
⁄⁄. /!
WebToLocalPlaylists
⁄⁄/ B
.
⁄⁄B C
Remove
⁄⁄C I
(
⁄⁄I J
key
⁄⁄J M
)
⁄⁄M N
;
⁄⁄N O
}
‹‹ 

GlobalData
ﬁﬁ 
.
ﬁﬁ 
Current
ﬁﬁ &
.
ﬁﬁ& '

SaveConfig
ﬁﬁ' 1
(
ﬁﬁ1 2
)
ﬁﬁ2 3
;
ﬁﬁ3 4
Global
ﬂﬂ 
.
ﬂﬂ 
Application
ﬂﬂ &
.
ﬂﬂ& '
ShowSnackbar
ﬂﬂ' 3
(
ﬂﬂ3 4
Localization
ﬂﬂ4 @
.
ﬂﬂ@ A
Ready
ﬂﬂA F
)
ﬂﬂF G
;
ﬂﬂG H

GlobalData
‡‡ 
.
‡‡ 
Current
‡‡ &
.
‡‡& '"
PlaylistsNeedRefresh
‡‡' ;
=
‡‡< =
true
‡‡> B
;
‡‡B C
(
·· 
sender
·· 
as
·· 
PlaylistGridItem
·· /
)
··/ 0
.
··0 1
Page
··1 5
.
··5 6
Init
··6 :
(
··: ;
)
··; <
;
··< =
}
‚‚ 
}
„„ 
else
‰‰ 
if
‰‰ 
(
‰‰ 
item
‰‰ 
==
‰‰ 
Localization
‰‰ )
.
‰‰) *
TrackMenuQueue
‰‰* 8
)
‰‰8 9
{
ÂÂ 
if
ÊÊ 
(
ÊÊ 

GlobalData
ÊÊ 
.
ÊÊ 
Current
ÊÊ &
.
ÊÊ& '
CurrentPlaylist
ÊÊ' 6
.
ÊÊ6 7
Count
ÊÊ7 <
>
ÊÊ= >
$num
ÊÊ? @
)
ÊÊ@ A
{
ÁÁ 
foreach
ËË 
(
ËË 
var
ËË  
playlistTrack
ËË! .
in
ËË/ 1

GlobalData
ËË2 <
.
ËË< =
Current
ËË= D
.
ËËD E
	Playlists
ËËE N
[
ËËN O
playlistName
ËËO [
]
ËË[ \
)
ËË\ ]
{
ÈÈ 
if
ÍÍ 
(
ÍÍ 

GlobalData
ÍÍ &
.
ÍÍ& '
Current
ÍÍ' .
.
ÍÍ. /
Audios
ÍÍ/ 5
.
ÍÍ5 6
ContainsKey
ÍÍ6 A
(
ÍÍA B
playlistTrack
ÍÍB O
)
ÍÍO P
)
ÍÍP Q
{
ÎÎ 
if
ÏÏ 
(
ÏÏ  

GlobalData
ÏÏ  *
.
ÏÏ* +
Current
ÏÏ+ 2
.
ÏÏ2 3
QueuePosition
ÏÏ3 @
<
ÏÏA B

GlobalData
ÏÏC M
.
ÏÏM N
Current
ÏÏN U
.
ÏÏU V
PlaylistPosition
ÏÏV f
||
ÏÏg i

GlobalData
ÏÏj t
.
ÏÏt u
Current
ÏÏu |
.
ÏÏ| }
QueuePositionÏÏ} ä
>ÏÏã å

GlobalDataÏÏç ó
.ÏÏó ò
CurrentÏÏò ü
.ÏÏü †
CurrentPlaylistÏÏ† Ø
.ÏÏØ ∞
CountÏÏ∞ µ
)ÏÏµ ∂
{
ÌÌ 

GlobalData
ÓÓ  *
.
ÓÓ* +
Current
ÓÓ+ 2
.
ÓÓ2 3
QueuePosition
ÓÓ3 @
=
ÓÓA B

GlobalData
ÓÓC M
.
ÓÓM N
Current
ÓÓN U
.
ÓÓU V
PlaylistPosition
ÓÓV f
;
ÓÓf g
}
ÔÔ 

GlobalData
ÒÒ &
.
ÒÒ& '
Current
ÒÒ' .
.
ÒÒ. /
CurrentPlaylist
ÒÒ/ >
.
ÒÒ> ?
Insert
ÒÒ? E
(
ÒÒE F

GlobalData
ÒÒF P
.
ÒÒP Q
Current
ÒÒQ X
.
ÒÒX Y
QueuePosition
ÒÒY f
+
ÒÒg h
$num
ÒÒi j
,
ÒÒj k

GlobalData
ÒÒl v
.
ÒÒv w
Current
ÒÒw ~
.
ÒÒ~ 
AudiosÒÒ Ö
[ÒÒÖ Ü
playlistTrackÒÒÜ ì
]ÒÒì î
)ÒÒî ï
;ÒÒï ñ

GlobalData
ÚÚ &
.
ÚÚ& '
Current
ÚÚ' .
.
ÚÚ. /
QueuePosition
ÚÚ/ <
++
ÚÚ< >
;
ÚÚ> ?
}
ÛÛ 
}
ÙÙ 
Global
ıı 
.
ıı 
Application
ıı &
.
ıı& '
ShowSnackbar
ıı' 3
(
ıı3 4
Localization
ıı4 @
.
ıı@ A

SnackQueue
ııA K
)
ııK L
;
ııL M
}
ˆˆ 
}
˜˜ 
}
¯¯ 	
private
˘˘ 
static
˘˘ 
async
˘˘ 
Task
˘˘ !
ArtistAction
˘˘" .
(
˘˘. /
View
˘˘/ 3
sender
˘˘4 :
,
˘˘: ;
string
˘˘< B

artistName
˘˘C M
,
˘˘M N
string
˘˘O U
item
˘˘V Z
)
˘˘Z [
{
˙˙ 	
if
˚˚ 
(
˚˚ 
item
˚˚ 
==
˚˚ 
Localization
˚˚ $
.
˚˚$ %
PlaylistPlay
˚˚% 1
)
˚˚1 2
{
¸¸ 
if
˝˝ 
(
˝˝ 

GlobalData
˝˝ 
.
˝˝ 
Current
˝˝ &
.
˝˝& '
Artists
˝˝' .
[
˝˝. /

artistName
˝˝/ 9
]
˝˝9 :
.
˝˝: ;
Count
˝˝; @
>
˝˝A B
$num
˝˝C D
)
˝˝D E
{
˛˛ 

GlobalData
ˇˇ 
.
ˇˇ 
Current
ˇˇ &
.
ˇˇ& '
MediaPlayer
ˇˇ' 2
.
ˇˇ2 3
LoadPlaylist
ˇˇ3 ?
(
ˇˇ? @

GlobalData
ˇˇ@ J
.
ˇˇJ K
Current
ˇˇK R
.
ˇˇR S
Artists
ˇˇS Z
[
ˇˇZ [

artistName
ˇˇ[ e
]
ˇˇe f
,
ˇˇf g
$num
ˇˇh i
,
ˇˇi j
true
ˇˇk o
,
ˇˇo p
true
ˇˇq u
)
ˇˇu v
;
ˇˇv w
}
ÄÄ 
}
ÅÅ 
else
ÇÇ 
if
ÇÇ 
(
ÇÇ 
item
ÇÇ 
==
ÇÇ 
Localization
ÇÇ )
.
ÇÇ) *
TrackMenuPlaylist
ÇÇ* ;
)
ÇÇ; <
{
ÉÉ 
Page
ÑÑ 
page
ÑÑ 
=
ÑÑ 

NormalPage
ÑÑ &
.
ÑÑ& '
Instance
ÑÑ' /
;
ÑÑ/ 0
List
ÖÖ 
<
ÖÖ 
string
ÖÖ 
>
ÖÖ 
	positions
ÖÖ &
=
ÖÖ' (
new
ÖÖ) ,
List
ÖÖ- 1
<
ÖÖ1 2
string
ÖÖ2 8
>
ÖÖ8 9
(
ÖÖ9 :
)
ÖÖ: ;
{
ÜÜ 
Localization
áá  
.
áá  !
NewPlaylist
áá! ,
}
àà 
;
àà 
foreach
ää 
(
ää 
string
ää 
playlist
ää  (
in
ää) +

GlobalData
ää, 6
.
ää6 7
Current
ää7 >
.
ää> ?
	Playlists
ää? H
.
ääH I
Keys
ääI M
)
ääM N
	positions
ãã 
.
ãã 
Add
ãã !
(
ãã! "
playlist
ãã" *
)
ãã* +
;
ãã+ ,
string
çç 
answer
çç 
=
çç 
await
çç  %
page
çç& *
.
çç* + 
DisplayActionSheet
çç+ =
(
çç= >
Localization
çç> J
.
ççJ K
ChoosePlaylist
ççK Y
,
ççY Z
Localization
çç[ g
.
ççg h
Cancel
ççh n
,
ççn o
null
ççp t
,
ççt u
	positions
ççv 
.çç Ä
ToArrayççÄ á
(ççá à
)ççà â
)ççâ ä
;ççä ã
if
èè 
(
èè 
answer
èè 
==
èè 
Localization
èè *
.
èè* +
NewPlaylist
èè+ 6
)
èè6 7
{
êê 
string
ëë 
playlist
ëë #
=
ëë$ %
await
ëë& +
page
ëë, 0
.
ëë0 1 
DisplayPromptAsync
ëë1 C
(
ëëC D
Localization
ëëD P
.
ëëP Q
NewPlaylist
ëëQ \
,
ëë\ ]
Localization
ëë^ j
.
ëëj k
NewPlaylistHint
ëëk z
,
ëëz {
Localizationëë| à
.ëëà â
Addëëâ å
,ëëå ç
Localizationëëé ö
.ëëö õ
Cancelëëõ °
,ëë° ¢
Localizationëë£ Ø
.ëëØ ∞
Playlistëë∞ ∏
,ëë∏ π
-ëë∫ ª
$numëëª º
,ëëº Ω
nullëëæ ¬
,ëë¬ √
Localizationëëƒ –
.ëë– —
NewPlaylistëë— ‹
)ëë‹ ›
;ëë› ﬁ
if
ìì 
(
ìì 
!
ìì 
string
ìì 
.
ìì  
IsNullOrEmpty
ìì  -
(
ìì- .
playlist
ìì. 6
)
ìì6 7
)
ìì7 8
{
îî 
foreach
ïï 
(
ïï  !
var
ïï! $
playlistItem
ïï% 1
in
ïï2 4

GlobalData
ïï5 ?
.
ïï? @
Current
ïï@ G
.
ïïG H
Artists
ïïH O
[
ïïO P

artistName
ïïP Z
]
ïïZ [
)
ïï[ \
{
ññ 
if
óó 
(
óó  

GlobalData
óó  *
.
óó* +
Current
óó+ 2
.
óó2 3
	Playlists
óó3 <
.
óó< =
ContainsKey
óó= H
(
óóH I
playlist
óóI Q
)
óóQ R
)
óóR S

GlobalData
òò  *
.
òò* +
Current
òò+ 2
.
òò2 3
	Playlists
òò3 <
[
òò< =
playlist
òò= E
]
òòE F
.
òòF G
Add
òòG J
(
òòJ K
playlistItem
òòK W
)
òòW X
;
òòX Y
else
ôô  

GlobalData
öö  *
.
öö* +
Current
öö+ 2
.
öö2 3
	Playlists
öö3 <
.
öö< =
Add
öö= @
(
öö@ A
playlist
ööA I
,
ööI J
new
ööK N
List
ööO S
<
ööS T
string
ööT Z
>
ööZ [
(
öö[ \
)
öö\ ]
{
öö^ _
playlistItem
öö` l
}
ööm n
)
öön o
;
ööo p
}
õõ 

GlobalData
ùù "
.
ùù" #
Current
ùù# *
.
ùù* +

SaveConfig
ùù+ 5
(
ùù5 6
)
ùù6 7
;
ùù7 8
Global
üü 
.
üü 
Application
üü *
.
üü* +
ShowSnackbar
üü+ 7
(
üü7 8
Localization
üü8 D
.
üüD E
SnackPlaylist
üüE R
)
üüR S
;
üüS T
}
†† 
}
°° 
else
¢¢ 
if
¢¢ 
(
¢¢ 

GlobalData
¢¢ #
.
¢¢# $
Current
¢¢$ +
.
¢¢+ ,
	Playlists
¢¢, 5
.
¢¢5 6
ContainsKey
¢¢6 A
(
¢¢A B
answer
¢¢B H
)
¢¢H I
)
¢¢I J
{
££ 
foreach
§§ 
(
§§ 
var
§§  
playlistItem
§§! -
in
§§. 0

GlobalData
§§1 ;
.
§§; <
Current
§§< C
.
§§C D
Artists
§§D K
[
§§K L

artistName
§§L V
]
§§V W
)
§§W X
{
•• 
if
¶¶ 
(
¶¶ 
!
¶¶ 

GlobalData
¶¶ '
.
¶¶' (
Current
¶¶( /
.
¶¶/ 0
	Playlists
¶¶0 9
[
¶¶9 :
answer
¶¶: @
]
¶¶@ A
.
¶¶A B
Contains
¶¶B J
(
¶¶J K
playlistItem
¶¶K W
)
¶¶W X
)
¶¶X Y

GlobalData
ßß &
.
ßß& '
Current
ßß' .
.
ßß. /
	Playlists
ßß/ 8
[
ßß8 9
answer
ßß9 ?
]
ßß? @
.
ßß@ A
Add
ßßA D
(
ßßD E
playlistItem
ßßE Q
)
ßßQ R
;
ßßR S
}
®® 

GlobalData
´´ 
.
´´ 
Current
´´ &
.
´´& '

SaveConfig
´´' 1
(
´´1 2
)
´´2 3
;
´´3 4
}
¨¨ 
(
ÆÆ 
sender
ÆÆ 
as
ÆÆ 
ArtistGridItem
ÆÆ )
)
ÆÆ) *
.
ÆÆ* +
Page
ÆÆ+ /
.
ÆÆ/ 0
Init
ÆÆ0 4
(
ÆÆ4 5
)
ÆÆ5 6
;
ÆÆ6 7
}
ØØ 
else
∞∞ 
if
∞∞ 
(
∞∞ 
item
∞∞ 
==
∞∞ 
Localization
∞∞ )
.
∞∞) *
TrackMenuQueue
∞∞* 8
)
∞∞8 9
{
±± 
if
≤≤ 
(
≤≤ 

GlobalData
≤≤ 
.
≤≤ 
Current
≤≤ &
.
≤≤& '
CurrentPlaylist
≤≤' 6
.
≤≤6 7
Count
≤≤7 <
>
≤≤= >
$num
≤≤? @
)
≤≤@ A
{
≥≥ 
foreach
¥¥ 
(
¥¥ 
var
¥¥  
artistTrack
¥¥! ,
in
¥¥- /

GlobalData
¥¥0 :
.
¥¥: ;
Current
¥¥; B
.
¥¥B C
Artists
¥¥C J
[
¥¥J K

artistName
¥¥K U
]
¥¥U V
)
¥¥V W
{
µµ 
if
∂∂ 
(
∂∂ 

GlobalData
∂∂ &
.
∂∂& '
Current
∂∂' .
.
∂∂. /
Audios
∂∂/ 5
.
∂∂5 6
ContainsKey
∂∂6 A
(
∂∂A B
artistTrack
∂∂B M
)
∂∂M N
)
∂∂N O
{
∑∑ 
if
∏∏ 
(
∏∏  

GlobalData
∏∏  *
.
∏∏* +
Current
∏∏+ 2
.
∏∏2 3
QueuePosition
∏∏3 @
<
∏∏A B

GlobalData
∏∏C M
.
∏∏M N
Current
∏∏N U
.
∏∏U V
PlaylistPosition
∏∏V f
||
∏∏g i

GlobalData
∏∏j t
.
∏∏t u
Current
∏∏u |
.
∏∏| }
QueuePosition∏∏} ä
>∏∏ã å

GlobalData∏∏ç ó
.∏∏ó ò
Current∏∏ò ü
.∏∏ü †
CurrentPlaylist∏∏† Ø
.∏∏Ø ∞
Count∏∏∞ µ
)∏∏µ ∂
{
ππ 

GlobalData
∫∫  *
.
∫∫* +
Current
∫∫+ 2
.
∫∫2 3
QueuePosition
∫∫3 @
=
∫∫A B

GlobalData
∫∫C M
.
∫∫M N
Current
∫∫N U
.
∫∫U V
PlaylistPosition
∫∫V f
;
∫∫f g
}
ªª 

GlobalData
ΩΩ &
.
ΩΩ& '
Current
ΩΩ' .
.
ΩΩ. /
CurrentPlaylist
ΩΩ/ >
.
ΩΩ> ?
Insert
ΩΩ? E
(
ΩΩE F

GlobalData
ΩΩF P
.
ΩΩP Q
Current
ΩΩQ X
.
ΩΩX Y
QueuePosition
ΩΩY f
+
ΩΩg h
$num
ΩΩi j
,
ΩΩj k

GlobalData
ΩΩl v
.
ΩΩv w
Current
ΩΩw ~
.
ΩΩ~ 
AudiosΩΩ Ö
[ΩΩÖ Ü
artistTrackΩΩÜ ë
]ΩΩë í
)ΩΩí ì
;ΩΩì î

GlobalData
ææ &
.
ææ& '
Current
ææ' .
.
ææ. /
QueuePosition
ææ/ <
++
ææ< >
;
ææ> ?
}
øø 
}
¿¿ 
}
¡¡ 
}
¬¬ 
}
√√ 	
private
ƒƒ 
static
ƒƒ 
async
ƒƒ 
Task
ƒƒ ! 
SearchResultAction
ƒƒ" 4
(
ƒƒ4 5
View
ƒƒ5 9
sender
ƒƒ: @
,
ƒƒ@ A
string
ƒƒB H
tag
ƒƒI L
,
ƒƒL M
string
ƒƒN T
item
ƒƒU Y
)
ƒƒY Z
{
≈≈ 	
Page
∆∆ 
page
∆∆ 
=
∆∆ 

NormalPage
∆∆ "
.
∆∆" #
Instance
∆∆# +
;
∆∆+ ,
if
»» 
(
»» 
item
»» 
==
»» 
Localization
»» $
.
»»$ %
Download
»»% -
)
»»- .
{
…… 
string
   
[
   
]
   
elems
   
=
    
tag
  ! $
.
  $ %
Split
  % *
(
  * +

GlobalData
  + 5
.
  5 6
	SEPARATOR
  6 ?
)
  ? @
;
  @ A
YoutubeClient
ÀÀ 
client
ÀÀ $
=
ÀÀ% &
new
ÀÀ' *
YoutubeClient
ÀÀ+ 8
(
ÀÀ8 9
)
ÀÀ9 :
;
ÀÀ: ;
string
ÃÃ 

playlistId
ÃÃ !
=
ÃÃ" #
$str
ÃÃ$ &
;
ÃÃ& '
string
ÕÕ 
playlistName
ÕÕ #
=
ÕÕ$ %
$str
ÕÕ& (
;
ÕÕ( )
var
ŒŒ 
urlType
ŒŒ 
=
ŒŒ 
SearchProcessing
ŒŒ .
.
ŒŒ. /
	CheckLink
ŒŒ/ 8
(
ŒŒ8 9
elems
ŒŒ9 >
[
ŒŒ> ?
$num
ŒŒ? @
]
ŒŒ@ A
)
ŒŒA B
;
ŒŒB C
if
–– 
(
–– 
urlType
–– 
.
–– 
ContainsKey
–– '
(
––' (
SearchProcessing
––( 8
.
––8 9
Query
––9 >
.
––> ?
Playlist
––? G
)
––G H
)
––H I
{
—— 
if
““ 
(
““ 
urlType
““ 
.
““  
ContainsKey
““  +
(
““+ ,
SearchProcessing
““, <
.
““< =
Query
““= B
.
““B C
Video
““C H
)
““H I
)
““I J
{
”” 
if
‘‘ 
(
‘‘ 
await
‘‘ !

NormalPage
‘‘" ,
.
‘‘, -
Instance
‘‘- 5
.
‘‘5 6
DisplayAlert
‘‘6 B
(
‘‘B C
Localization
‘‘C O
.
‘‘O P
Question
‘‘P X
,
‘‘X Y
Localization
‘‘Z f
.
‘‘f g
PlaylistOrTrack
‘‘g v
,
‘‘v w
Localization‘‘x Ñ
.‘‘Ñ Ö
Track‘‘Ö ä
,‘‘ä ã
Localization‘‘å ò
.‘‘ò ô
Playlist‘‘ô °
)‘‘° ¢
)‘‘¢ £
{
’’ 

playlistId
÷÷ &
=
÷÷' (
$str
÷÷) +
;
÷÷+ ,
}
◊◊ 
else
ÿÿ 
{
ŸŸ 

playlistId
⁄⁄ &
=
⁄⁄' (
urlType
⁄⁄) 0
[
⁄⁄0 1
SearchProcessing
⁄⁄1 A
.
⁄⁄A B
Query
⁄⁄B G
.
⁄⁄G H
Playlist
⁄⁄H P
]
⁄⁄P Q
;
⁄⁄Q R
if
‹‹ 
(
‹‹  
await
‹‹  %

NormalPage
‹‹& 0
.
‹‹0 1
Instance
‹‹1 9
.
‹‹9 :
DisplayAlert
‹‹: F
(
‹‹F G
Localization
‹‹G S
.
‹‹S T
Question
‹‹T \
,
‹‹\ ]
Localization
‹‹^ j
.
‹‹j k
PlaylistDownload
‹‹k {
,
‹‹{ |
Localization‹‹} â
.‹‹â ä
Yes‹‹ä ç
,‹‹ç é
Localization‹‹è õ
.‹‹õ ú
No‹‹ú û
)‹‹û ü
)‹‹ü †
{
›› 
var
ﬁﬁ  #
playlist
ﬁﬁ$ ,
=
ﬁﬁ- .
await
ﬁﬁ/ 4
client
ﬁﬁ5 ;
.
ﬁﬁ; <
	Playlists
ﬁﬁ< E
.
ﬁﬁE F
GetAsync
ﬁﬁF N
(
ﬁﬁN O
urlType
ﬁﬁO V
[
ﬁﬁV W
SearchProcessing
ﬁﬁW g
.
ﬁﬁg h
Query
ﬁﬁh m
.
ﬁﬁm n
Playlist
ﬁﬁn v
]
ﬁﬁv w
)
ﬁﬁw x
;
ﬁﬁx y
string
ﬂﬂ  &
newPlaylistName
ﬂﬂ' 6
=
ﬂﬂ7 8
await
ﬂﬂ9 >

NormalPage
ﬂﬂ? I
.
ﬂﬂI J
Instance
ﬂﬂJ R
.
ﬂﬂR S 
DisplayPromptAsync
ﬂﬂS e
(
ﬂﬂe f
Localization
ﬂﬂf r
.
ﬂﬂr s
NewPlaylist
ﬂﬂs ~
,
ﬂﬂ~ 
LocalizationﬂﬂÄ å
.ﬂﬂå ç
NewPlaylistHintﬂﬂç ú
,ﬂﬂú ù
$strﬂﬂû ¢
,ﬂﬂ¢ £
Localizationﬂﬂ§ ∞
.ﬂﬂ∞ ±
Cancelﬂﬂ± ∑
,ﬂﬂ∑ ∏
Localizationﬂﬂπ ≈
.ﬂﬂ≈ ∆
NewPlaylistﬂﬂ∆ —
,ﬂﬂ— “
-ﬂﬂ” ‘
$numﬂﬂ‘ ’
,ﬂﬂ’ ÷
nullﬂﬂ◊ €
,ﬂﬂ€ ‹
playlistﬂﬂ› Â
.ﬂﬂÂ Ê
TitleﬂﬂÊ Î
)ﬂﬂÎ Ï
;ﬂﬂÏ Ì
playlistName
‡‡  ,
=
‡‡- .
string
‡‡/ 5
.
‡‡5 6 
IsNullOrWhiteSpace
‡‡6 H
(
‡‡H I
newPlaylistName
‡‡I X
)
‡‡X Y
?
‡‡Z [
$str
‡‡\ ^
:
‡‡_ `
newPlaylistName
‡‡a p
;
‡‡p q
}
·· 
}
‚‚ 
}
„„ 
}
‰‰ 
if
ÊÊ 
(
ÊÊ 

playlistId
ÊÊ 
==
ÊÊ !
$str
ÊÊ" $
)
ÊÊ$ %
{
ÁÁ  
DownloadProcessing
ËË &
.
ËË& '
Add
ËË' *
(
ËË* +
$str
ËË+ -
,
ËË- .
elems
ËË/ 4
[
ËË4 5
$num
ËË5 6
]
ËË6 7
,
ËË7 8
elems
ËË9 >
[
ËË> ?
$num
ËË? @
]
ËË@ A
,
ËËA B
$str
ËËC E
)
ËËE F
;
ËËF G
}
ÈÈ 
else
ÍÍ 
{
ÎÎ  
DownloadProcessing
ÏÏ &
.
ÏÏ& '
AddRange
ÏÏ' /
(
ÏÏ/ 0
await
ÏÏ0 5
client
ÏÏ6 <
.
ÏÏ< =
	Playlists
ÏÏ= F
.
ÏÏF G
GetVideosAsync
ÏÏG U
(
ÏÏU V

playlistId
ÏÏV `
)
ÏÏ` a
,
ÏÏa b
playlistName
ÏÏc o
,
ÏÏo p

playlistId
ÏÏq {
)
ÏÏ{ |
;
ÏÏ| }
}
ÌÌ 
}
ÓÓ 
else
ÔÔ 
if
ÔÔ 
(
ÔÔ 
item
ÔÔ 
==
ÔÔ 
Localization
ÔÔ )
.
ÔÔ) *
TrackMenuPlaylist
ÔÔ* ;
)
ÔÔ; <
{
 
string
ÒÒ 
[
ÒÒ 
]
ÒÒ 
elems
ÒÒ 
=
ÒÒ  
tag
ÒÒ! $
.
ÒÒ$ %
Split
ÒÒ% *
(
ÒÒ* +

GlobalData
ÒÒ+ 5
.
ÒÒ5 6
	SEPARATOR
ÒÒ6 ?
)
ÒÒ? @
;
ÒÒ@ A
ConsoleDebug
ÚÚ 
.
ÚÚ 
	WriteLine
ÚÚ &
(
ÚÚ& '
$str
ÚÚ' .
+
ÚÚ/ 0
tag
ÚÚ1 4
)
ÚÚ4 5
;
ÚÚ5 6
YoutubeClient
ÛÛ 
client
ÛÛ $
=
ÛÛ% &
new
ÛÛ' *
YoutubeClient
ÛÛ+ 8
(
ÛÛ8 9
)
ÛÛ9 :
;
ÛÛ: ;
var
ÙÙ 
urlType
ÙÙ 
=
ÙÙ 
SearchProcessing
ÙÙ .
.
ÙÙ. /
	CheckLink
ÙÙ/ 8
(
ÙÙ8 9
elems
ÙÙ9 >
[
ÙÙ> ?
$num
ÙÙ? @
]
ÙÙ@ A
)
ÙÙA B
;
ÙÙB C
if
ˆˆ 
(
ˆˆ 
urlType
ˆˆ 
.
ˆˆ 
ContainsKey
ˆˆ '
(
ˆˆ' (
SearchProcessing
ˆˆ( 8
.
ˆˆ8 9
Query
ˆˆ9 >
.
ˆˆ> ?
Video
ˆˆ? D
)
ˆˆD E
)
ˆˆE F
{
˜˜ 
List
¯¯ 
<
¯¯ 
string
¯¯ 
>
¯¯  
	positions
¯¯! *
=
¯¯+ ,
new
¯¯- 0
List
¯¯1 5
<
¯¯5 6
string
¯¯6 <
>
¯¯< =
(
¯¯= >
)
¯¯> ?
{
˘˘ 
Localization
˙˙ $
.
˙˙$ %
NewPlaylist
˙˙% 0
}
˚˚ 
;
˚˚ 
foreach
˝˝ 
(
˝˝ 
string
˝˝ #
playlist
˝˝$ ,
in
˝˝- /

GlobalData
˝˝0 :
.
˝˝: ;
Current
˝˝; B
.
˝˝B C
	Playlists
˝˝C L
.
˝˝L M
Keys
˝˝M Q
)
˝˝Q R
	positions
˛˛ !
.
˛˛! "
Add
˛˛" %
(
˛˛% &
playlist
˛˛& .
)
˛˛. /
;
˛˛/ 0
string
ÄÄ 
answer
ÄÄ !
=
ÄÄ" #
await
ÄÄ$ )
page
ÄÄ* .
.
ÄÄ. / 
DisplayActionSheet
ÄÄ/ A
(
ÄÄA B
Localization
ÄÄB N
.
ÄÄN O
ChoosePlaylist
ÄÄO ]
,
ÄÄ] ^
Localization
ÄÄ_ k
.
ÄÄk l
Cancel
ÄÄl r
,
ÄÄr s
null
ÄÄt x
,
ÄÄx y
	positionsÄÄz É
.ÄÄÉ Ñ
ToArrayÄÄÑ ã
(ÄÄã å
)ÄÄå ç
)ÄÄç é
;ÄÄé è
if
ÇÇ 
(
ÇÇ 
!
ÇÇ 

GlobalData
ÇÇ "
.
ÇÇ" #
Current
ÇÇ# *
.
ÇÇ* +
SavedTracks
ÇÇ+ 6
.
ÇÇ6 7
ContainsKey
ÇÇ7 B
(
ÇÇB C
urlType
ÇÇC J
[
ÇÇJ K
SearchProcessing
ÇÇK [
.
ÇÇ[ \
Query
ÇÇ\ a
.
ÇÇa b
Video
ÇÇb g
]
ÇÇg h
)
ÇÇh i
)
ÇÇi j
{
ÉÉ 
var
ÑÑ 
video
ÑÑ !
=
ÑÑ" #
await
ÑÑ$ )
client
ÑÑ* 0
.
ÑÑ0 1
Videos
ÑÑ1 7
.
ÑÑ7 8
GetAsync
ÑÑ8 @
(
ÑÑ@ A
urlType
ÑÑA H
[
ÑÑH I
SearchProcessing
ÑÑI Y
.
ÑÑY Z
Query
ÑÑZ _
.
ÑÑ_ `
Video
ÑÑ` e
]
ÑÑe f
)
ÑÑf g
;
ÑÑg h
var
ÜÜ 
mediaSource
ÜÜ '
=
ÜÜ( )
new
ÜÜ* -
Core
ÜÜ. 2
.
ÜÜ2 3
Media
ÜÜ3 8
.
ÜÜ8 9
MediaSource
ÜÜ9 D
(
ÜÜD E
)
ÜÜE F
{
áá 
Artist
àà "
=
àà# $
video
àà% *
.
àà* +
Author
àà+ 1
,
àà1 2
Duration
ââ $
=
ââ% &
video
ââ' ,
.
ââ, -
Duration
ââ- 5
,
ââ5 6
FilePath
ää $
=
ää% &
video
ää' ,
.
ää, -
Id
ää- /
,
ää/ 0
Title
ãã !
=
ãã" #
video
ãã$ )
.
ãã) *
Title
ãã* /
,
ãã/ 0
Type
åå  
=
åå! "
Core
åå# '
.
åå' (
Media
åå( -
.
åå- .
MediaSource
åå. 9
.
åå9 :

SourceType
åå: D
.
ååD E
Web
ååE H
}
çç 
;
çç 
try
èè 
{
êê 
using
ëë !
	WebClient
ëë" +
	webClient
ëë, 5
=
ëë6 7
new
ëë8 ;
	WebClient
ëë< E
(
ëëE F
)
ëëF G
;
ëëG H
byte
íí  
[
íí  !
]
íí! "
	thumbData
íí# ,
=
íí- .
	webClient
íí/ 8
.
íí8 9
DownloadData
íí9 E
(
ííE F
video
ííF K
.
ííK L

Thumbnails
ííL V
.
ííV W
MediumResUrl
ííW c
)
ííc d
;
ííd e
mediaSource
ìì '
.
ìì' (
Image
ìì( -
=
ìì. /
	thumbData
ìì0 9
;
ìì9 :
}
îî 
catch
ïï 
{
ññ 
}
òò 

GlobalData
öö "
.
öö" #
Current
öö# *
.
öö* +
SavedTracks
öö+ 6
.
öö6 7
Add
öö7 :
(
öö: ;
urlType
öö; B
[
ööB C
SearchProcessing
ööC S
.
ööS T
Query
ööT Y
.
ööY Z
Video
ööZ _
]
öö_ `
,
öö` a
mediaSource
ööb m
)
ööm n
;
öön o

GlobalData
õõ "
.
õõ" #
Current
õõ# *
.
õõ* +
SaveSavedTracks
õõ+ :
(
õõ: ;
)
õõ; <
;
õõ< =
}
úú 
if
ûû 
(
ûû 
answer
ûû 
==
ûû !
Localization
ûû" .
.
ûû. /
NewPlaylist
ûû/ :
)
ûû: ;
{
üü 
string
†† 
playlist
†† '
=
††( )
await
††* /
page
††0 4
.
††4 5 
DisplayPromptAsync
††5 G
(
††G H
Localization
††H T
.
††T U
NewPlaylist
††U `
,
††` a
Localization
††b n
.
††n o
NewPlaylistHint
††o ~
,
††~ 
Localization††Ä å
.††å ç
Add††ç ê
,††ê ë
Localization††í û
.††û ü
Cancel††ü •
,††• ¶
Localization††ß ≥
.††≥ ¥
Playlist††¥ º
,††º Ω
-††æ ø
$num††ø ¿
,††¿ ¡
null††¬ ∆
,††∆ «
Localization††» ‘
.††‘ ’
NewPlaylist††’ ‡
)††‡ ·
;††· ‚
if
¢¢ 
(
¢¢ 
!
¢¢ 
string
¢¢ #
.
¢¢# $
IsNullOrEmpty
¢¢$ 1
(
¢¢1 2
playlist
¢¢2 :
)
¢¢: ;
)
¢¢; <
{
££ 
if
§§ 
(
§§  

GlobalData
§§  *
.
§§* +
Current
§§+ 2
.
§§2 3
	Playlists
§§3 <
.
§§< =
ContainsKey
§§= H
(
§§H I
playlist
§§I Q
)
§§Q R
)
§§R S

GlobalData
••  *
.
••* +
Current
••+ 2
.
••2 3
	Playlists
••3 <
[
••< =
playlist
••= E
]
••E F
.
••F G
Add
••G J
(
••J K
urlType
••K R
[
••R S
SearchProcessing
••S c
.
••c d
Query
••d i
.
••i j
Video
••j o
]
••o p
)
••p q
;
••q r
else
¶¶  

GlobalData
ßß  *
.
ßß* +
Current
ßß+ 2
.
ßß2 3
	Playlists
ßß3 <
.
ßß< =
Add
ßß= @
(
ßß@ A
playlist
ßßA I
,
ßßI J
new
ßßK N
List
ßßO S
<
ßßS T
string
ßßT Z
>
ßßZ [
(
ßß[ \
)
ßß\ ]
{
ßß^ _
urlType
ßß` g
[
ßßg h
SearchProcessing
ßßh x
.
ßßx y
Query
ßßy ~
.
ßß~ 
Videoßß Ñ
]ßßÑ Ö
}ßßÜ á
)ßßá à
;ßßà â

GlobalData
©© &
.
©©& '
Current
©©' .
.
©©. /"
PlaylistsNeedRefresh
©©/ C
=
©©D E
true
©©F J
;
©©J K

GlobalData
™™ &
.
™™& '
Current
™™' .
.
™™. /

SaveConfig
™™/ 9
(
™™9 :
)
™™: ;
;
™™; <
Global
¨¨ "
.
¨¨" #
Application
¨¨# .
.
¨¨. /
ShowSnackbar
¨¨/ ;
(
¨¨; <
Localization
¨¨< H
.
¨¨H I
SnackPlaylist
¨¨I V
)
¨¨V W
;
¨¨W X
}
≠≠ 
}
ÆÆ 
else
ØØ 
if
ØØ 
(
ØØ 

GlobalData
ØØ '
.
ØØ' (
Current
ØØ( /
.
ØØ/ 0
	Playlists
ØØ0 9
.
ØØ9 :
ContainsKey
ØØ: E
(
ØØE F
answer
ØØF L
)
ØØL M
)
ØØM N
{
∞∞ 
if
±± 
(
±± 
!
±± 

GlobalData
±± '
.
±±' (
Current
±±( /
.
±±/ 0
	Playlists
±±0 9
[
±±9 :
answer
±±: @
]
±±@ A
.
±±A B
Contains
±±B J
(
±±J K
urlType
±±K R
[
±±R S
SearchProcessing
±±S c
.
±±c d
Query
±±d i
.
±±i j
Video
±±j o
]
±±o p
)
±±p q
)
±±q r

GlobalData
≤≤ &
.
≤≤& '
Current
≤≤' .
.
≤≤. /
	Playlists
≤≤/ 8
[
≤≤8 9
answer
≤≤9 ?
]
≤≤? @
.
≤≤@ A
Add
≤≤A D
(
≤≤D E
urlType
≤≤E L
[
≤≤L M
SearchProcessing
≤≤M ]
.
≤≤] ^
Query
≤≤^ c
.
≤≤c d
Video
≤≤d i
]
≤≤i j
)
≤≤j k
;
≤≤k l

GlobalData
¥¥ "
.
¥¥" #
Current
¥¥# *
.
¥¥* +"
PlaylistsNeedRefresh
¥¥+ ?
=
¥¥@ A
true
¥¥B F
;
¥¥F G

GlobalData
µµ "
.
µµ" #
Current
µµ# *
.
µµ* +

SaveConfig
µµ+ 5
(
µµ5 6
)
µµ6 7
;
µµ7 8
Global
∂∂ 
.
∂∂ 
Application
∂∂ *
.
∂∂* +
ShowSnackbar
∂∂+ 7
(
∂∂7 8
Localization
∂∂8 D
.
∂∂D E
SnackPlaylist
∂∂E R
)
∂∂R S
;
∂∂S T
}
∑∑ 
}
∏∏ 
}
ππ 
}
∫∫ 	
}
ºº 
}ΩΩ ‹
?D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Logic\CoreMessenger.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Logic !
{ 
public 

class 
CoreMessenger 
:  
ICoreMessage! -
{		 
public

 
void

 
	ShowError

 
(

 
string

 $
message

% ,
)

, -
{ 	
ShowMessage 
( 
message 
)  
;  !
} 	
public 
void 
ShowMessage 
(  
string  &
message' .
). /
{ 	
Device 
. #
BeginInvokeOnMainThread *
(* +
async+ 0
(1 2
)2 3
=>4 6
{ 
await 

NormalPage  
.  !
Instance! )
.) *
DisplayAlert* 6
(6 7
Localization7 C
.C D
WarningD K
,K L
messageM T
,T U
$strV Z
)Z [
;[ \
} 
) 
; 
} 	
public 
void 
ShowSnackbar  
(  !
string! '
message( /
)/ 0
{ 	
Global 
. 
Application 
. 
ShowSnackbar +
(+ ,
message, 3
)3 4
;4 5
} 	
} 
} ⁄
>D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Logic\IApplication.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Logic !
{ 
public 

	interface 
IApplication !
{ 
string 

GetVersion 
( 
) 
; 
bool 
HasInternet 
( 
) 
; 
void 
ShowSnackbar 
( 
string  
message! (
)( )
;) *
void 
AddFolderToScan 
( 
) 
; 
}		 
}

 ƒ
ED:\Projekty\CS\Newtone\Newtone.Mobile.UI\Logic\IContextMenuBuilder.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Logic !
{ 
public 

	interface 
IContextMenuBuilder (
{		 
void

 
BuildForTrack

 
(

 
View

 
sender

  &
,

& '
string

( .
	modelInfo

/ 8
,

8 9
string

: @
filePath

A I
,

I J
string

K Q
playlistName

R ^
,

^ _
List

` d
<

d e
string

e k
>

k l
elements

m u
,

u v
Func

w {
<

{ |
string	

| Ç
,


Ç É
string


É â
,


â ä
string


ä ê
,


ê ë
Task


ë ï
>


ï ñ
action


ó ù
)


ù û
;


û ü
void 
BuildForSyncList 
( 
View "
sender# )
,) *
string+ 1
	modelInfo2 ;
,; <
List= A
<A B
stringB H
>H I
elementsJ R
,R S
ActionT Z
<Z [
string[ a
>a b
actionc i
)i j
;j k
void 
BuildForPlaylist 
( 
View "
sender# )
,) *
string+ 1
playlistName2 >
,> ?
List@ D
<D E
stringE K
>K L
elementsM U
,U V
FuncW [
<[ \
View\ `
,` a
stringb h
,h i
stringj p
,p q
Taskr v
>v w
actionx ~
)~ 
;	 Ä
void 
BuildForArtist 
( 
View  
sender! '
,' (
string) /

artistName0 :
,: ;
List< @
<@ A
stringA G
>G H
elementsI Q
,Q R
FuncS W
<W X
ViewX \
,\ ]
string^ d
,d e
stringf l
,l m
Taskn r
>r s
actiont z
)z {
;{ |
void  
BuildForSearchResult !
(! "
View" &
sender' -
,- .
string/ 5
	modelInfo6 ?
,? @
ListA E
<E F
stringF L
>L M
elementsN V
,V W
FuncX \
<\ ]
View] a
,a b
stringc i
,i j
stringk q
,q r
Tasks w
>w x
actiony 
)	 Ä
;
Ä Å
} 
} Ù
BD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Logic\IImageProcessing.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Logic !
{ 
public 

	interface 
IImageProcessing %
{		 
ImageSource

 
Blur

 
(

 
byte

 
[

 
]

 
source

  &
)

& '
;

' (
ImageSource 
Blur 
( 
ImageSource $
source% +
)+ ,
;, -
} 
} Ò
=D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Logic\IPermission.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Logic !
{ 
public 

	interface 
IPermission  
{ 
bool 
IsValid 
( 
) 
; 
void 
Request 
( 
) 
; 
} 
} ›D
CD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Logic\NavigationWrapper.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Logic !
{		 
public

 

class

 
NavigationWrapper

 "
{ 
private 
INavigation 

Navigation &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
IReadOnlyList 
< 
Page !
>! "
NavigationStack# 2
{ 	
get 
=> 

Navigation 
. 
NavigationStack -
;- .
} 	
public 
IReadOnlyList 
< 
Page !
>! "

ModalStack# -
{ 	
get 
=> 

Navigation 
. 

ModalStack (
;( )
} 	
public 
NavigationWrapper  
(  !
INavigation! ,
nav- 0
)0 1
{ 	

Navigation 
= 
nav 
; 
} 	
public 
async 
Task 
	PushAsync #
(# $
Page$ (
page) -
)- .
{   	
if!! 
(!! 

Navigation!! 
.!! 
NavigationStack!! *
.!!* +
Count!!+ 0
>!!1 2
$num!!3 4
)!!4 5
{"" 
if## 
(## 

Navigation## 
.## 
NavigationStack## .
.##. /
Last##/ 3
(##3 4
)##4 5
is##6 8 
INavigationContainer##9 M
	container##N W
)##W X
{$$ 
if%% 
(%% 
!%% 
	container%% "
.%%" #
	IsBlocked%%# ,
(%%, -
)%%- .
)%%. /
{&& 
	container'' !
.''! "
Block''" '
(''' (
)''( )
;'') *
await(( 

Navigation(( (
?((( )
.(() *
	PushAsync((* 3
(((3 4
page((4 8
)((8 9
;((9 :
})) 
}** 
}++ 
else,, 
await-- 

Navigation--  
?--  !
.--! "
	PushAsync--" +
(--+ ,
page--, 0
)--0 1
;--1 2
}.. 	
public00 
async00 
Task00 
PushModalAsync00 (
(00( )
Page00) -
page00. 2
)002 3
{11 	
bool22 

navBlocked22 
=22 
false22 #
;22# $
bool33 
modalBlocked33 
=33 
false33  %
;33% &
if44 
(44 

Navigation44 
.44 
NavigationStack44 *
.44* +
Count44+ 0
>441 2
$num443 4
)444 5
{55 
if66 
(66 

Navigation66 
.66 
NavigationStack66 .
.66. /
Last66/ 3
(663 4
)664 5
is666 8 
INavigationContainer669 M
	container66N W
)66W X
{77 
	container88 
.88 
Block88 #
(88# $
)88$ %
;88% &

navBlocked99 
=99  
true99! %
;99% &
}:: 
};; 
else<< 

navBlocked== 
=== 
true== !
;==! "
if?? 
(?? 

Navigation?? 
.?? 

ModalStack?? %
.??% &
Count??& +
>??, -
$num??. /
)??/ 0
{@@ 
ifAA 
(AA 

NavigationAA 
.AA 

ModalStackAA )
.AA) *
LastAA* .
(AA. /
)AA/ 0
isAA1 3 
INavigationContainerAA4 H
	containerAAI R
)AAR S
{BB 
	containerCC 
.CC 
BlockCC #
(CC# $
)CC$ %
;CC% &
modalBlockedDD  
=DD! "
trueDD# '
;DD' (
varEE 
modalEE 
=EE 

NavigationEE  *
.EE* +

ModalStackEE+ 5
.EE5 6
LastEE6 :
(EE: ;
)EE; <
;EE< =
varFF 
modal1FF 
=FF  
pageFF! %
;FF% &
ifHH 
(HH 
modalHH 
.HH 
GetTypeHH %
(HH% &
)HH& '
!=HH( *
modal1HH+ 1
.HH1 2
GetTypeHH2 9
(HH9 :
)HH: ;
)HH; <
modalBlockedII $
=II% &
falseII' ,
;II, -
ifKK 
(KK 
modalKK 
isKK  
	ModalPageKK! *

modalPage1KK+ 5
&&KK6 8
modal1KK9 ?
isKK@ B
	ModalPageKKC L

modalPage2KKM W
)KKW X
{LL 
ifMM 
(MM 

modalPage1MM &
.MM& '
GetContentTypeMM' 5
(MM5 6
)MM6 7
!=MM8 :

modalPage2MM; E
.MME F
GetContentTypeMMF T
(MMT U
)MMU V
)MMV W
modalBlockedNN (
=NN) *
falseNN+ 0
;NN0 1
}OO 
}PP 
}QQ 
ifSS 
(SS 
!SS 

navBlockedSS 
||SS 
!SS  
modalBlockedSS  ,
)SS, -
{TT 
awaitUU 

NavigationUU  
?UU  !
.UU! "
PushModalAsyncUU" 0
(UU0 1
pageUU1 5
)UU5 6
;UU6 7
}VV 
}XX 	
publicZZ 
asyncZZ 
TaskZZ 
PopAsyncZZ "
(ZZ" #
)ZZ# $
{[[ 	
await\\ 

Navigation\\ 
?\\ 
.\\ 
PopAsync\\ &
(\\& '
)\\' (
;\\( )
if]] 
(]] 

Navigation]] 
.]] 
NavigationStack]] *
.]]* +
Count]]+ 0
>]]1 2
$num]]3 4
)]]4 5
{^^ 
if__ 
(__ 

Navigation__ 
.__ 
NavigationStack__ .
.__. /
Last__/ 3
(__3 4
)__4 5
is__6 8 
INavigationContainer__9 M
	container__N W
)__W X
	container`` 
.`` 
Unblock`` %
(``% &
)``& '
;``' (
}aa 
}bb 	
publiccc 
asynccc 
Taskcc 
PopModalAsynccc '
(cc' (
)cc( )
{dd 	
awaitff 

Navigationff 
?ff 
.ff 
PopModalAsyncff +
(ff+ ,
)ff, -
;ff- .
ifgg 
(gg 

Navigationgg 
.gg 
NavigationStackgg *
.gg* +
Countgg+ 0
>gg1 2
$numgg3 4
)gg4 5
{hh 
ifii 
(ii 

Navigationii 
.ii 
NavigationStackii .
.ii. /
Lastii/ 3
(ii3 4
)ii4 5
isii6 8 
INavigationContainerii9 M
	containeriiN W
)iiW X
	containerjj 
.jj 
Unblockjj %
(jj% &
)jj& '
;jj' (
}kk 
ifmm 
(mm 

Navigationmm 
.mm 

ModalStackmm %
.mm% &
Countmm& +
>mm, -
$nummm. /
)mm/ 0
{nn 
ifoo 
(oo 

Navigationoo 
.oo 

ModalStackoo )
.oo) *
Lastoo* .
(oo. /
)oo/ 0
isoo1 3 
INavigationContaineroo4 H
	containerooI R
)ooR S
	containerpp 
.pp 
Unblockpp %
(pp% &
)pp& '
;pp' (
}qq 
}rr 	
publicss 
asyncss 
voidss 
Popss 
(ss 
)ss 
{tt 	
ifuu 
(uu 

Navigationuu 
.uu 

ModalStackuu %
.uu% &
Countuu& +
>uu, -
$numuu. /
)uu/ 0
awaitvv 
PopModalAsyncvv #
(vv# $
)vv$ %
;vv% &
elseww 
{xx 
ifyy 
(yy 

Navigationyy 
.yy 
NavigationStackyy .
.yy. /
Countyy/ 4
>yy5 6
$numyy7 8
)yy8 9
awaitzz 
PopAsynczz "
(zz" #
)zz# $
;zz$ %
}{{ 
}|| 	
}~~ 
} ‹
9D:\Projekty\CS\Newtone\Newtone.Mobile.UI\MainPage.xaml.cs
	namespace		 	$
XamarinMobileProjectTest		
 "
{

 
public 

partial 
class 
MainPage !
:" #
ContentPage$ /
{ 
public 
MainPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} á
>D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Models\ArtistModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Models "
{ 
public 

class 
ArtistModel 
: 
Newtone &
.& '
Core' +
.+ ,
Models, 2
.2 3
ArtistModel3 >
{ 
private 
ImageSource 
image !
;! "
public 
ImageSource 
Image  
{ 	
get 
=> 
image 
; 
set 
{ 
image 
= 
value 
; 
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
} 
} ´
@D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Models\DownloadModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Models "
{ 
public 

class 
DownloadModel 
:  
Newtone! (
.( )
Core) -
.- .
Models. 4
.4 5
DownloadModel5 B
{ 
private 
string  
progressStringMobile +
;+ ,
public		 
string		  
ProgressStringMobile		 *
{

 	
get 
{ 
return  
progressStringMobile +
;+ ,
} 
set 
{  
progressStringMobile $
=% &
value' ,
;, -
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
public 
DownloadModel 
( 
Newtone $
.$ %
Core% )
.) *
Models* 0
.0 1
DownloadModel1 >
model? D
)D E
{ 	
this 
. 
Id 
= 
model 
. 
Id 
; 
this 
. 
PlaylistName 
= 
model  %
.% &
PlaylistName& 2
;2 3
this 
. 
Progress 
= 
model !
.! "
Progress" *
;* +
this 
.  
ProgressStringMobile %
=& '
model( -
.- .
ProgressString. <
;< =
this 
. 
Title 
= 
model 
. 
Title $
;$ %
} 	
}   
}!! ç
@D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Models\PlaylistModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Models "
{ 
public 

class 
PlaylistModel 
:  
Newtone! (
.( )
Core) -
.- .
Models. 4
.4 5
PlaylistModel5 B
{ 
private 
ImageSource 
image !
;! "
public 
ImageSource 
Image  
{ 	
get 
=> 
image 
; 
set 
{ 
image 
= 
value 
; 
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
} 
} æ&
DD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Models\SearchResultModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Models "
{ 
public 

class 
SearchResultModel "
:# $
Newtone% ,
., -
Core- 1
.1 2
Models2 8
.8 9
SearchResultModel9 J
{ 
private 
ImageSource 
thumb !
;! "
public 
ImageSource 
Thumb  
{ 	
get 
{ 

CheckThumb 
( 
) 
; 
return 
thumb 
; 
} 
set 
{ 
if 
( 
thumb 
!= 
value "
)" #
{   
thumb!! 
=!! 
value!! !
;!!! "
OnPropertyChanged"" %
(""% &
)""& '
;""' (
}## 
}$$ 
}%% 	
public&& 
Color&& 
BackgroundColor&& $
{'' 	
get(( 
=>(( 
	IsOffline(( 
?(( 
Color(( $
.(($ %
FromHex((% ,
(((, -
$str((- 6
)((6 7
:((8 9
Color((: ?
.((? @
Transparent((@ K
;((K L
})) 	
public++ 
bool++ 
	IsVisible++ 
=>++  
!++! "
	IsOffline++" +
;+++ ,
private.. 
ICommand.. 
downloadClicked.. (
;..( )
public// 
ICommand// 
DownloadClicked// '
{00 	
get11 
{22 
if33 
(33 
downloadClicked33 #
==33$ &
null33' +
)33+ ,
downloadClicked44 #
=44$ %
new44& )
ActionCommand44* 7
(447 8
async448 =
(44> ?
	parameter44? H
)44H I
=>44J L
{55 
ContextMenuBuilder66 *
.66* + 
BuildForSearchResult66+ ?
(66? @
	parameter66@ I
as66J L
View66M Q
,66Q R
(66S T
	parameter66T ]
as66^ `
CustomImageButton66a r
)66r s
.66s t
Tag66t w
)66w x
;66x y
}77 
)77 
;77 
return99 
downloadClicked99 &
;99& '
}:: 
set;; 
=>;; 
downloadClicked;; "
=;;# $
value;;% *
;;;* +
}<< 	
public?? 
SearchResultModel??  
(??  !
Newtone??! (
.??( )
Core??) -
.??- .
Models??. 4
.??4 5
SearchResultModel??5 F
model??G L
)??L M
{@@ 	
thisAA 
.AA 
AuthorAA 
=AA 
modelAA 
.AA  
AuthorAA  &
;AA& '
thisBB 
.BB 
DurationBB 
=BB 
modelBB !
.BB! "
DurationBB" *
;BB* +
thisCC 
.CC 
IdCC 
=CC 
modelCC 
.CC 
IdCC 
;CC 
thisDD 
.DD 
ImageDD 
=DD 
modelDD 
.DD 
ImageDD $
;DD$ %
thisEE 
.EE 
MixIdEE 
=EE 
modelEE 
.EE 
MixIdEE $
;EE$ %
thisFF 
.FF 
ThumbUrlFF 
=FF 
modelFF !
.FF! "
ThumbUrlFF" *
;FF* +
thisGG 
.GG 
TitleGG 
=GG 
modelGG 
.GG 
TitleGG $
;GG$ %
thisHH 
.HH 
	VideoDataHH 
=HH 
modelHH "
.HH" #
	VideoDataHH# ,
;HH, -
}II 	
publicLL 
voidLL 
CheckChangesLL  
(LL  !
)LL! "
{MM 	

CheckThumbNN 
(NN 
)NN 
;NN 
}OO 	
privateRR 
voidRR 

CheckThumbRR 
(RR  
)RR  !
{SS 	
ifTT 
(TT 
thumbTT 
==TT 
nullTT 
&&TT  
ImageTT! &
!=TT' )
nullTT* .
)TT. /
{UU 
thumbVV 
=VV 
ImageProcessingVV '
.VV' (
	FromArrayVV( 1
(VV1 2
ImageVV2 7
)VV7 8
;VV8 9
OnPropertyChangedWW !
(WW! "
(WW" #
)WW# $
=>WW% '
ThumbWW( -
)WW- .
;WW. /
}XX 
}YY 	
}[[ 
}\\ €	
@D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Models\SettingsModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Models "
{ 
public 

class 
SettingsModel 
:  
PropertyChangedBase! 4
{ 
private 
string 
name 
; 
private		 
string		 
description		 "
;		" #
public 
string 
Name 
{ 	
get 
=> 
name 
; 
set 
{ 
name 
= 
value 
; 
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
public 
string 
Description !
{ 	
get 
=> 
description 
; 
set 
{ 
description 
= 
value #
;# $
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
} 
}   ûL
=D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Models\TrackModel.cs
	namespace

 	
Newtone


 
.

 
Mobile

 
.

 
UI

 
.

 
Models

 "
{ 
public 

class 

TrackModel 
: 
Newtone %
.% &
Core& *
.* +
Models+ 1
.1 2

TrackModel2 <
{ 
private 
bool 
	isVisible 
; 
private 
string 
trackString "
;" #
private 
string 
playlistName #
;# $
private 
ImageSource 
image !
;! "
private 
bool 
allowContextMenu %
;% &
public 
string 
PlaylistName "
{ 	
get 
=> 
playlistName 
;  
set 
{ 
playlistName 
= 
value $
;$ %
OnPropertyChanged !
(! "
)" #
;# $
OnPropertyChanged !
(! "
(" #
)# $
=>% '
Info( ,
), -
;- .
} 
}   	
public!! 
string!! 
Info!! 
{"" 	
get## 
{$$ 
return%% 
string%% 
.%% 
Concat%% $
(%%$ %
FilePath%%% -
,%%- .

GlobalData%%/ 9
.%%9 :
	SEPARATOR%%: C
,%%C D
PlaylistName%%E Q
)%%Q R
;%%R S
}&& 
}'' 	
public)) 
bool)) 
	IsVisible)) 
{** 	
get++ 
{++ 
return++ 
	isVisible++ "
;++" #
}++$ %
set,, 
{-- 
if.. 
(.. 
	isVisible.. 
!=..  
value..! &
)..& '
{// 
	isVisible00 
=00 
value00  %
;00% &
OnPropertyChanged11 %
(11% &
)11& '
;11' (
}22 
}33 
}44 	
public66 
string66 
TrackString66 !
{77 	
get88 
{99 
return:: 
trackString:: "
;::" #
};; 
set<< 
{== 
string>> 
newValue>> 
=>>  !
value>>" '
;>>' (
if?? 
(?? 
newValue?? 
!=?? 
trackString??  +
)??+ ,
{@@ 
trackStringAA 
=AA  !
newValueAA" *
;AA* +
OnPropertyChangedBB %
(BB% &
)BB& '
;BB' (
}CC 
}DD 
}EE 	
publicFF 
ImageSourceFF 
ImageFF  
{GG 	
getHH 
=>HH 
imageHH 
;HH 
setII 
{JJ 
imageKK 
=KK 
valueKK 
;KK 
OnPropertyChangedLL !
(LL! "
)LL" #
;LL# $
}MM 
}NN 	
publicPP 
boolPP 
AllowContextMenuPP $
{QQ 	
getRR 
=>RR 
allowContextMenuRR #
;RR# $
setSS 
{TT 
allowContextMenuUU  
=UU! "
valueUU# (
;UU( )
OnPropertyChangedVV !
(VV! "
)VV" #
;VV# $
}WW 
}XX 	
private[[ 
ICommand[[ 
openMenu[[ !
;[[! "
public\\ 
ICommand\\ 
OpenMenu\\  
{]] 	
get^^ 
{__ 
if`` 
(`` 
openMenu`` 
==`` 
null``  $
)``$ %
openMenuaa 
=aa 
newaa "
ActionCommandaa# 0
(aa0 1
	parameteraa1 :
=>aa; =
{bb 
ContextMenuBuildercc *
.cc* +
BuildForTrackcc+ 8
(cc8 9
(cc9 :
Xamarincc: A
.ccA B
FormsccB G
.ccG H
ViewccH L
)ccL M
	parameterccM V
,ccV W
(ccX Y
(ccY Z
CustomImageButtonccZ k
)cck l
	parameterccl u
)ccu v
.ccv w
Tagccw z
)ccz {
;cc{ |
}dd 
)dd 
;dd 
returnff 
openMenuff 
;ff  
}gg 
}hh 	
publickk 

TrackModelkk 
(kk 
Newtonekk !
.kk! "
Corekk" &
.kk& '
Modelskk' -
.kk- .

TrackModelkk. 8
modelkk9 >
,kk> ?
stringkk@ F
playlistkkG O
=kkP Q
$strkkR T
,kkT U
boolkkV Z
allowContextMenukk[ k
=kkl m
truekkn r
)kkr s
{ll 	
thismm 
.mm 
Artistmm 
=mm 
modelmm 
.mm  
Artistmm  &
;mm& '
thisnn 
.nn 
Durationnn 
=nn 
modelnn !
.nn! "
Durationnn" *
;nn* +
thisoo 
.oo 
FilePathoo 
=oo 
modeloo !
.oo! "
FilePathoo" *
;oo* +
thispp 
.pp 
Titlepp 
=pp 
modelpp 
.pp 
Titlepp $
;pp$ %
thisqq 
.qq 
PlaylistNameqq 
=qq 
playlistqq  (
;qq( )
thisrr 
.rr 
AllowContextMenurr !
=rr" #
allowContextMenurr$ 4
;rr4 5
iftt 
(tt 
FilePathtt 
.tt 
Lengthtt 
>tt  !
$numtt" $
)tt$ %
thisuu 
.uu 
Imageuu 
=uu 
(uu 

GlobalDatauu (
.uu( )
Currentuu) 0
.uu0 1
Audiosuu1 7
[uu7 8
FilePathuu8 @
]uu@ A
.uuA B
ImageuuB G
==uuH J
nulluuK O
||uuP R

GlobalDatauuS ]
.uu] ^
Currentuu^ e
.uue f
Audiosuuf l
[uul m
FilePathuum u
]uuu v
.uuv w
Imageuuw |
.uu| }
Length	uu} É
==
uuÑ Ü
$num
uuá à
)
uuà â
?
uuä ã
ImageSource
uuå ó
.
uuó ò
FromFile
uuò †
(
uu† °
$str
uu° ±
)
uu± ≤
:
uu≥ ¥
ImageProcessing
uuµ ƒ
.
uuƒ ≈
	FromArray
uu≈ Œ
(
uuŒ œ

GlobalData
uuœ Ÿ
.
uuŸ ⁄
Current
uu⁄ ·
.
uu· ‚
Audios
uu‚ Ë
[
uuË È
FilePath
uuÈ Ò
]
uuÒ Ú
.
uuÚ Û
Image
uuÛ ¯
)
uu¯ ˘
;
uu˘ ˙
elsevv 
{ww 
Newtonexx 
.xx 
Corexx 
.xx 
Mediaxx "
.xx" #
MediaSourcexx# .
sourcexx/ 5
=xx6 7
nullxx8 <
;xx< =
ifyy 
(yy 

GlobalDatayy 
.yy 
Currentyy &
.yy& '
SavedTracksyy' 2
.yy2 3
ContainsKeyyy3 >
(yy> ?
FilePathyy? G
)yyG H
)yyH I
sourcezz 
=zz 

GlobalDatazz '
.zz' (
Currentzz( /
.zz/ 0
SavedTrackszz0 ;
[zz; <
FilePathzz< D
]zzD E
;zzE F
else{{ 
source|| 
=|| 

GlobalData|| '
.||' (
Current||( /
.||/ 0
CurrentPlaylist||0 ?
.||? @
Find||@ D
(||D E
src||E H
=>||I K
src||L O
.||O P
FilePath||P X
==||Y [
model||\ a
.||a b
FilePath||b j
)||j k
;||k l
if~~ 
(~~ 
source~~ 
!=~~ 
null~~ "
)~~" #
this 
. 
Image 
=  
(! "
source" (
.( )
Image) .
==/ 1
null2 6
||7 9
source: @
.@ A
ImageA F
.F G
LengthG M
==N P
$numQ R
)R S
?T U
ImageSourceV a
.a b
FromFileb j
(j k
$strk {
){ |
:} ~
ImageProcessing	 é
.
é è
	FromArray
è ò
(
ò ô
source
ô ü
.
ü †
Image
† •
)
• ¶
;
¶ ß
}
ÄÄ 
}
ÅÅ 	
public
ÖÖ 

TrackModel
ÖÖ 
CheckChanges
ÖÖ &
(
ÖÖ& '
)
ÖÖ' (
{
ÜÜ 	
	IsVisible
áá 
=
áá 
FilePath
áá  
==
áá! #

GlobalData
áá$ .
.
áá. /
Current
áá/ 6
.
áá6 7
MediaSourcePath
áá7 F
;
ááF G
TrackString
àà 
=
àà 
Artist
àà  
==
àà! #
Localization
àà$ 0
.
àà0 1
UnknownArtist
àà1 >
?
àà? @
Title
ààA F
:
ààG H
string
ààI O
.
ààO P
Concat
ààP V
(
ààV W
Artist
ààW ]
,
àà] ^
$str
àà_ d
,
ààd e
Title
ààf k
)
ààk l
;
ààl m
return
ââ 
this
ââ 
;
ââ 
}
ää 	
}
åå 
}çç  
FD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Processing\ImageProcessing.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

Processing &
{ 
public 

static 
class 
ImageProcessing '
{ 
public

 
static

 
ImageSource

 !
Blur

" &
(

& '
byte

' +
[

+ ,
]

, -
source

. 4
)

4 5
{ 	
return 
Global 
. 
ImageProcessing )
.) *
Blur* .
(. /
source/ 5
)5 6
;6 7
} 	
public 
static 
ImageSource !
Blur" &
(& '
ImageSource' 2
source3 9
)9 :
{ 	
return 
Global 
. 
ImageProcessing )
.) *
Blur* .
(. /
source/ 5
)5 6
;6 7
} 	
public 
static 
ImageSource !
	FromArray" +
(+ ,
byte, 0
[0 1
]1 2
source3 9
)9 :
{ 	
return 
ImageSource 
. 

FromStream )
() *
(* +
)+ ,
=>- /
new0 3
MemoryStream4 @
(@ A
sourceA G
)G H
)H I
;I J
} 	
} 
} ‰ 
FD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\ArtistViewModel.cs
	namespace

 	
Newtone


 
.

 
Mobile

 
.

 
UI

 
.

 

ViewModels

 &
{ 
public 

class 
ArtistViewModel  
{ 
public  
ObservableCollection #
<# $
ArtistModel$ /
>/ 0
Items1 6
{7 8
get9 <
;< =
private> E
setF I
;I J
}K L
public 
ArtistViewModel 
( 
)  
{ 	
Items 
= 
new  
ObservableCollection ,
<, -
ArtistModel- 8
>8 9
(9 :
): ;
;; <
List 
< 
string 
> 

beforeSort #
=$ %
new& )
List* .
<. /
string/ 5
>5 6
(6 7
)7 8
;8 9
string 
unknown 
= 
null !
;! "
foreach 
( 
string 
artist "
in# %

GlobalData& 0
.0 1
Current1 8
.8 9
Artists9 @
.@ A
KeysA E
)E F
{ 
if 
( 
artist 
== 
Localization *
.* +
UnknownArtist+ 8
)8 9
unknown 
= 
artist $
;$ %
else 

beforeSort 
. 
Add "
(" #
artist# )
)) *
;* +
} 
List!! 
<!! 
string!! 
>!! 
	afterSort!! "
=!!# $

beforeSort!!% /
.!!/ 0
OrderBy!!0 7
(!!7 8
o!!8 9
=>!!: <
o!!= >
)!!> ?
.!!? @
ToList!!@ F
(!!F G
)!!G H
;!!H I
if## 
(## 
unknown## 
!=## 
null## 
)##  
	afterSort$$ 
.$$ 
Add$$ 
($$ 
unknown$$ %
)$$% &
;$$& '
foreach&& 
(&& 
var&& 

artistName&& #
in&&$ &
	afterSort&&' 0
)&&0 1
{'' 
ImageSource(( 
image(( !
=((" #
ImageSource(($ /
.((/ 0
FromFile((0 8
(((8 9
$str((9 I
)((I J
;((J K
foreach)) 
()) 
string)) 
filePath))  (
in))) +

GlobalData)), 6
.))6 7
Current))7 >
.))> ?
Artists))? F
[))F G

artistName))G Q
]))Q R
)))R S
{** 
var++ 
source++ 
=++  

GlobalData++! +
.+++ ,
Current++, 3
.++3 4
Audios++4 :
[++: ;
filePath++; C
]++C D
;++D E
if,, 
(,, 
source,, 
.,, 
Image,, $
!=,,% '
null,,( ,
),,, -
{-- 
image.. 
=.. 
ImageProcessing..  /
.../ 0
	FromArray..0 9
(..9 :
source..: @
...@ A
Image..A F
)..F G
;..G H
break// 
;// 
}00 
}11 
Items33 
.33 
Add33 
(33 
new33 
ArtistModel33 )
(33) *
)33* +
{33, -
Image33. 3
=334 5
image336 ;
,33; <
Name33= A
=33B C

artistName33D N
,33N O

TrackCount33P Z
=33[ \

GlobalData33] g
.33g h
Current33h o
.33o p
Artists33p w
[33w x

artistName	33x Ç
]
33Ç É
.
33É Ñ
Count
33Ñ â
}
33ä ã
)
33ã å
;
33å ç
}44 
}55 	
}77 
}88 ‡/
OD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\CurrentPlaylistViewModel.cs
	namespace

 	
Newtone


 
.

 
Mobile

 
.

 
UI

 
.

 

ViewModels

 &
{ 
public 

class $
CurrentPlaylistViewModel )
:* +
PropertyChangedBase, ?
{ 
private 
bool 
isRefreshing !
;! "
public  
ObservableCollection #
<# $

TrackModel$ .
>. /

TrackItems0 :
{; <
get= @
;@ A
setB E
;E F
}G H
public 
bool 
IsRefreshing  
{ 	
get 
=> 
isRefreshing 
;  
set 
{ 
isRefreshing 
= 
value $
;$ %
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
private 
ICommand 
refresh  
;  !
public 
ICommand 
Refresh 
{   	
get!! 
{"" 
if## 
(## 
refresh## 
==## 
null## #
)### $
refresh$$ 
=$$ 
new$$ !
ActionCommand$$" /
($$/ 0
	parameter$$0 9
=>$$: <
{%% 
IsRefreshing&& $
=&&% &
true&&' +
;&&+ ,

TrackItems'' "
=''# $
new''% ( 
ObservableCollection'') =
<''= >

TrackModel''> H
>''H I
(''I J
)''J K
;''K L
foreach(( 
(((  !
var((! $
track((% *
in((+ -

GlobalData((. 8
.((8 9
Current((9 @
.((@ A
CurrentPlaylist((A P
)((P Q
{)) 

TrackItems** &
.**& '
Add**' *
(*** +
new**+ .

TrackModel**/ 9
(**9 :
track**: ?
,**? @
$str**A C
,**C D
false**E J
)**J K
)**K L
;**L M
}++ 
IsRefreshing,, $
=,,% &
false,,' ,
;,,, -
}-- 
)-- 
;-- 
return.. 
refresh.. 
;.. 
}// 
}00 	
public33 $
CurrentPlaylistViewModel33 '
(33' (
)33( )
{44 	

TrackItems55 
=55 
new55  
ObservableCollection55 1
<551 2

TrackModel552 <
>55< =
(55= >
)55> ?
;55? @
foreach66 
(66 
var66 
track66 
in66 !

GlobalData66" ,
.66, -
Current66- 4
.664 5
CurrentPlaylist665 D
)66D E
{77 

TrackItems88 
.88 
Add88 
(88 
new88 "

TrackModel88# -
(88- .
track88. 3
,883 4
$str885 7
,887 8
false889 >
)88> ?
)88? @
;88@ A
}99 
}:: 	
public== 
void== &
TrackListView_ItemSelected== .
(==. /
object==/ 5
sender==6 <
,==< =(
SelectedItemChangedEventArgs==> Z
e==[ \
)==\ ]
{>> 	
int?? 
index?? 
=?? 
e?? 
.?? 
SelectedItemIndex?? +
;??+ ,
ifAA 
(AA 
indexAA 
>=AA 
$numAA 
&&AA 
indexAA #
<AA$ %

TrackItemsAA& 0
.AA0 1
CountAA1 6
)AA6 7
{BB 

GlobalDataCC 
.CC 
CurrentCC "
.CC" #
MediaPlayerCC# .
.CC. /
LoadPlaylistCC/ ;
(CC; <

TrackItemsCC< F
.CCF G
SelectCCG M
(CCM N
itemCCN R
=>CCS U
itemCCV Z
.CCZ [
FilePathCC[ c
)CCc d
.CCd e
ToListCCe k
(CCk l
)CCl m
,CCm n
indexCCo t
,CCt u
trueCCv z
,CCz {
true	CC| Ä
)
CCÄ Å
;
CCÅ Ç
(DD 
senderDD 
asDD 
XamarinDD "
.DD" #
FormsDD# (
.DD( )
ListViewDD) 1
)DD1 2
.DD2 3
SelectedItemDD3 ?
=DD@ A
nullDDB F
;DDF G
}EE 
}FF 	
publicHH 
voidHH 
TickHH 
(HH 
)HH 
{II 	
foreachJJ 
(JJ 
varJJ 
modelJJ 
inJJ !

TrackItemsJJ" ,
.JJ, -
ToListJJ- 3
(JJ3 4
)JJ4 5
)JJ5 6
modelKK 
.KK 
CheckChangesKK "
(KK" #
)KK# $
;KK$ %
ifMM 
(MM 

GlobalDataMM 
.MM 
CurrentMM !
.MM! "&
CurrentPlaylistNeedRefreshMM" <
)MM< =
{NN 

TrackItemsOO 
.OO 
ClearOO  
(OO  !
)OO! "
;OO" #
foreachQQ 
(QQ 
varQQ 
trackQQ !
inQQ" $

GlobalDataQQ% /
.QQ/ 0
CurrentQQ0 7
.QQ7 8
CurrentPlaylistQQ8 G
.QQG H
ToListQQH N
(QQN O
)QQO P
)QQP Q
{RR 

TrackItemsSS 
.SS 
AddSS "
(SS" #
newSS# &

TrackModelSS' 1
(SS1 2
trackSS2 7
,SS7 8
$strSS9 ;
,SS; <
falseSS= B
)SSB C
)SSC D
;SSD E
}TT 

GlobalDataUU 
.UU 
CurrentUU "
.UU" #&
CurrentPlaylistNeedRefreshUU# =
=UU> ?
falseUU@ E
;UUE F
}VV 
}WW 	
}YY 
}ZZ ◊w
MD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\CurrentTracksViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
{ 
public 

class "
CurrentTracksViewModel '
:( )
PropertyChangedBase* =
{ 
private 
bool 
isRefreshing !
;! "
private 
readonly 
List 
< 
string $
>$ %
tracks& ,
;, -
private 
readonly 
string 
playlistName  ,
;, -
public  
ObservableCollection #
<# $

TrackModel$ .
>. /

TrackItems0 :
{; <
get= @
;@ A
privateB I
setJ M
;M N
}O P
public 
bool 
IsRefreshing  
{ 	
get 
=> 
isRefreshing 
;  
set 
{ 
isRefreshing 
= 
value $
;$ %
OnPropertyChanged !
(! "
)" #
;# $
} 
}   	
private## 
ICommand## 
refresh##  
;##  !
public$$ 
ICommand$$ 
Refresh$$ 
{%% 	
get&& 
{'' 
if(( 
((( 
refresh(( 
==(( 
null(( #
)((# $
refresh)) 
=)) 
new)) !
ActionCommand))" /
())/ 0
	parameter))0 9
=>)): <
{** 
IsRefreshing++ $
=++% &
true++' +
;+++ ,
List,, 
<,, 

TrackModel,, '
>,,' (

beforeSort,,) 3
=,,4 5
new,,6 9
List,,: >
<,,> ?

TrackModel,,? I
>,,I J
(,,J K
),,K L
;,,L M
foreach-- 
(--  !
string--! '
track--( -
in--. 0
tracks--1 7
)--7 8
{.. 
if// 
(//  

GlobalData//  *
.//* +
Current//+ 2
.//2 3
Audios//3 9
.//9 :
ContainsKey//: E
(//E F
track//F K
)//K L
)//L M
{00 

beforeSort11  *
.11* +
Add11+ .
(11. /
new11/ 2

TrackModel113 =
(11= >

GlobalData11> H
.11H I
Current11I P
.11P Q
Audios11Q W
[11W X
track11X ]
]11] ^
,11^ _
playlistName11` l
)11l m
.11m n
CheckChanges11n z
(11z {
)11{ |
)11| }
;11} ~
}22 
}33 

TrackItems44 "
=44# $
new44% ( 
ObservableCollection44) =
<44= >

TrackModel44> H
>44H I
(44I J
playlistName44J V
==44W Y
$str44Z \
?44] ^

beforeSort44_ i
.44i j
OrderBy44j q
(44q r
item44r v
=>44w y
item44z ~
.44~ 
TrackString	44 ä
)
44ä ã
.
44ã å
ToList
44å í
(
44í ì
)
44ì î
:
44ï ñ

beforeSort
44ó °
)
44° ¢
;
44¢ £
IsRefreshing55 $
=55% &
false55' ,
;55, -
}66 
)66 
;66 
return77 
refresh77 
;77 
}88 
}99 	
public<< "
CurrentTracksViewModel<< %
(<<% &
List<<& *
<<<* +
string<<+ 1
><<1 2
tracks<<3 9
,<<9 :
string<<; A
playlistName<<B N
)<<N O
{== 	
this>> 
.>> 
tracks>> 
=>> 
tracks>>  
;>>  !
this?? 
.?? 
playlistName?? 
=?? 
playlistName??  ,
;??, -
List@@ 
<@@ 

TrackModel@@ 
>@@ 

beforeSort@@ '
=@@( )
new@@* -
List@@. 2
<@@2 3

TrackModel@@3 =
>@@= >
(@@> ?
)@@? @
;@@@ A
foreachAA 
(AA 
stringAA 
trackAA !
inAA" $
tracksAA% +
)AA+ ,
{BB 
ifCC 
(CC 

GlobalDataCC 
.CC 
CurrentCC &
.CC& '
AudiosCC' -
.CC- .
ContainsKeyCC. 9
(CC9 :
trackCC: ?
)CC? @
)CC@ A
{DD 

beforeSortEE 
.EE 
AddEE "
(EE" #
newEE# &

TrackModelEE' 1
(EE1 2

GlobalDataEE2 <
.EE< =
CurrentEE= D
.EED E
AudiosEEE K
[EEK L
trackEEL Q
]EEQ R
,EER S
playlistNameEET `
)EE` a
.EEa b
CheckChangesEEb n
(EEn o
)EEo p
)EEp q
;EEq r
}FF 
elseGG 
ifGG 
(GG 

GlobalDataGG "
.GG" #
CurrentGG# *
.GG* +
SavedTracksGG+ 6
.GG6 7
ContainsKeyGG7 B
(GGB C
trackGGC H
)GGH I
)GGI J
{HH 

beforeSortII 
.II 
AddII "
(II" #
newII# &

TrackModelII' 1
(II1 2

GlobalDataII2 <
.II< =
CurrentII= D
.IID E
SavedTracksIIE P
[IIP Q
trackIIQ V
]IIV W
,IIW X
playlistNameIIY e
)IIe f
.IIf g
CheckChangesIIg s
(IIs t
)IIt u
)IIu v
;IIv w
}JJ 
}KK 

TrackItemsLL 
=LL 
newLL  
ObservableCollectionLL 1
<LL1 2

TrackModelLL2 <
>LL< =
(LL= >
playlistNameLL> J
==LLK M
$strLLN P
?LLQ R

beforeSortLLS ]
.LL] ^
OrderByLL^ e
(LLe f
itemLLf j
=>LLk m
itemLLn r
.LLr s
TrackStringLLs ~
)LL~ 
.	LL Ä
ToList
LLÄ Ü
(
LLÜ á
)
LLá à
:
LLâ ä

beforeSort
LLã ï
)
LLï ñ
;
LLñ ó
}MM 	
publicQQ 
voidQQ 
TickQQ 
(QQ 
)QQ 
{RR 	
ifSS 
(SS 

TrackItemsSS 
.SS 
CountSS  
==SS! #
$numSS$ %
)SS% &
{TT 
_UU 
=UU 

NormalPageUU 
.UU 
NavigationInstanceUU 1
.UU1 2
PopModalAsyncUU2 ?
(UU? @
)UU@ A
;UUA B
returnVV 
;VV 
}WW 
ifYY 
(YY 

GlobalDataYY 
.YY 
CurrentYY !
.YY! " 
PlaylistsNeedRefreshYY" 6
)YY6 7
{ZZ 

TrackItems[[ 
.[[ 
Clear[[  
([[  !
)[[! "
;[[" #
List]] 
<]] 

TrackModel]] 
>]]  

beforeSort]]! +
=]], -
new]]. 1
List]]2 6
<]]6 7

TrackModel]]7 A
>]]A B
(]]B C
)]]C D
;]]D E
foreach^^ 
(^^ 
string^^ 
track^^  %
in^^& (
tracks^^) /
)^^/ 0
{__ 
if`` 
(`` 

GlobalData`` "
.``" #
Current``# *
.``* +
Audios``+ 1
.``1 2
ContainsKey``2 =
(``= >
track``> C
)``C D
)``D E
{aa 

beforeSortbb "
.bb" #
Addbb# &
(bb& '
newbb' *

TrackModelbb+ 5
(bb5 6

GlobalDatabb6 @
.bb@ A
CurrentbbA H
.bbH I
AudiosbbI O
[bbO P
trackbbP U
]bbU V
,bbV W
playlistNamebbX d
)bbd e
.bbe f
CheckChangesbbf r
(bbr s
)bbs t
)bbt u
;bbu v
}cc 
elsedd 
ifdd 
(dd 

GlobalDatadd '
.dd' (
Currentdd( /
.dd/ 0
SavedTracksdd0 ;
.dd; <
ContainsKeydd< G
(ddG H
trackddH M
)ddM N
)ddN O
{ee 

beforeSortff "
.ff" #
Addff# &
(ff& '
newff' *

TrackModelff+ 5
(ff5 6

GlobalDataff6 @
.ff@ A
CurrentffA H
.ffH I
SavedTracksffI T
[ffT U
trackffU Z
]ffZ [
,ff[ \
playlistNameff] i
)ffi j
.ffj k
CheckChangesffk w
(ffw x
)ffx y
)ffy z
;ffz {
}gg 
}hh 
varii 
	afterSortii 
=ii 
playlistNameii  ,
==ii- /
$strii0 2
?ii3 4

beforeSortii5 ?
.ii? @
OrderByii@ G
(iiG H
itemiiH L
=>iiM O
itemiiP T
.iiT U
TrackStringiiU `
)ii` a
.iia b
ToListiib h
(iih i
)iii j
:iik l

beforeSortiim w
;iiw x
foreachkk 
(kk 
varkk 
itemkk  
inkk! #
	afterSortkk$ -
)kk- .
{ll 

TrackItemsmm 
.mm 
Addmm "
(mm" #
itemmm# '
)mm' (
;mm( )
}nn 

GlobalDatapp 
.pp 
Currentpp "
.pp" # 
PlaylistsNeedRefreshpp# 7
=pp8 9
falsepp: ?
;pp? @
}qq 
foreachss 
(ss 
varss 
modelss 
inss !

TrackItemsss" ,
.ss, -
ToListss- 3
(ss3 4
)ss4 5
)ss5 6
{tt 
ifvv 
(vv 

GlobalDatavv 
.vv 
Currentvv &
.vv& '
Audiosvv' -
.vv- .
ContainsKeyvv. 9
(vv9 :
modelvv: ?
.vv? @
FilePathvv@ H
)vvH I
)vvI J
{ww 
varxx 
sourcexx 
=xx  

GlobalDataxx! +
.xx+ ,
Currentxx, 3
.xx3 4
Audiosxx4 :
[xx: ;
modelxx; @
.xx@ A
FilePathxxA I
]xxI J
;xxJ K
ifyy 
(yy 
modelyy 
.yy 
Artistyy $
!=yy% '
sourceyy( .
.yy. /
Artistyy/ 5
||yy6 8
modelyy9 >
.yy> ?
Titleyy? D
!=yyE G
sourceyyH N
.yyN O
TitleyyO T
)yyT U
{zz 
int{{ 
index{{ !
={{" #

TrackItems{{$ .
.{{. /
IndexOf{{/ 6
({{6 7
model{{7 <
){{< =
;{{= >

TrackItems|| "
[||" #
index||# (
]||( )
.||) *
Title||* /
=||0 1
source||2 8
.||8 9
Title||9 >
;||> ?

TrackItems}} "
[}}" #
index}}# (
]}}( )
.}}) *
Artist}}* 0
=}}1 2
source}}3 9
.}}9 :
Artist}}: @
;}}@ A
}~~ 
model 
. 
CheckChanges &
(& '
)' (
;( )
}
ÄÄ 
else
ÅÅ 
if
ÅÅ 
(
ÅÅ 

GlobalData
ÅÅ "
.
ÅÅ" #
Current
ÅÅ# *
.
ÅÅ* +
SavedTracks
ÅÅ+ 6
.
ÅÅ6 7
ContainsKey
ÅÅ7 B
(
ÅÅB C
model
ÅÅC H
.
ÅÅH I
FilePath
ÅÅI Q
)
ÅÅQ R
)
ÅÅR S
{
ÇÇ 
var
ÉÉ 
source
ÉÉ 
=
ÉÉ  

GlobalData
ÉÉ! +
.
ÉÉ+ ,
Current
ÉÉ, 3
.
ÉÉ3 4
SavedTracks
ÉÉ4 ?
[
ÉÉ? @
model
ÉÉ@ E
.
ÉÉE F
FilePath
ÉÉF N
]
ÉÉN O
;
ÉÉO P
if
ÑÑ 
(
ÑÑ 
model
ÑÑ 
.
ÑÑ 
Artist
ÑÑ $
!=
ÑÑ% '
source
ÑÑ( .
.
ÑÑ. /
Artist
ÑÑ/ 5
||
ÑÑ6 8
model
ÑÑ9 >
.
ÑÑ> ?
Title
ÑÑ? D
!=
ÑÑE G
source
ÑÑH N
.
ÑÑN O
Title
ÑÑO T
)
ÑÑT U
{
ÖÖ 
int
ÜÜ 
index
ÜÜ !
=
ÜÜ" #

TrackItems
ÜÜ$ .
.
ÜÜ. /
IndexOf
ÜÜ/ 6
(
ÜÜ6 7
model
ÜÜ7 <
)
ÜÜ< =
;
ÜÜ= >

TrackItems
áá "
[
áá" #
index
áá# (
]
áá( )
.
áá) *
Title
áá* /
=
áá0 1
source
áá2 8
.
áá8 9
Title
áá9 >
;
áá> ?

TrackItems
àà "
[
àà" #
index
àà# (
]
àà( )
.
àà) *
Artist
àà* 0
=
àà1 2
source
àà3 9
.
àà9 :
Artist
àà: @
;
àà@ A
}
ââ 
model
ää 
.
ää 
CheckChanges
ää &
(
ää& '
)
ää' (
;
ää( )
}
ãã 
else
åå 
{
çç 

TrackItems
éé 
.
éé 
Remove
éé %
(
éé% &
model
éé& +
)
éé+ ,
;
éé, -
}
èè 
}
êê 
}
ëë 	
public
ìì 
void
ìì (
TrackListView_ItemSelected
ìì .
(
ìì. /
object
ìì/ 5
sender
ìì6 <
,
ìì< =*
SelectedItemChangedEventArgs
ìì> Z
e
ìì[ \
)
ìì\ ]
{
îî 	
int
ïï 
index
ïï 
=
ïï 
e
ïï 
.
ïï 
SelectedItemIndex
ïï +
;
ïï+ ,
if
óó 
(
óó 
index
óó 
>=
óó 
$num
óó 
&&
óó 
index
óó #
<
óó$ %

TrackItems
óó& 0
.
óó0 1
Count
óó1 6
)
óó6 7
{
òò 

GlobalData
ôô 
.
ôô 
Current
ôô "
.
ôô" #
MediaPlayer
ôô# .
.
ôô. /
LoadPlaylist
ôô/ ;
(
ôô; <

TrackItems
ôô< F
.
ôôF G
Select
ôôG M
(
ôôM N
item
ôôN R
=>
ôôS U
item
ôôV Z
.
ôôZ [
FilePath
ôô[ c
)
ôôc d
.
ôôd e
ToList
ôôe k
(
ôôk l
)
ôôl m
,
ôôm n
index
ôôo t
,
ôôt u
true
ôôv z
,
ôôz {
trueôô| Ä
)ôôÄ Å
;ôôÅ Ç
(
öö 
sender
öö 
as
öö 
Xamarin
öö "
.
öö" #
Forms
öö# (
.
öö( )
ListView
öö) 1
)
öö1 2
.
öö2 3
SelectedItem
öö3 ?
=
öö@ A
null
ööB F
;
ööF G
}
õõ 
}
úú 	
}
ûû 
}üü ∑U
RD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\Custom\PlayerPanelViewModel.cs
	namespace		 	
Newtone		
 
.		 
Mobile		 
.		 
UI		 
.		 

ViewModels		 &
.		& '
Custom		' -
{

 
public 

class  
PlayerPanelViewModel %
:& '
PropertyChangedBase( ;
{ 
private 
bool !
backgroundGridVisible *
;* +
private 
string 
title 
; 
private 
string 
artist 
; 
private 
ImageSource 
	trackBlur %
;% &
private 
ImageSource 

trackImage &
;& '
private 
ImageSource 

playButton &
;& '
private 
bool 
isPlayImage  
=! "
true# '
;' (
private 
string 
playedTrack "
=# $
$str% '
;' (
private 
bool 
isPanelVisible #
;# $
public 
bool !
BackgroundGridVisible )
{ 	
get 
=> !
backgroundGridVisible (
;( )
set 
{ !
backgroundGridVisible %
=& '
value( -
;- .
OnPropertyChanged   !
(  ! "
)  " #
;  # $
}!! 
}"" 	
public$$ 
string$$ 
Title$$ 
{%% 	
get&& 
=>&& 
title&& 
;&& 
set'' 
{(( 
title)) 
=)) 
value)) 
;)) 
OnPropertyChanged** !
(**! "
)**" #
;**# $
}++ 
},, 	
public.. 
string.. 
Artist.. 
{// 	
get00 
=>00 
artist00 
;00 
set11 
{22 
artist33 
=33 
value33 
;33 
OnPropertyChanged44 !
(44! "
)44" #
;44# $
}55 
}66 	
public88 
ImageSource88 

TrackImage88 %
{99 	
get:: 
=>:: 

trackImage:: 
;:: 
set;; 
{<< 

trackImage== 
=== 
value== "
;==" #
OnPropertyChanged>> !
(>>! "
)>>" #
;>># $
}?? 
}@@ 	
publicBB 
ImageSourceBB 
	TrackBlurBB $
{CC 	
getDD 
=>DD 
	trackBlurDD 
;DD 
setEE 
{FF 
	trackBlurGG 
=GG 
valueGG !
;GG! "
OnPropertyChangedHH !
(HH! "
)HH" #
;HH# $
}II 
}JJ 	
publicLL 
ImageSourceLL 

PlayButtonLL %
{MM 	
getNN 
=>NN 

playButtonNN 
;NN 
setOO 
{PP 

playButtonQQ 
=QQ 
valueQQ "
;QQ" #
OnPropertyChangedRR !
(RR! "
)RR" #
;RR# $
}SS 
}TT 	
publicVV 
boolVV 
IsPanelVisibleVV "
{WW 	
getXX 
=>XX 
isPanelVisibleXX !
;XX! "
setYY 
{ZZ 
isPanelVisible[[ 
=[[  
value[[! &
;[[& '
OnPropertyChanged\\ !
(\\! "
)\\" #
;\\# $
}]] 
}^^ 	
privatebb 
ICommandbb 
playPauseCommandbb )
;bb) *
publiccc 
ICommandcc 
	PlayPausecc !
{dd 	
getee 
{ff 
ifgg 
(gg 
playPauseCommandgg $
==gg% '
nullgg( ,
)gg, -
playPauseCommandhh $
=hh% &
newhh' *
ActionCommandhh+ 8
(hh8 9
	parameterhh9 B
=>hhC E
{ii 
ifjj 
(jj 

GlobalDatajj &
.jj& '
Currentjj' .
.jj. /
MediaSourcejj/ :
!=jj; =
nulljj> B
)jjB C
{kk 
ifll 
(ll  

GlobalDatall  *
.ll* +
Currentll+ 2
.ll2 3
MediaPlayerll3 >
.ll> ?
	IsPlayingll? H
)llH I

GlobalDatamm  *
.mm* +
Currentmm+ 2
.mm2 3
MediaPlayermm3 >
.mm> ?
Pausemm? D
(mmD E
)mmE F
;mmF G
elsenn  

GlobalDataoo  *
.oo* +
Currentoo+ 2
.oo2 3
MediaPlayeroo3 >
.oo> ?
Playoo? C
(ooC D
)ooD E
;ooE F
}pp 
}qq 
)qq 
;qq 
returnss 
playPauseCommandss '
;ss' (
}tt 
}uu 	
privateww 
ICommandww 
gotoPlayerCommandww *
;ww* +
publicxx 
ICommandxx 

GotoPlayerxx "
{yy 	
getzz 
{{{ 
if|| 
(|| 
gotoPlayerCommand|| %
==||& (
null||) -
)||- .
gotoPlayerCommand}} %
=}}& '
new}}( +
ActionCommand}}, 9
(}}9 :
async}}: ?
(}}@ A
	parameter}}A J
)}}J K
=>}}L N
{~~ 
if 
( 

GlobalData &
.& '
Current' .
.. /
MediaSource/ :
!=; =
null> B
)B C
{
ÄÄ 
await
ÅÅ !

NormalPage
ÅÅ" ,
.
ÅÅ, - 
NavigationInstance
ÅÅ- ?
.
ÅÅ? @
PushModalAsync
ÅÅ@ N
(
ÅÅN O
new
ÅÅO R
FullScreenPage
ÅÅS a
(
ÅÅa b
)
ÅÅb c
)
ÅÅc d
;
ÅÅd e
}
ÇÇ 
}
ÉÉ 
)
ÉÉ 
;
ÉÉ 
return
ÑÑ 
gotoPlayerCommand
ÑÑ (
;
ÑÑ( )
}
ÖÖ 
}
ÜÜ 	
public
ââ "
PlayerPanelViewModel
ââ #
(
ââ# $
)
ââ$ %
{
ää 	

PlayButton
ãã 
=
ãã 
ImageSource
ãã $
.
ãã$ %
FromFile
ãã% -
(
ãã- .
$str
ãã. <
)
ãã< =
;
ãã= >

TrackImage
åå 
=
åå 
ImageSource
åå $
.
åå$ %
FromFile
åå% -
(
åå- .
$str
åå. >
)
åå> ?
;
åå? @
}
çç 	
public
ëë 
void
ëë 
Tick
ëë 
(
ëë 
)
ëë 
{
íí 	
IsPanelVisible
ìì 
=
ìì 

GlobalData
ìì '
.
ìì' (
Current
ìì( /
.
ìì/ 0
MediaSource
ìì0 ;
!=
ìì< >
null
ìì? C
;
ììC D
if
ïï 
(
ïï 

GlobalData
ïï 
.
ïï 
Current
ïï "
.
ïï" #
MediaSource
ïï# .
!=
ïï/ 1
null
ïï2 6
)
ïï6 7
{
ññ 
Artist
óó 
=
óó 

GlobalData
óó #
.
óó# $
Current
óó$ +
.
óó+ ,
MediaSource
óó, 7
.
óó7 8
Artist
óó8 >
;
óó> ?
Title
òò 
=
òò 

GlobalData
òò "
.
òò" #
Current
òò# *
.
òò* +
MediaSource
òò+ 6
.
òò6 7
Title
òò7 <
;
òò< =
}
ôô 
if
öö 
(
öö 
playedTrack
öö 
!=
öö 

GlobalData
öö )
.
öö) *
Current
öö* 1
.
öö1 2
MediaSourcePath
öö2 A
)
ööA B
{
õõ 
if
ùù 
(
ùù 

GlobalData
ùù 
.
ùù 
Current
ùù &
.
ùù& '
MediaSource
ùù' 2
.
ùù2 3
Image
ùù3 8
!=
ùù9 ;
null
ùù< @
&&
ùùA C

GlobalData
ùùD N
.
ùùN O
Current
ùùO V
.
ùùV W
MediaSource
ùùW b
.
ùùb c
Image
ùùc h
.
ùùh i
Length
ùùi o
>
ùùp q
$num
ùùr s
)
ùùs t
{
ûû 

TrackImage
üü 
=
üü  
ImageProcessing
üü! 0
.
üü0 1
	FromArray
üü1 :
(
üü: ;

GlobalData
üü; E
.
üüE F
Current
üüF M
.
üüM N
MediaSource
üüN Y
.
üüY Z
Image
üüZ _
)
üü_ `
;
üü` a
	TrackBlur
†† 
=
†† 
ImageProcessing
††  /
.
††/ 0
Blur
††0 4
(
††4 5

GlobalData
††5 ?
.
††? @
Current
††@ G
.
††G H
MediaSource
††H S
.
††S T
Image
††T Y
)
††Y Z
;
††Z [#
BackgroundGridVisible
°° )
=
°°* +
true
°°, 0
;
°°0 1
}
¢¢ 
else
££ 
{
§§ 

TrackImage
•• 
=
••  
ImageSource
••! ,
.
••, -
FromFile
••- 5
(
••5 6
$str
••6 F
)
••F G
;
••G H#
BackgroundGridVisible
¶¶ )
=
¶¶* +
false
¶¶, 1
;
¶¶1 2
}
ßß 
playedTrack
©© 
=
©© 

GlobalData
©© (
.
©©( )
Current
©©) 0
.
©©0 1
MediaSourcePath
©©1 @
;
©©@ A
}
™™ 
if
´´ 
(
´´ 
isPlayImage
´´ 
&&
´´ 

GlobalData
´´ )
.
´´) *
Current
´´* 1
.
´´1 2
MediaPlayer
´´2 =
.
´´= >
	IsPlaying
´´> G
)
´´G H
{
¨¨ 

PlayButton
≠≠ 
=
≠≠ 
ImageSource
≠≠ (
.
≠≠( )
FromFile
≠≠) 1
(
≠≠1 2
$str
≠≠2 A
)
≠≠A B
;
≠≠B C
isPlayImage
ÆÆ 
=
ÆÆ 
false
ÆÆ #
;
ÆÆ# $
}
ØØ 
if
±± 
(
±± 
!
±± 
isPlayImage
±± 
&&
±± 
!
±±  !

GlobalData
±±! +
.
±±+ ,
Current
±±, 3
.
±±3 4
MediaPlayer
±±4 ?
.
±±? @
	IsPlaying
±±@ I
)
±±I J
{
≤≤ 

PlayButton
≥≥ 
=
≥≥ 
ImageSource
≥≥ (
.
≥≥( )
FromFile
≥≥) 1
(
≥≥1 2
$str
≥≥2 @
)
≥≥@ A
;
≥≥A B
isPlayImage
¥¥ 
=
¥¥ 
true
¥¥ "
;
¥¥" #
}
µµ 
}
∂∂ 	
}
∏∏ 
}ππ –
HD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\DownloadViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
{ 
public 

class 
DownloadViewModel "
{ 
public

  
ObservableCollection

 #
<

# $
DownloadModel

$ 1
>

1 2
Items

3 8
{

9 :
get

; >
;

> ?
private

@ G
set

H K
;

K L
}

M N
public 
DownloadViewModel  
(  !
)! "
{ 	
Items 
= 
new  
ObservableCollection ,
<, -
DownloadModel- :
>: ;
(; <
)< =
;= >
} 	
public 
void 
Tick 
( 
) 
{ 	
if 
( 
Items 
. 
Count 
!= 
DownloadProcessing 1
.1 2
GetDownloads2 >
(> ?
)? @
.@ A
CountA F
)F G
{ 
Items 
. 
Clear 
( 
) 
; 
foreach 
( 
var 
item !
in" $
DownloadProcessing% 7
.7 8
	GetModels8 A
(A B
)B C
)C D
Items 
. 
Add 
( 
item "
)" #
;# $
} 
for 
( 
int 
a 
= 
$num 
; 
a 
< 
Items  %
.% &
Count& +
;+ ,
a- .
++. 0
)0 1
{ 
Items 
[ 
a 
] 
. 
Progress !
=" #
DownloadProcessing$ 6
.6 7
GetDownloads7 C
(C D
)D E
[E F
ItemsF K
[K L
aL M
]M N
.N O
IdO Q
]Q R
.R S
ProgressS [
;[ \
}   
}!! 	
}## 
}$$ Ó
[D:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\FirstStart\FirstStartSearchViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
.& '

FirstStart' 1
{ 
public 

class %
FirstStartSearchViewModel *
{		 
private 
ICommand 
next 
; 
public 
ICommand 
Next 
{ 	
get 
{ 
if 
( 
next 
== 
null  
)  !
next 
= 
new 
ActionCommand ,
(, -
	parameter- 6
=>7 9
{ 
App 
. 
Instance $
.$ %
MainPage% -
=. /
new0 3

NormalPage4 >
(> ?
)? @
;@ A
Task 
. 
Run  
(  !
async! &
(' (
)( )
=>* ,
{ 
await !
PopToRootAsync" 0
(0 1
)1 2
;2 3
} 
) 
; 
} 
) 
; 
return 
next 
; 
} 
} 	
private   
async   
Task   
PopToRootAsync   )
(  ) *
)  * +
{!! 	
while"" 
("" 
App"" 
."" 
Instance"" 
.""  
MainPage""  (
.""( )

Navigation"") 3
.""3 4

ModalStack""4 >
.""> ?
Count""? D
>""E F
$num""G H
)""H I
{## 
await$$ 
App$$ 
.$$ 
Instance$$ "
.$$" #
MainPage$$# +
.$$+ ,

Navigation$$, 6
.$$6 7
PopModalAsync$$7 D
($$D E
false$$E J
)$$J K
;$$K L
}%% 
}&& 	
}(( 
})) ÙΩ
JD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\FullScreenViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
{ 
public 

class 
FullScreenViewModel $
:% &
PropertyChangedBase' :
{ 
private 
string 
title 
; 
private 
string 
artist 
; 
private 
ImageSource 

trackImage &
;& '
private 
ImageSource 
	trackBlur %
;% &
private 
string  
trackCurrentPosition +
;+ ,
private 
string 
trackDuration $
;$ %
private 
ImageSource 
middleButton (
;( )
private 
ImageSource 

modeButton &
;& '
private 
bool !
backgroundGridVisible *
;* +
private 
double 
audioSliderMax %
;% &
private 
double 
audioSliderValue '
;' (
private 
readonly 
bool 
	stopTimer '
=( )
false* /
;/ 0
private   
bool   
isPlayImage    
=  ! "
true  # '
;  ' (
private!! 
string!! 
playedTrack!! "
=!!# $
$str!!% '
;!!' (
private"" 

PlayerMode"" 

playerMode"" %
=""& '

PlayerMode""( 2
.""2 3
All""3 6
;""6 7
private## 
IDisposable## 
loopSubscription## ,
;##, -
private$$ 
bool$$ 
isLoadingVisible$$ %
;$$% &
public(( 
string(( 
Title(( 
{)) 	
get** 
=>** 
title** 
;** 
set++ 
{,, 
title-- 
=-- 
value-- 
;-- 
OnPropertyChanged.. !
(..! "
).." #
;..# $
}// 
}00 	
public22 
string22 
Artist22 
{33 	
get44 
=>44 
artist44 
;44 
set55 
{66 
artist77 
=77 
value77 
;77 
OnPropertyChanged88 !
(88! "
)88" #
;88# $
}99 
}:: 	
public<< 
ImageSource<< 

TrackImage<< %
{== 	
get>> 
=>>> 

trackImage>> 
;>> 
set?? 
{@@ 

trackImageAA 
=AA 
valueAA "
;AA" #
OnPropertyChangedBB !
(BB! "
)BB" #
;BB# $
}CC 
}DD 	
publicFF 
ImageSourceFF 
	TrackBlurFF $
{GG 	
getHH 
=>HH 
	trackBlurHH 
;HH 
setII 
{JJ 
	trackBlurKK 
=KK 
valueKK !
;KK! "
OnPropertyChangedLL !
(LL! "
)LL" #
;LL# $
}MM 
}NN 	
publicPP 
stringPP  
TrackCurrentPositionPP *
{QQ 	
getRR 
=>RR  
trackCurrentPositionRR '
;RR' (
setSS 
{TT  
trackCurrentPositionUU $
=UU% &
valueUU' ,
;UU, -
OnPropertyChangedVV !
(VV! "
)VV" #
;VV# $
}WW 
}XX 	
publicZZ 
stringZZ 
TrackDurationZZ #
{[[ 	
get\\ 
=>\\ 
trackDuration\\  
;\\  !
set]] 
{^^ 
trackDuration__ 
=__ 
value__  %
;__% &
OnPropertyChanged`` !
(``! "
)``" #
;``# $
}aa 
}bb 	
publicdd 
booldd !
BackgroundGridVisibledd )
{ee 	
getff 
=>ff !
backgroundGridVisibleff (
;ff( )
setgg 
{hh !
backgroundGridVisibleii %
=ii& '
valueii( -
;ii- .
OnPropertyChangedjj !
(jj! "
)jj" #
;jj# $
}kk 
}ll 	
publicnn 
ImageSourcenn 
MiddleButtonnn '
{oo 	
getpp 
=>pp 
middleButtonpp 
;pp  
setqq 
{rr 
middleButtonss 
=ss 
valuess $
;ss$ %
OnPropertyChangedtt !
(tt! "
)tt" #
;tt# $
}uu 
}vv 	
publicxx 
ImageSourcexx 

ModeButtonxx %
{yy 	
getzz 
=>zz 

modeButtonzz 
;zz 
set{{ 
{|| 

modeButton}} 
=}} 
value}} "
;}}" #
OnPropertyChanged~~ !
(~~! "
)~~" #
;~~# $
} 
}
ÄÄ 	
public
ÇÇ 
double
ÇÇ 
AudioSliderMax
ÇÇ $
{
ÉÉ 	
get
ÑÑ 
=>
ÑÑ 
audioSliderMax
ÑÑ !
;
ÑÑ! "
set
ÖÖ 
{
ÜÜ 
if
áá 
(
áá 
audioSliderMax
áá "
!=
áá# %
value
áá& +
)
áá+ ,
{
àà 
audioSliderMax
ââ "
=
ââ# $
value
ââ% *
;
ââ* +
OnPropertyChanged
ää %
(
ää% &
)
ää& '
;
ää' (
}
ãã 
}
åå 
}
çç 	
public
èè 
double
èè 
AudioSliderValue
èè &
{
êê 	
get
ëë 
=>
ëë 
audioSliderValue
ëë #
;
ëë# $
set
íí 
{
ìì 
if
îî 
(
îî 
audioSliderValue
îî $
!=
îî% '
value
îî( -
)
îî- .
{
ïï 
audioSliderValue
ññ $
=
ññ% &
value
ññ' ,
;
ññ, -
OnPropertyChanged
óó %
(
óó% &
)
óó& '
;
óó' (
}
òò 
}
ôô 
}
öö 	
public
úú 
bool
úú 
IsLoadingVisible
úú $
{
ùù 	
get
ûû 
=>
ûû 
isLoadingVisible
ûû #
;
ûû# $
set
üü 
{
†† 
isLoadingVisible
°°  
=
°°! "
value
°°# (
;
°°( )
OnPropertyChanged
¢¢ !
(
¢¢! "
)
¢¢" #
;
¢¢# $
}
££ 
}
§§ 	
private
®® 
ICommand
®® 
repeatChange
®® %
;
®®% &
public
©© 
ICommand
©© 
RepeatChange
©© $
{
™™ 	
get
´´ 
{
¨¨ 
if
≠≠ 
(
≠≠ 
repeatChange
≠≠  
==
≠≠! #
null
≠≠$ (
)
≠≠( )
repeatChange
ÆÆ  
=
ÆÆ! "
new
ÆÆ# &
ActionCommand
ÆÆ' 4
(
ÆÆ4 5
	parameter
ÆÆ5 >
=>
ÆÆ? A
{
ØØ 
int
∞∞ 
oldMode
∞∞ #
=
∞∞$ %
(
∞∞& '
int
∞∞' *
)
∞∞* +

GlobalData
∞∞+ 5
.
∞∞5 6
Current
∞∞6 =
.
∞∞= >

PlayerMode
∞∞> H
;
∞∞H I
int
±± 
newMode
±± #
=
±±$ %
oldMode
±±& -
+
±±. /
$num
±±0 1
;
±±1 2
if
≤≤ 
(
≤≤ 
newMode
≤≤ #
==
≤≤$ &
$num
≤≤' (
)
≤≤( )
newMode
≥≥ #
=
≥≥$ %
$num
≥≥& '
;
≥≥' (

GlobalData
µµ "
.
µµ" #
Current
µµ# *
.
µµ* +

PlayerMode
µµ+ 5
=
µµ6 7
(
µµ8 9

PlayerMode
µµ9 C
)
µµC D
newMode
µµD K
;
µµK L

GlobalData
∂∂ "
.
∂∂" #
Current
∂∂# *
.
∂∂* +

SaveConfig
∂∂+ 5
(
∂∂5 6
)
∂∂6 7
;
∂∂7 8
}
∑∑ 
)
∑∑ 
;
∑∑ 
return
ππ 
repeatChange
ππ #
;
ππ# $
}
∫∫ 
}
ªª 	
private
ΩΩ 
ICommand
ΩΩ 
previousTrack
ΩΩ &
;
ΩΩ& '
public
ææ 
ICommand
ææ 
PreviousTrack
ææ %
{
øø 	
get
¿¿ 
{
¡¡ 
if
¬¬ 
(
¬¬ 
previousTrack
¬¬ !
==
¬¬" $
null
¬¬% )
)
¬¬) *
previousTrack
√√ !
=
√√" #
new
√√$ '
ActionCommand
√√( 5
(
√√5 6
	parameter
√√6 ?
=>
√√@ B
{
ƒƒ 

GlobalData
≈≈ "
.
≈≈" #
Current
≈≈# *
.
≈≈* +
MediaPlayer
≈≈+ 6
.
≈≈6 7
Prev
≈≈7 ;
(
≈≈; <
)
≈≈< =
;
≈≈= >
if
∆∆ 
(
∆∆ 
!
∆∆ 
isPlayImage
∆∆ (
)
∆∆( )

GlobalData
«« &
.
««& '
Current
««' .
.
««. /
MediaPlayer
««/ :
.
««: ;
Play
««; ?
(
««? @
)
««@ A
;
««A B
}
»» 
)
»» 
;
»» 
return
   
previousTrack
   $
;
  $ %
}
ÀÀ 
}
ÃÃ 	
private
ŒŒ 
ICommand
ŒŒ 
playOrPause
ŒŒ $
;
ŒŒ$ %
public
œœ 
ICommand
œœ 
PlayOrPause
œœ #
{
–– 	
get
—— 
{
““ 
if
”” 
(
”” 
playOrPause
”” 
==
””  "
null
””# '
)
””' (
playOrPause
‘‘ 
=
‘‘  !
new
‘‘" %
ActionCommand
‘‘& 3
(
‘‘3 4
	parameter
‘‘4 =
=>
‘‘> @
{
’’ 
if
÷÷ 
(
÷÷ 

GlobalData
÷÷ &
.
÷÷& '
Current
÷÷' .
.
÷÷. /
MediaSource
÷÷/ :
!=
÷÷; =
null
÷÷> B
)
÷÷B C
{
◊◊ 
if
ÿÿ 
(
ÿÿ  

GlobalData
ÿÿ  *
.
ÿÿ* +
Current
ÿÿ+ 2
.
ÿÿ2 3
MediaPlayer
ÿÿ3 >
.
ÿÿ> ?
	IsPlaying
ÿÿ? H
)
ÿÿH I

GlobalData
ŸŸ  *
.
ŸŸ* +
Current
ŸŸ+ 2
.
ŸŸ2 3
MediaPlayer
ŸŸ3 >
.
ŸŸ> ?
Pause
ŸŸ? D
(
ŸŸD E
)
ŸŸE F
;
ŸŸF G
else
⁄⁄  

GlobalData
€€  *
.
€€* +
Current
€€+ 2
.
€€2 3
MediaPlayer
€€3 >
.
€€> ?
Play
€€? C
(
€€C D
)
€€D E
;
€€E F
}
‹‹ 
}
›› 
)
›› 
;
›› 
return
ﬂﬂ 
playOrPause
ﬂﬂ "
;
ﬂﬂ" #
}
‡‡ 
}
·· 	
private
„„ 
ICommand
„„ 
	nextTrack
„„ "
;
„„" #
public
‰‰ 
ICommand
‰‰ 
	NextTrack
‰‰ !
{
ÂÂ 	
get
ÊÊ 
{
ÁÁ 
if
ËË 
(
ËË 
	nextTrack
ËË 
==
ËË  
null
ËË! %
)
ËË% &
	nextTrack
ÈÈ 
=
ÈÈ 
new
ÈÈ  #
ActionCommand
ÈÈ$ 1
(
ÈÈ1 2
	parameter
ÈÈ2 ;
=>
ÈÈ< >
{
ÍÍ 

GlobalData
ÎÎ "
.
ÎÎ" #
Current
ÎÎ# *
.
ÎÎ* +
MediaPlayer
ÎÎ+ 6
.
ÎÎ6 7
Next
ÎÎ7 ;
(
ÎÎ; <
)
ÎÎ< =
;
ÎÎ= >
if
ÏÏ 
(
ÏÏ 
!
ÏÏ 
isPlayImage
ÏÏ (
)
ÏÏ( )

GlobalData
ÌÌ &
.
ÌÌ& '
Current
ÌÌ' .
.
ÌÌ. /
MediaPlayer
ÌÌ/ :
.
ÌÌ: ;
Play
ÌÌ; ?
(
ÌÌ? @
)
ÌÌ@ A
;
ÌÌA B
}
ÓÓ 
)
ÓÓ 
;
ÓÓ 
return
 
	nextTrack
  
;
  !
}
ÒÒ 
}
ÚÚ 	
private
ÙÙ 
ICommand
ÙÙ 
menuButtonCommand
ÙÙ *
;
ÙÙ* +
public
ıı 
ICommand
ıı 
MenuButtonCommand
ıı )
{
ˆˆ 	
get
˜˜ 
{
¯¯ 
if
˘˘ 
(
˘˘ 
menuButtonCommand
˘˘ %
==
˘˘& (
null
˘˘) -
)
˘˘- .
menuButtonCommand
˙˙ %
=
˙˙& '
new
˙˙( +
ActionCommand
˙˙, 9
(
˙˙9 :
	parameter
˙˙: C
=>
˙˙D F
{
˚˚  
ContextMenuBuilder
¸¸ *
.
¸¸* +
BuildForTrack
¸¸+ 8
(
¸¸8 9
(
¸¸9 :
Xamarin
¸¸: A
.
¸¸A B
Forms
¸¸B G
.
¸¸G H
View
¸¸H L
)
¸¸L M
	parameter
¸¸M V
,
¸¸V W

GlobalData
¸¸X b
.
¸¸b c
Current
¸¸c j
.
¸¸j k
MediaSource
¸¸k v
.
¸¸v w
FilePath
¸¸w 
+¸¸Ä Å

GlobalData¸¸Ç å
.¸¸å ç
	SEPARATOR¸¸ç ñ
)¸¸ñ ó
;¸¸ó ò
}
˝˝ 
)
˝˝ 
;
˝˝ 
return
ˇˇ 
menuButtonCommand
ˇˇ (
;
ˇˇ( )
}
ÄÄ 
}
ÅÅ 	
private
ÉÉ 
ICommand
ÉÉ 

expandList
ÉÉ #
;
ÉÉ# $
public
ÑÑ 
ICommand
ÑÑ 

ExpandList
ÑÑ "
{
ÖÖ 	
get
ÜÜ 
{
áá 
if
àà 
(
àà 

expandList
àà 
==
àà !
null
àà" &
)
àà& '

expandList
ââ 
=
ââ  
new
ââ! $
ActionCommand
ââ% 2
(
ââ2 3
async
ââ3 8
(
ââ9 :
	parameter
ââ: C
)
ââC D
=>
ââE G
{
ää 
await
ãã 

NormalPage
ãã (
.
ãã( ) 
NavigationInstance
ãã) ;
.
ãã; <
PushModalAsync
ãã< J
(
ããJ K
new
ããK N
	ModalPage
ããO X
(
ããX Y
new
ããY \!
CurrentPlaylistPage
ãã] p
(
ããp q
)
ããq r
,
ããr s
$str
ããt v
,
ããv w
false
ããx }
,
ãã} ~
falseãã Ñ
)ããÑ Ö
)ããÖ Ü
;ããÜ á
}
åå 
)
åå 
;
åå 
return
çç 

expandList
çç !
;
çç! "
}
éé 
}
èè 	
public
íí !
FullScreenViewModel
íí "
(
íí" #
)
íí# $
{
ìì 	
MiddleButton
îî 
=
îî 
ImageSource
îî &
.
îî& '
FromFile
îî' /
(
îî/ 0
$str
îî0 >
)
îî> ?
;
îî? @

ModeButton
ïï 
=
ïï 
ImageSource
ïï $
.
ïï$ %
FromFile
ïï% -
(
ïï- .
$str
ïï. >
)
ïï> ?
;
ïï? @
}
ññ 	
public
öö 
void
öö 
	Appearing
öö 
(
öö 
)
öö 
{
õõ 	
var
úú 
src
úú 
=
úú 
System
úú 
.
úú 
Reactive
úú %
.
úú% &
Linq
úú& *
.
úú* +

Observable
úú+ 5
.
úú5 6
Timer
úú6 ;
(
úú; <
TimeSpan
úú< D
.
úúD E
Zero
úúE I
,
úúI J
TimeSpan
úúK S
.
úúS T
FromMilliseconds
úúT d
(
úúd e
$num
úúe h
)
úúh i
)
úúi j
.
úúj k
	Timestamp
úúk t
(
úút u
)
úúu v
;
úúv w
loopSubscription
ùù 
=
ùù 
src
ùù "
.
ùù" #
	Subscribe
ùù# ,
(
ùù, -
time
ùù- 1
=>
ùù2 4
Tick
ùù5 9
(
ùù9 :
)
ùù: ;
)
ùù; <
;
ùù< =
}
ûû 	
public
†† 
void
†† 
Disappearing
††  
(
††  !
)
††! "
{
°° 	
loopSubscription
¢¢ 
?
¢¢ 
.
¢¢ 
Dispose
¢¢ %
(
¢¢% &
)
¢¢& '
;
¢¢' (
loopSubscription
££ 
=
££ 
null
££ #
;
££# $
}
§§ 	
public
¶¶ 
void
¶¶ )
AudioSlider_ValueNewChanged
¶¶ /
(
¶¶/ 0 
AudioSliderControl
¶¶0 B
.
¶¶B C
ValueChangedArgs
¶¶C S
e
¶¶T U
)
¶¶U V
{
ßß 	
if
®® 
(
®® 

GlobalData
®® 
.
®® 
Current
®® "
.
®®" #
MediaPlayer
®®# .
.
®®. /
	IsPlaying
®®/ 8
)
®®8 9
{
©© 

GlobalData
™™ 
.
™™ 
Current
™™ "
.
™™" #
MediaPlayer
™™# .
.
™™. /
Seek
™™/ 3
(
™™3 4
e
™™4 5
.
™™5 6
Value
™™6 ;
)
™™; <
;
™™< =
}
´´ 
}
¨¨ 	
private
∞∞ 
bool
∞∞ 
Tick
∞∞ 
(
∞∞ 
)
∞∞ 
{
±± 	"
TrackCurrentPosition
≤≤  
=
≤≤! "
TimeSpan
≤≤# +
.
≤≤+ ,
FromSeconds
≤≤, 7
(
≤≤7 8

GlobalData
≤≤8 B
.
≤≤B C
Current
≤≤C J
.
≤≤J K
MediaPlayer
≤≤K V
.
≤≤V W
CurrentPosition
≤≤W f
)
≤≤f g
.
≤≤g h
ToString
≤≤h p
(
≤≤p q
$str
≤≤q z
)
≤≤z {
;
≤≤{ |
TrackDuration
≥≥ 
=
≥≥ 

GlobalData
≥≥ &
.
≥≥& '
Current
≥≥' .
.
≥≥. /
MediaSource
≥≥/ :
.
≥≥: ;
Duration
≥≥; C
.
≥≥C D
ToString
≥≥D L
(
≥≥L M
$str
≥≥M V
)
≥≥V W
;
≥≥W X
Artist
¥¥ 
=
¥¥ 

GlobalData
¥¥ 
.
¥¥  
Current
¥¥  '
.
¥¥' (
MediaSource
¥¥( 3
.
¥¥3 4
Artist
¥¥4 :
;
¥¥: ;
Title
µµ 
=
µµ 

GlobalData
µµ 
.
µµ 
Current
µµ &
.
µµ& '
MediaSource
µµ' 2
.
µµ2 3
Title
µµ3 8
;
µµ8 9
IsLoadingVisible
∂∂ 
=
∂∂ 

GlobalData
∂∂ )
.
∂∂) *
Current
∂∂* 1
.
∂∂1 2
MediaPlayer
∂∂2 =
.
∂∂= >
	IsLoading
∂∂> G
;
∂∂G H
if
∏∏ 
(
∏∏ 
playedTrack
∏∏ 
!=
∏∏ 

GlobalData
∏∏ )
.
∏∏) *
Current
∏∏* 1
.
∏∏1 2
MediaSourcePath
∏∏2 A
)
∏∏A B
{
ππ #
BackgroundGridVisible
∫∫ %
=
∫∫& '

GlobalData
∫∫( 2
.
∫∫2 3
Current
∫∫3 :
.
∫∫: ;
MediaSource
∫∫; F
.
∫∫F G
Image
∫∫G L
!=
∫∫M O
null
∫∫P T
;
∫∫T U
if
ºº 
(
ºº 

GlobalData
ºº 
.
ºº 
Current
ºº &
.
ºº& '
MediaSource
ºº' 2
.
ºº2 3
Image
ºº3 8
!=
ºº9 ;
null
ºº< @
&&
ººA C

GlobalData
ººD N
.
ººN O
Current
ººO V
.
ººV W
MediaSource
ººW b
.
ººb c
Image
ººc h
.
ººh i
Length
ººi o
>
ººp q
$num
ººr s
)
ººs t
{
ΩΩ 
	TrackBlur
ææ 
=
ææ 
ImageProcessing
ææ  /
.
ææ/ 0
Blur
ææ0 4
(
ææ4 5
ImageProcessing
ææ5 D
.
ææD E
	FromArray
ææE N
(
ææN O

GlobalData
ææO Y
.
ææY Z
Current
ææZ a
.
ææa b
MediaSource
ææb m
.
ææm n
Image
ææn s
)
ææs t
)
ææt u
;
ææu v

TrackImage
øø 
=
øø  
ImageProcessing
øø! 0
.
øø0 1
	FromArray
øø1 :
(
øø: ;

GlobalData
øø; E
.
øøE F
Current
øøF M
.
øøM N
MediaSource
øøN Y
.
øøY Z
Image
øøZ _
)
øø_ `
;
øø` a
}
¿¿ 
else
¡¡ 
{
¬¬ 

TrackImage
√√ 
=
√√  
ImageSource
√√! ,
.
√√, -
FromFile
√√- 5
(
√√5 6
$str
√√6 F
)
√√F G
;
√√G H
}
ƒƒ 
playedTrack
∆∆ 
=
∆∆ 

GlobalData
∆∆ (
.
∆∆( )
Current
∆∆) 0
.
∆∆0 1
MediaSourcePath
∆∆1 @
;
∆∆@ A
}
«« 
if
»» 
(
»» 
isPlayImage
»» 
&&
»» 

GlobalData
»» )
.
»») *
Current
»»* 1
.
»»1 2
MediaPlayer
»»2 =
.
»»= >
	IsPlaying
»»> G
)
»»G H
{
…… 
MiddleButton
   
=
   
ImageSource
   *
.
  * +
FromFile
  + 3
(
  3 4
$str
  4 C
)
  C D
;
  D E
isPlayImage
ÀÀ 
=
ÀÀ 
false
ÀÀ #
;
ÀÀ# $
}
ÃÃ 
if
ŒŒ 
(
ŒŒ 
!
ŒŒ 
isPlayImage
ŒŒ 
&&
ŒŒ 
!
ŒŒ  !

GlobalData
ŒŒ! +
.
ŒŒ+ ,
Current
ŒŒ, 3
.
ŒŒ3 4
MediaPlayer
ŒŒ4 ?
.
ŒŒ? @
	IsPlaying
ŒŒ@ I
)
ŒŒI J
{
œœ 
MiddleButton
–– 
=
–– 
ImageSource
–– *
.
––* +
FromFile
––+ 3
(
––3 4
$str
––4 B
)
––B C
;
––C D
isPlayImage
—— 
=
—— 
true
—— "
;
——" #
}
““ 
if
”” 
(
”” 

GlobalData
”” 
.
”” 
Current
”” "
.
””" #
MediaPlayer
””# .
.
””. /
	IsPlaying
””/ 8
)
””8 9
{
‘‘ 
AudioSliderMax
’’ 
=
’’  

GlobalData
’’! +
.
’’+ ,
Current
’’, 3
.
’’3 4
MediaPlayer
’’4 ?
.
’’? @
Duration
’’@ H
;
’’H I
AudioSliderValue
÷÷  
=
÷÷! "

GlobalData
÷÷# -
.
÷÷- .
Current
÷÷. 5
.
÷÷5 6
MediaPlayer
÷÷6 A
.
÷÷A B
CurrentPosition
÷÷B Q
;
÷÷Q R
}
ÿÿ 
if
⁄⁄ 
(
⁄⁄ 

GlobalData
⁄⁄ 
.
⁄⁄ 
Current
⁄⁄ "
.
⁄⁄" #

PlayerMode
⁄⁄# -
!=
⁄⁄. 0

playerMode
⁄⁄1 ;
)
⁄⁄; <
{
€€ 
if
‹‹ 
(
‹‹ 

GlobalData
‹‹ 
.
‹‹ 
Current
‹‹ &
.
‹‹& '

PlayerMode
‹‹' 1
==
‹‹2 4

PlayerMode
‹‹5 ?
.
‹‹? @
All
‹‹@ C
)
‹‹C D

ModeButton
›› 
=
››  
ImageSource
››! ,
.
››, -
FromFile
››- 5
(
››5 6
$str
››6 F
)
››F G
;
››G H
else
ﬁﬁ 
if
ﬁﬁ 
(
ﬁﬁ 

GlobalData
ﬁﬁ #
.
ﬁﬁ# $
Current
ﬁﬁ$ +
.
ﬁﬁ+ ,

PlayerMode
ﬁﬁ, 6
==
ﬁﬁ7 9

PlayerMode
ﬁﬁ: D
.
ﬁﬁD E
One
ﬁﬁE H
)
ﬁﬁH I

ModeButton
ﬂﬂ 
=
ﬂﬂ  
ImageSource
ﬂﬂ! ,
.
ﬂﬂ, -
FromFile
ﬂﬂ- 5
(
ﬂﬂ5 6
$str
ﬂﬂ6 I
)
ﬂﬂI J
;
ﬂﬂJ K
else
‡‡ 

ModeButton
·· 
=
··  
ImageSource
··! ,
.
··, -
FromFile
··- 5
(
··5 6
$str
··6 F
)
··F G
;
··G H

playerMode
„„ 
=
„„ 

GlobalData
„„ '
.
„„' (
Current
„„( /
.
„„/ 0

PlayerMode
„„0 :
;
„„: ;
}
‰‰ 
return
ÂÂ 
!
ÂÂ 
	stopTimer
ÂÂ 
;
ÂÂ 
}
ÊÊ 	
}
ÈÈ 
}ÍÍ Ç 
ND:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\LanguageSelectViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
{		 
public

 

class

 #
LanguageSelectViewModel

 (
:

) *
PropertyChangedBase

+ >
{ 
private 
string 
nextPage 
;  
public 
string 
NextPage 
{ 	
get 
=> 
nextPage 
; 
set 
{ 
nextPage 
= 
value  
;  !
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
private 
ICommand 
english  
;  !
public 
ICommand 
English 
{ 	
get 
{   
if!! 
(!! 
english!! 
==!! 
null!! #
)!!# $
english"" 
="" 
new"" !
ActionCommand""" /
(""/ 0
	parameter""0 9
=>"": <
{## 
ChangeLanguage$$ &
($$& '
$str$$' +
)$$+ ,
;$$, -
}%% 
)%% 
;%% 
return'' 
english'' 
;'' 
}(( 
})) 	
private++ 
ICommand++ 
polish++ 
;++  
public,, 
ICommand,, 
Polish,, 
{-- 	
get.. 
{// 
if00 
(00 
polish00 
==00 
null00 "
)00" #
polish11 
=11 
new11  
ActionCommand11! .
(11. /
	parameter11/ 8
=>119 ;
{22 
ChangeLanguage33 &
(33& '
$str33' +
)33+ ,
;33, -
}44 
)44 
;44 
return66 
polish66 
;66 
}77 
}88 	
private:: 
ICommand:: 
russian::  
;::  !
public;; 
ICommand;; 
Russian;; 
{<< 	
get== 
{>> 
if?? 
(?? 
russian?? 
==?? 
null?? #
)??# $
russian@@ 
=@@ 
new@@ !
ActionCommand@@" /
(@@/ 0
	parameter@@0 9
=>@@: <
{AA 
ChangeLanguageBB &
(BB& '
$strBB' +
)BB+ ,
;BB, -
}CC 
)CC 
;CC 
returnEE 
russianEE 
;EE 
}FF 
}GG 	
publicJJ #
LanguageSelectViewModelJJ &
(JJ& '
stringJJ' -
nextPageJJ. 6
)JJ6 7
{KK 	
NextPageLL 
=LL 
nextPageLL 
;LL  
}MM 	
privateQQ 
voidQQ 
ChangeLanguageQQ #
(QQ# $
stringQQ$ *
langQQ+ /
)QQ/ 0
{RR 	

GlobalDataSS 
.SS 
CurrentSS 
.SS 
CurrentLanguageSS .
=SS/ 0
langSS1 5
;SS5 6
LocalizationTT 
.TT 
RefreshLanguageTT (
(TT( )
)TT) *
;TT* +
ifUU 
(UU 
NextPageUU 
==UU 
$strUU )
)UU) *
AppVV 
.VV 
InstanceVV 
.VV 
MainPageVV %
=VV& '
newVV( +
PermissionPageVV, :
(VV: ;
)VV; <
;VV< =
elseWW 
ifWW 
(WW 
NextPageWW 
==WW  
$strWW! -
)WW- .
AppXX 
.XX 
InstanceXX 
.XX 
MainPageXX %
=XX& '
newXX( +
FirstStartPageXX, :
(XX: ;
)XX; <
;XX< =
}YY 	
}[[ 
}\\ ç=
ED:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\ModalViewModel.cs
	namespace		 	
Newtone		
 
.		 
Mobile		 
.		 
UI		 
.		 

ViewModels		 &
{

 
public 

class 
ModalViewModel 
:  !
PropertyChangedBase" 5
{ 
private 
string 

modalTitle !
;! "
private 
string 
badge 
; 
private 
bool 
badgeVisible !
;! "
private 
bool 
topPanelVisible $
;$ %
public 
string 

ModalTitle  
{ 	
get 
=> 

modalTitle 
; 
set 
{ 

modalTitle 
= 
value "
;" #
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
public 
string 
Badge 
{   	
get!! 
=>!! 
badge!! 
;!! 
set"" 
{## 
badge$$ 
=$$ 
value$$ 
;$$ 
OnPropertyChanged%% !
(%%! "
)%%" #
;%%# $
}&& 
}'' 	
public(( 
bool(( 
BadgeVisible((  
{)) 	
get** 
=>** 
badgeVisible** 
;**  
set++ 
{,, 
badgeVisible-- 
=-- 
value-- $
;--$ %
OnPropertyChanged.. !
(..! "
).." #
;..# $
}// 
}00 	
public22 
bool22 
TopPanelVisible22 #
{33 	
get44 
=>44 
topPanelVisible44 "
;44" #
set55 
{66 
topPanelVisible77 
=77  !
value77" '
;77' (
OnPropertyChanged88 !
(88! "
)88" #
;88# $
}99 
}:: 	
public<< 
bool<< 
BackButtonVisible<< %
=><<& (
Device<<) /
.<</ 0
RuntimePlatform<<0 ?
==<<@ B
Device<<C I
.<<I J
iOS<<J M
;<<M N
public>> 
Grid>> 
	Container>> 
{>> 
get>>  #
;>># $
private>>% ,
set>>- 0
;>>0 1
}>>2 3
public?? 
bool?? !
DownloadButtonVisible?? )
=>??* ,
!??- .
(??. /
	Container??/ 8
.??8 9
Children??9 A
.??A B
Count??B G
>??H I
$num??J K
&&??L N
	Container??O X
.??X Y
Children??Y a
[??a b
$num??b c
]??c d
is??e g
DownloadPage??h t
)??t u
;??u v
privateCC 
ICommandCC 
toFullScreenCC %
;CC% &
publicDD 
ICommandDD 
ToFullScreenDD $
{EE 	
getFF 
{GG 
ifHH 
(HH 
toFullScreenHH  
==HH! #
nullHH$ (
)HH( )
toFullScreenII  
=II! "
newII# &
ActionCommandII' 4
(II4 5
asyncII5 :
(II; <
	parameterII< E
)IIE F
=>IIG I
{JJ 
ifKK 
(KK 

GlobalDataKK &
.KK& '
CurrentKK' .
.KK. /
MediaSourceKK/ :
!=KK; =
nullKK> B
)KKB C
{LL 
awaitMM !

NormalPageMM" ,
.MM, -
NavigationInstanceMM- ?
.MM? @
PushModalAsyncMM@ N
(MMN O
newMMO R
FullScreenPageMMS a
(MMa b
)MMb c
)MMc d
;MMd e
}NN 
}OO 
)OO 
;OO 
returnQQ 
toFullScreenQQ #
;QQ# $
}RR 
}SS 	
privateUU 
ICommandUU 
toDownloadPageUU '
;UU' (
publicVV 
ICommandVV 
ToDownloadPageVV &
{WW 	
getXX 
{YY 
ifZZ 
(ZZ 
toDownloadPageZZ "
==ZZ# %
nullZZ& *
)ZZ* +
toDownloadPage[[ "
=[[# $
new[[% (
ActionCommand[[) 6
([[6 7
async[[7 <
([[= >
	parameter[[> G
)[[G H
=>[[I K
{\\ 
await]] 

NormalPage]] (
.]]( )
NavigationInstance]]) ;
.]]; <
PushModalAsync]]< J
(]]J K
new]]K N
	ModalPage]]O X
(]]X Y
new]]Y \
DownloadPage]]] i
(]]i j
)]]j k
,]]k l
Localization]]m y
.]]y z
TitleDownloads	]]z à
)
]]à â
)
]]â ä
;
]]ä ã
}^^ 
)^^ 
;^^ 
return`` 
toDownloadPage`` %
;``% &
}aa 
}bb 	
privatedd 
ICommanddd 
backCommanddd $
;dd$ %
publicee 
ICommandee 
BackCommandee #
{ff 	
getgg 
{hh 
ifii 
(ii 
backCommandii 
==ii  "
nullii# '
)ii' (
backCommandjj 
=jj  !
newjj" %
ActionCommandjj& 3
(jj3 4
asyncjj4 9
(jj: ;
	parameterjj; D
)jjD E
=>jjF H
{kk 
awaitll 

NormalPagell (
.ll( )
NavigationInstancell) ;
.ll; <
PopModalAsyncll< I
(llI J
)llJ K
;llK L
}mm 
)mm 
;mm 
returnoo 
backCommandoo "
;oo" #
}pp 
}qq 	
publictt 
ModalViewModeltt 
(tt 
Gridtt "
	containertt# ,
,tt, -
stringtt. 4
titlett5 :
,tt: ;
booltt< @
topPanelVisiblettA P
=ttQ R
truettS W
)ttW X
{uu 	

ModalTitlevv 
=vv 
titlevv 
;vv 
TopPanelVisibleww 
=ww 
topPanelVisibleww -
;ww- .
	Containerxx 
=xx 
	containerxx !
;xx! "
}yy 	
public}} 
void}} 
	Appearing}} 
(}} 
)}} 
{~~ 	
}
ÄÄ 	
public
ÇÇ 
void
ÇÇ 
Disappearing
ÇÇ  
(
ÇÇ  !
)
ÇÇ! "
{
ÉÉ 	
}
ÖÖ 	
public
áá 
void
áá 
Tick
áá 
(
áá 
)
áá 
{
àà 	
Badge
ââ 
=
ââ  
DownloadProcessing
ââ &
.
ââ& '

BadgeCount
ââ' 1
.
ââ1 2
ToString
ââ2 :
(
ââ: ;
)
ââ; <
;
ââ< =
BadgeVisible
ää 
=
ää  
DownloadProcessing
ää -
.
ää- .

BadgeCount
ää. 8
>
ää9 :
$num
ää; <
;
ää< =
if
åå 
(
åå 
	Container
åå 
.
åå 
Children
åå "
.
åå" #
Count
åå# (
>
åå) *
$num
åå+ ,
&&
åå- /
	Container
åå0 9
.
åå9 :
Children
åå: B
[
ååB C
$num
ååC D
]
ååD E
is
ååF H
ITimerContent
ååI V
content
ååW ^
)
åå^ _
content
çç 
.
çç 
Tick
çç 
(
çç 
)
çç 
;
çç 
}
éé 	
}
êê 
}ëë ﬂü
FD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\NormalViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
{ 
public 

class 
NormalViewModel  
:! "
PropertyChangedBase# 6
{ 
private 
readonly 

TracksPage #

tracksPage$ .
=/ 0
new1 4

TracksPage5 ?
(? @
)@ A
;A B
private 
readonly 

ArtistPage #

artistPage$ .
=/ 0
new1 4

ArtistPage5 ?
(? @
)@ A
;A B
private 
PlaylistPage 
playlistPage )
;) *
private 
SettingsPage 
settingsPage )
;) *
private 
string 
	pageTitle  
;  !
private 
string 
searchPlaceholder (
;( )
private 
bool 
badgeSyncVisible %
;% &
private   
string   
	badgeSync    
;    !
private!! 
bool!! 
badgeVisible!! !
;!!! "
private"" 
string"" 
badge"" 
;"" 
private## 
int## 
currentButtonIndex## &
=##' (
-##) *
$num##* +
;##+ ,
private$$ 
bool$$ 
titleVisible$$ !
=$$" #
true$$$ (
;$$( )
private%% 
bool%% 
entryVisible%% !
=%%" #
false%%$ )
;%%) *
private&& 
string&& 
	entryText&&  
;&&  !
private(( 
bool(( 
tracksButtonToggled(( (
;((( )
private)) 
bool))  
artistsButtonToggled)) )
;))) *
private** 
bool** "
playlistsButtonToggled** +
;**+ ,
private++ 
bool++ !
settingsButtonToggled++ *
;++* +
private,, 
PlayerPanel,, 
playerPanel,, '
;,,' (
private-- 
IDisposable-- 
loopSubscription-- ,
;--, -
private// 
bool// 
searchCancelVisible// (
;//( )
private00  
ObservableCollection00 $
<00$ %
HistoryModel00% 1
>001 2
suggestionItems003 B
;00B C
private11 
bool11 $
searchSuggestionsVisible11 -
=11. /
false110 5
;115 6
private22 
readonly22 
Entry22 
searchEntry22 *
;22* +
private33 
bool33 
spinnerVisible33 #
;33# $
public77 
string77 
	PageTitle77 
{88 	
get99 
=>99 
	pageTitle99 
;99 
set:: 
{;; 
	pageTitle<< 
=<< 
value<< !
;<<! "
OnPropertyChanged== !
(==! "
)==" #
;==# $
}>> 
}?? 	
publicAA 
boolAA 
BadgeSyncVisibleAA $
{BB 	
getCC 
=>CC 
badgeSyncVisibleCC #
;CC# $
setDD 
{EE 
badgeSyncVisibleFF  
=FF! "
valueFF# (
;FF( )
OnPropertyChangedGG !
(GG! "
)GG" #
;GG# $
}HH 
}II 	
publicKK 
stringKK 
	BadgeSyncKK 
{LL 	
getMM 
=>MM 
	badgeSyncMM 
;MM 
setNN 
{OO 
	badgeSyncPP 
=PP 
valuePP !
;PP! "
OnPropertyChangedQQ !
(QQ! "
)QQ" #
;QQ# $
}RR 
}SS 	
publicUU 
boolUU 
BadgeVisibleUU  
{VV 	
getWW 
=>WW 
badgeVisibleWW 
;WW  
setXX 
{YY 
badgeVisibleZZ 
=ZZ 
valueZZ $
;ZZ$ %
OnPropertyChanged[[ !
([[! "
)[[" #
;[[# $
}\\ 
}]] 	
public__ 
string__ 
Badge__ 
{`` 	
getaa 
=>aa 
badgeaa 
;aa 
setbb 
{cc 
badgedd 
=dd 
valuedd 
;dd 
OnPropertyChangedee !
(ee! "
)ee" #
;ee# $
}ff 
}gg 	
publicii 
Gridii 
	Containerii 
{ii 
getii  #
;ii# $
privateii% ,
setii- 0
;ii0 1
}ii2 3
publickk 
boolkk 
TracksButtonToggledkk '
{ll 	
getmm 
=>mm 
tracksButtonToggledmm &
;mm& '
setnn 
{oo 
tracksButtonToggledpp #
=pp$ %
valuepp& +
;pp+ ,
OnPropertyChangedqq !
(qq! "
)qq" #
;qq# $
}rr 
}ss 	
publicuu 
booluu  
ArtistsButtonToggleduu (
{vv 	
getww 
=>ww  
artistsButtonToggledww '
;ww' (
setxx 
{yy  
artistsButtonToggledzz $
=zz% &
valuezz' ,
;zz, -
OnPropertyChanged{{ !
({{! "
){{" #
;{{# $
}|| 
}}} 	
public 
bool "
PlaylistsButtonToggled *
{
ÄÄ 	
get
ÅÅ 
=>
ÅÅ $
playlistsButtonToggled
ÅÅ )
;
ÅÅ) *
set
ÇÇ 
{
ÉÉ $
playlistsButtonToggled
ÑÑ &
=
ÑÑ' (
value
ÑÑ) .
;
ÑÑ. /
OnPropertyChanged
ÖÖ !
(
ÖÖ! "
)
ÖÖ" #
;
ÖÖ# $
}
ÜÜ 
}
áá 	
public
ââ 
bool
ââ #
SettingsButtonToggled
ââ )
{
ää 	
get
ãã 
=>
ãã #
settingsButtonToggled
ãã (
;
ãã( )
set
åå 
{
çç #
settingsButtonToggled
éé %
=
éé& '
value
éé( -
;
éé- .
OnPropertyChanged
èè !
(
èè! "
)
èè" #
;
èè# $
}
êê 
}
ëë 	
public
ìì 
PlayerPanel
ìì 
PlayerPanel
ìì &
{
îî 	
get
ïï 
=>
ïï 
playerPanel
ïï 
;
ïï 
set
ññ 
{
óó 
playerPanel
òò 
=
òò 
value
òò #
;
òò# $
OnPropertyChanged
ôô !
(
ôô! "
)
ôô" #
;
ôô# $
}
öö 
}
õõ 	
public
ùù 
string
ùù 
SearchPlaceholder
ùù '
{
ûû 	
get
üü 
=>
üü 
searchPlaceholder
üü $
;
üü$ %
set
†† 
{
°° 
searchPlaceholder
¢¢ !
=
¢¢" #
value
¢¢$ )
;
¢¢) *
OnPropertyChanged
££ !
(
££! "
)
££" #
;
££# $
}
§§ 
}
•• 	
public
¶¶ 
bool
¶¶ 
TitleVisible
¶¶  
{
ßß 	
get
®® 
=>
®® 
titleVisible
®® 
;
®®  
set
©© 
{
™™ 
titleVisible
´´ 
=
´´ 
value
´´ $
;
´´$ %
OnPropertyChanged
¨¨ !
(
¨¨! "
)
¨¨" #
;
¨¨# $
}
≠≠ 
}
ÆÆ 	
public
ØØ 
bool
ØØ 
EntryVisible
ØØ  
{
∞∞ 	
get
±± 
=>
±± 
entryVisible
±± 
;
±±  
set
≤≤ 
{
≥≥ 
entryVisible
¥¥ 
=
¥¥ 
value
¥¥ $
;
¥¥$ %
OnPropertyChanged
µµ !
(
µµ! "
)
µµ" #
;
µµ# $
}
∂∂ 
}
∑∑ 	
public
∏∏ 
string
∏∏ 
	EntryText
∏∏ 
{
ππ 	
get
∫∫ 
=>
∫∫ 
	entryText
∫∫ 
;
∫∫ 
set
ªª 
{
ºº 
	entryText
ΩΩ 
=
ΩΩ 
value
ΩΩ !
;
ΩΩ! "
OnPropertyChanged
ææ !
(
ææ! "
)
ææ" #
;
ææ# $!
SearchCancelVisible
¿¿ #
=
¿¿$ %
	entryText
¿¿& /
.
¿¿/ 0
Length
¿¿0 6
>
¿¿7 8
$num
¿¿9 :
;
¿¿: ;
}
¡¡ 
}
¬¬ 	
public
ƒƒ 
bool
ƒƒ !
SearchCancelVisible
ƒƒ '
{
≈≈ 	
get
∆∆ 
=>
∆∆ !
searchCancelVisible
∆∆ &
;
∆∆& '
set
«« 
{
»» !
searchCancelVisible
…… #
=
……$ %
value
……& +
;
……+ ,
OnPropertyChanged
   !
(
  ! "
)
  " #
;
  # $
}
ÀÀ 
}
ÃÃ 	
public
ŒŒ "
ObservableCollection
ŒŒ #
<
ŒŒ# $
HistoryModel
ŒŒ$ 0
>
ŒŒ0 1
SuggestionItems
ŒŒ2 A
{
œœ 	
get
–– 
=>
–– 
suggestionItems
–– "
;
––" #
set
—— 
{
““ 
suggestionItems
”” 
=
””  !
value
””" '
;
””' (
OnPropertyChanged
‘‘ !
(
‘‘! "
)
‘‘" #
;
‘‘# $
}
’’ 
}
÷÷ 	
public
ÿÿ 
bool
ÿÿ &
SearchSuggestionsVisible
ÿÿ ,
{
ŸŸ 	
get
⁄⁄ 
=>
⁄⁄ &
searchSuggestionsVisible
⁄⁄ +
;
⁄⁄+ ,
set
€€ 
{
‹‹ &
searchSuggestionsVisible
›› (
=
››) *
value
››+ 0
;
››0 1
OnPropertyChanged
ﬁﬁ !
(
ﬁﬁ! "
)
ﬁﬁ" #
;
ﬁﬁ# $
}
ﬂﬂ 
}
‡‡ 	
public
‚‚ 
bool
‚‚ 
SpinnerVisible
‚‚ "
{
„„ 	
get
‰‰ 
=>
‰‰ 
spinnerVisible
‰‰ !
;
‰‰! "
set
ÂÂ 
{
ÊÊ 
spinnerVisible
ÁÁ 
=
ÁÁ  
value
ÁÁ! &
;
ÁÁ& '
OnPropertyChanged
ËË !
(
ËË! "
)
ËË" #
;
ËË# $
}
ÈÈ 
}
ÍÍ 	
private
ÓÓ 
ICommand
ÓÓ 
gotoPlayerCommand
ÓÓ *
;
ÓÓ* +
public
ÔÔ 
ICommand
ÔÔ 

GotoPlayer
ÔÔ "
{
 	
get
ÒÒ 
{
ÚÚ 
if
ÛÛ 
(
ÛÛ 
gotoPlayerCommand
ÛÛ %
==
ÛÛ& (
null
ÛÛ) -
)
ÛÛ- .
gotoPlayerCommand
ÙÙ %
=
ÙÙ& '
new
ÙÙ( +
ActionCommand
ÙÙ, 9
(
ÙÙ9 :
async
ÙÙ: ?
(
ÙÙ@ A
	parameter
ÙÙA J
)
ÙÙJ K
=>
ÙÙL N
{
ıı 
if
ˆˆ 
(
ˆˆ 

GlobalData
ˆˆ &
.
ˆˆ& '
Current
ˆˆ' .
.
ˆˆ. /
MediaSource
ˆˆ/ :
!=
ˆˆ; =
null
ˆˆ> B
)
ˆˆB C
{
˜˜ 
await
˘˘ !

NormalPage
˘˘" ,
.
˘˘, - 
NavigationInstance
˘˘- ?
.
˘˘? @
PushModalAsync
˘˘@ N
(
˘˘N O
new
˘˘O R
FullScreenPage
˘˘S a
(
˘˘a b
)
˘˘b c
)
˘˘c d
;
˘˘d e
}
˙˙ 
}
˚˚ 
)
˚˚ 
;
˚˚ 
return
¸¸ 
gotoPlayerCommand
¸¸ (
;
¸¸( )
}
˝˝ 
}
˛˛ 	
private
ÄÄ 
ICommand
ÄÄ 
gotoTracksCommand
ÄÄ *
;
ÄÄ* +
public
ÅÅ 
ICommand
ÅÅ 

GotoTracks
ÅÅ "
{
ÇÇ 	
get
ÉÉ 
{
ÑÑ 
if
ÖÖ 
(
ÖÖ 
gotoTracksCommand
ÖÖ %
==
ÖÖ& (
null
ÖÖ) -
)
ÖÖ- .
gotoTracksCommand
ÜÜ %
=
ÜÜ& '
new
ÜÜ( +
ActionCommand
ÜÜ, 9
(
ÜÜ9 :
	parameter
ÜÜ: C
=>
ÜÜD F
{
áá 
if
àà 
(
àà  
currentButtonIndex
àà .
!=
àà/ 1
$num
àà2 3
||
àà4 6
(
àà7 8
	parameter
àà8 A
as
ààB D
bool
ààE I
?
ààI J
)
ààJ K
==
ààL N
true
ààO S
)
ààS T
{
ââ 
SetContainer
ää (
(
ää( )

tracksPage
ää) 3
,
ää3 4
Localization
ää5 A
.
ääA B
Tracks
ääB H
)
ääH I
;
ääI J
Toggle
ãã "
(
ãã" #
$num
ãã# $
)
ãã$ %
;
ãã% &
}
åå 
}
çç 
)
çç 
;
çç 
return
èè 
gotoTracksCommand
èè (
;
èè( )
}
êê 
}
ëë 	
private
ìì 
ICommand
ìì  
gotoArtistsCommand
ìì +
;
ìì+ ,
public
îî 
ICommand
îî 
GotoArtists
îî #
{
ïï 	
get
ññ 
{
óó 
if
òò 
(
òò  
gotoArtistsCommand
òò &
==
òò' )
null
òò* .
)
òò. / 
gotoArtistsCommand
ôô &
=
ôô' (
new
ôô) ,
ActionCommand
ôô- :
(
ôô: ;
	parameter
ôô; D
=>
ôôE G
{
öö 
if
õõ 
(
õõ  
currentButtonIndex
õõ .
!=
õõ/ 1
$num
õõ2 3
||
õõ4 6
(
õõ7 8
	parameter
õõ8 A
as
õõB D
bool
õõE I
?
õõI J
)
õõJ K
==
õõL N
true
õõO S
)
õõS T
{
úú 
SetContainer
ùù (
(
ùù( )

artistPage
ùù) 3
,
ùù3 4
Localization
ùù5 A
.
ùùA B
Artists
ùùB I
)
ùùI J
;
ùùJ K
Toggle
ûû "
(
ûû" #
$num
ûû# $
)
ûû$ %
;
ûû% &
}
üü 
}
†† 
)
†† 
;
†† 
return
¢¢  
gotoArtistsCommand
¢¢ )
;
¢¢) *
}
££ 
}
§§ 	
private
¶¶ 
ICommand
¶¶ "
gotoPlaylistsCommand
¶¶ -
;
¶¶- .
public
ßß 
ICommand
ßß 
GotoPlaylists
ßß %
{
®® 	
get
©© 
{
™™ 
if
´´ 
(
´´ "
gotoPlaylistsCommand
´´ (
==
´´) +
null
´´, 0
)
´´0 1"
gotoPlaylistsCommand
¨¨ (
=
¨¨) *
new
¨¨+ .
ActionCommand
¨¨/ <
(
¨¨< =
	parameter
¨¨= F
=>
¨¨G I
{
≠≠ 
if
ÆÆ 
(
ÆÆ  
currentButtonIndex
ÆÆ .
!=
ÆÆ/ 1
$num
ÆÆ2 3
)
ÆÆ3 4
{
ØØ 
if
∞∞ 
(
∞∞  
playlistPage
∞∞  ,
==
∞∞- /
null
∞∞0 4
)
∞∞4 5
playlistPage
±±  ,
=
±±- .
new
±±/ 2
PlaylistPage
±±3 ?
(
±±? @
)
±±@ A
;
±±A B
SetContainer
≤≤ (
(
≤≤( )
playlistPage
≤≤) 5
,
≤≤5 6
Localization
≤≤7 C
.
≤≤C D
	Playlists
≤≤D M
)
≤≤M N
;
≤≤N O
Toggle
≥≥ "
(
≥≥" #
$num
≥≥# $
)
≥≥$ %
;
≥≥% &
}
¥¥ 
}
µµ 
)
µµ 
;
µµ 
return
∑∑ "
gotoPlaylistsCommand
∑∑ +
;
∑∑+ ,
}
∏∏ 
}
ππ 	
private
ªª 
ICommand
ªª !
gotoSettingsCommand
ªª ,
;
ªª, -
public
ºº 
ICommand
ºº 
GotoSettings
ºº $
{
ΩΩ 	
get
ææ 
{
øø 
if
¿¿ 
(
¿¿ !
gotoSettingsCommand
¿¿ '
==
¿¿( *
null
¿¿+ /
)
¿¿/ 0!
gotoSettingsCommand
¡¡ '
=
¡¡( )
new
¡¡* -
ActionCommand
¡¡. ;
(
¡¡; <
	parameter
¡¡< E
=>
¡¡F H
{
¬¬ 
if
√√ 
(
√√  
currentButtonIndex
√√ .
!=
√√/ 1
$num
√√2 3
)
√√3 4
{
ƒƒ 
if
≈≈ 
(
≈≈  
settingsPage
≈≈  ,
==
≈≈- /
null
≈≈0 4
)
≈≈4 5
settingsPage
∆∆  ,
=
∆∆- .
new
∆∆/ 2
SettingsPage
∆∆3 ?
(
∆∆? @
)
∆∆@ A
;
∆∆A B
SetContainer
«« (
(
««( )
settingsPage
««) 5
,
««5 6
Localization
««7 C
.
««C D
Settings
««D L
)
««L M
;
««M N
Toggle
»» "
(
»»" #
$num
»»# $
)
»»$ %
;
»»% &
}
…… 
}
   
)
   
;
   
return
ÃÃ !
gotoSettingsCommand
ÃÃ *
;
ÃÃ* +
}
ÕÕ 
}
ŒŒ 	
private
–– 
ICommand
–– !
gotoDownloadCommand
–– ,
;
––, -
public
—— 
ICommand
—— 
GotoDownload
—— $
{
““ 	
get
”” 
{
‘‘ 
if
’’ 
(
’’ !
gotoDownloadCommand
’’ '
==
’’( *
null
’’+ /
)
’’/ 0!
gotoDownloadCommand
÷÷ '
=
÷÷( )
new
÷÷* -
ActionCommand
÷÷. ;
(
÷÷; <
async
÷÷< A
(
÷÷B C
	parameter
÷÷C L
)
÷÷L M
=>
÷÷N P
{
◊◊ 
await
ÿÿ 

NormalPage
ÿÿ (
.
ÿÿ( ) 
NavigationInstance
ÿÿ) ;
.
ÿÿ; <
PushModalAsync
ÿÿ< J
(
ÿÿJ K
new
ÿÿK N
	ModalPage
ÿÿO X
(
ÿÿX Y
new
ÿÿY \
DownloadPage
ÿÿ] i
(
ÿÿi j
)
ÿÿj k
,
ÿÿk l
Localization
ÿÿm y
.
ÿÿy z
TitleDownloadsÿÿz à
)ÿÿà â
)ÿÿâ ä
;ÿÿä ã
}
ŸŸ 
)
ŸŸ 
;
ŸŸ 
return
€€ !
gotoDownloadCommand
€€ *
;
€€* +
}
‹‹ 
}
›› 	
private
ﬂﬂ 
ICommand
ﬂﬂ  
clearSearchCommand
ﬂﬂ +
;
ﬂﬂ+ ,
public
‡‡ 
ICommand
‡‡ 
ClearSearchText
‡‡ '
{
·· 	
get
‚‚ 
{
„„ 
if
‰‰ 
(
‰‰  
clearSearchCommand
‰‰ &
==
‰‰' )
null
‰‰* .
)
‰‰. / 
clearSearchCommand
ÂÂ &
=
ÂÂ' (
new
ÂÂ) ,
ActionCommand
ÂÂ- :
(
ÂÂ: ;
	parameter
ÂÂ; D
=>
ÂÂE G
{
ÊÊ 
searchEntry
ÁÁ #
.
ÁÁ# $
Unfocus
ÁÁ$ +
(
ÁÁ+ ,
)
ÁÁ, -
;
ÁÁ- .
	EntryText
ËË !
=
ËË" #
$str
ËË$ &
;
ËË& '
}
ÈÈ 
)
ÈÈ 
;
ÈÈ 
return
ÎÎ  
clearSearchCommand
ÎÎ )
;
ÎÎ) *
}
ÏÏ 
}
ÌÌ 	
public
 
NormalViewModel
 
(
 
Grid
 #
	container
$ -
,
- .
PlayerPanel
/ :
panel
; @
,
@ A
Entry
B G
searchEntry
H S
)
S T
{
ÒÒ 	
this
ÚÚ 
.
ÚÚ 
searchEntry
ÚÚ 
=
ÚÚ 
searchEntry
ÚÚ *
;
ÚÚ* +
SuggestionItems
ÛÛ 
=
ÛÛ 
new
ÛÛ !"
ObservableCollection
ÛÛ" 6
<
ÛÛ6 7
HistoryModel
ÛÛ7 C
>
ÛÛC D
(
ÛÛD E
)
ÛÛE F
;
ÛÛF G
	Container
ÙÙ 
=
ÙÙ 
	container
ÙÙ !
;
ÙÙ! "
PlayerPanel
ıı 
=
ıı 
panel
ıı 
;
ıı  
SpinnerVisible
ˆˆ 
=
ˆˆ 
true
ˆˆ !
;
ˆˆ! "
	Directory
¯¯ 
.
¯¯ 
CreateDirectory
¯¯ %
(
¯¯% &

GlobalData
¯¯& 0
.
¯¯0 1
Current
¯¯1 8
.
¯¯8 9
	MusicPath
¯¯9 B
)
¯¯B C
;
¯¯C D
GotoArtists
˘˘ 
.
˘˘ 
Execute
˘˘ 
(
˘˘  
true
˘˘  $
)
˘˘$ %
;
˘˘% &
if
˙˙ 
(
˙˙ 
!
˙˙ 
Global
˙˙ 
.
˙˙ 
Loaded
˙˙ 
)
˙˙ 
{
˚˚ 

GlobalData
¸¸ 
.
¸¸ 
Current
¸¸ "
.
¸¸" #
LoadTags
¸¸# +
(
¸¸+ ,
)
¸¸, -
;
¸¸- .

GlobalData
˝˝ 
.
˝˝ 
Current
˝˝ "
.
˝˝" #
LoadSavedTracks
˝˝# 2
(
˝˝2 3
)
˝˝3 4
;
˝˝4 5
Task
˛˛ 
task
˛˛ 
=
˛˛ 
Task
˛˛  
.
˛˛  !
Run
˛˛! $
(
˛˛$ %
async
˛˛% *
(
˛˛* +
)
˛˛+ ,
=>
˛˛- /
{
ˇˇ 
if
ÄÄ 
(
ÄÄ 
CacheLoader
ÄÄ #
.
ÄÄ# $
IsCacheAvailable
ÄÄ$ 4
(
ÄÄ4 5
)
ÄÄ5 6
)
ÄÄ6 7
CacheLoader
ÅÅ #
.
ÅÅ# $
	LoadCache
ÅÅ$ -
(
ÅÅ- .
)
ÅÅ. /
;
ÅÅ/ 0
await
ÉÉ 
GlobalLoader
ÉÉ &
.
ÉÉ& '
Load
ÉÉ' +
(
ÉÉ+ ,
)
ÉÉ, -
;
ÉÉ- .
}
ÑÑ 
)
ÑÑ 
;
ÑÑ 
task
ÜÜ 
.
ÜÜ 
ContinueWith
ÜÜ !
(
ÜÜ! "
t
ÜÜ" #
=>
ÜÜ$ &
{
áá 

GlobalData
àà 
.
àà 
Current
àà &
.
àà& '

LoadConfig
àà' 1
(
àà1 2
)
àà2 3
;
àà3 4
Global
ââ 
.
ââ 
Loaded
ââ !
=
ââ" #
true
ââ$ (
;
ââ( )
if
ãã 
(
ãã 

GlobalData
ãã "
.
ãã" #
Current
ãã# *
.
ãã* +
AutoDownload
ãã+ 7
&&
ãã8 :
Global
ãã; A
.
ããA B
Application
ããB M
.
ããM N
HasInternet
ããN Y
(
ããY Z
)
ããZ [
)
ãã[ \
{
åå 
Task
çç 
.
çç 
Run
çç  
(
çç  !
async
çç! &
(
çç' (
)
çç( )
=>
çç* ,
{
éé 
YoutubeClient
èè )
client
èè* 0
=
èè1 2
new
èè3 6
YoutubeClient
èè7 D
(
èèD E
)
èèE F
;
èèF G
foreach
êê #
(
êê$ %
var
êê% (
key
êê) ,
in
êê- /

GlobalData
êê0 :
.
êê: ;
Current
êê; B
.
êêB C!
WebToLocalPlaylists
êêC V
.
êêV W
Keys
êêW [
.
êê[ \
ToList
êê\ b
(
êêb c
)
êêc d
)
êêd e
{
ëë 
if
íí  "
(
íí# $

GlobalData
íí$ .
.
íí. /
Current
íí/ 6
.
íí6 7
	Playlists
íí7 @
.
íí@ A
ContainsKey
ííA L
(
ííL M

GlobalData
ííM W
.
ííW X
Current
ííX _
.
íí_ `!
WebToLocalPlaylists
íí` s
[
íís t
key
íít w
]
ííw x
)
ííx y
)
ííy z 
DownloadProcessing
ìì$ 6
.
ìì6 7
AddRange
ìì7 ?
(
ìì? @
await
ìì@ E
client
ììF L
.
ììL M
	Playlists
ììM V
.
ììV W
GetVideosAsync
ììW e
(
ììe f
key
ììf i
)
ììi j
,
ììj k

GlobalData
ììl v
.
ììv w
Current
ììw ~
.
ìì~ "
WebToLocalPlaylistsìì í
[ììí ì
keyììì ñ
]ììñ ó
,ììó ò
keyììô ú
,ììú ù
trueììû ¢
)ìì¢ £
;ìì£ §
}
îî 
}
ïï 
)
ïï 
;
ïï 
}
ññ 
}
óó 
)
óó 
;
óó 
}
òò 
}
ôô 	
public
úú 
void
úú 
	Appearing
úú 
(
úú 
)
úú 
{
ùù 	
var
ûû 
src
ûû 
=
ûû 
System
ûû 
.
ûû 
Reactive
ûû %
.
ûû% &
Linq
ûû& *
.
ûû* +

Observable
ûû+ 5
.
ûû5 6
Timer
ûû6 ;
(
ûû; <
TimeSpan
ûû< D
.
ûûD E
Zero
ûûE I
,
ûûI J
TimeSpan
ûûK S
.
ûûS T
FromMilliseconds
ûûT d
(
ûûd e
$num
ûûe h
)
ûûh i
)
ûûi j
.
ûûj k
	Timestamp
ûûk t
(
ûût u
)
ûûu v
;
ûûv w
loopSubscription
üü 
=
üü 
src
üü "
.
üü" #
	Subscribe
üü# ,
(
üü, -
time
üü- 1
=>
üü2 4
Tick
üü5 9
(
üü9 :
)
üü: ;
)
üü; <
;
üü< =
if
†† 
(
†† 
	Container
†† 
.
†† 
Children
†† "
.
††" #
Count
††# (
>
††) *
$num
††+ ,
&&
††- /
	Container
††0 9
.
††9 :
Children
††: B
[
††B C
$num
††C D
]
††D E
is
††F H
IVisibleContent
††I X
)
††X Y
(
°° 
	Container
°° 
.
°° 
Children
°° #
[
°°# $
$num
°°$ %
]
°°% &
as
°°' )
IVisibleContent
°°* 9
)
°°9 :
.
°°: ;
	Appearing
°°; D
(
°°D E
)
°°E F
;
°°F G
if
££ 
(
££ 

GlobalData
££ 
.
££ 
Current
££ "
.
££" #
Audios
££# )
.
££) *
Count
££* /
==
££0 2
$num
££3 4
&&
££5 7

GlobalData
££8 B
.
££B C
Current
££C J
.
££J K
SavedTracks
££K V
.
££V W
Count
££W \
==
££] _
$num
££` a
)
££a b
{
§§ 

GlobalData
•• 
.
•• 
Current
•• "
.
••" #
LoadTags
••# +
(
••+ ,
)
••, -
;
••- .
CacheLoader
¶¶ 
.
¶¶ 
	LoadCache
¶¶ %
(
¶¶% &
)
¶¶& '
;
¶¶' (

GlobalData
ßß 
.
ßß 
Current
ßß "
.
ßß" #
LoadSavedTracks
ßß# 2
(
ßß2 3
)
ßß3 4
;
ßß4 5

GlobalData
®® 
.
®® 
Current
®® "
.
®®" #

LoadConfig
®®# -
(
®®- .
)
®®. /
;
®®/ 0
}
©© 
}
™™ 	
public
¨¨ 
void
¨¨ 
Disappearing
¨¨  
(
¨¨  !
)
¨¨! "
{
≠≠ 	
loopSubscription
ÆÆ 
?
ÆÆ 
.
ÆÆ 
Dispose
ÆÆ %
(
ÆÆ% &
)
ÆÆ& '
;
ÆÆ' (
loopSubscription
ØØ 
=
ØØ 
null
ØØ #
;
ØØ# $
}
∞∞ 	
public
≤≤ 
void
≤≤ 
Tick
≤≤ 
(
≤≤ 
)
≤≤ 
{
≥≥ 	
SearchPlaceholder
¥¥ 
=
¥¥ 
Localization
¥¥  ,
.
¥¥, -
Search
¥¥- 3
;
¥¥3 4
Badge
µµ 
=
µµ  
DownloadProcessing
µµ &
.
µµ& '

BadgeCount
µµ' 1
.
µµ1 2
ToString
µµ2 :
(
µµ: ;
)
µµ; <
;
µµ< =
BadgeVisible
∂∂ 
=
∂∂  
DownloadProcessing
∂∂ -
.
∂∂- .

BadgeCount
∂∂. 8
>
∂∂9 :
$num
∂∂; <
;
∂∂< =
SpinnerVisible
∑∑ 
=
∑∑ 
	Container
∑∑ &
.
∑∑& '
Children
∑∑' /
.
∑∑/ 0
Count
∑∑0 5
==
∑∑6 8
$num
∑∑9 :
||
∑∑; =
!
∑∑> ?
Global
∑∑? E
.
∑∑E F
Loaded
∑∑F L
;
∑∑L M
PlayerPanel
∏∏ 
?
∏∏ 
.
∏∏ 
Tick
∏∏ 
(
∏∏ 
)
∏∏ 
;
∏∏  
foreach
∫∫ 
(
∫∫ 
var
∫∫ 
children
∫∫ !
in
∫∫" $
	Container
∫∫% .
.
∫∫. /
Children
∫∫/ 7
.
∫∫7 8
ToList
∫∫8 >
(
∫∫> ?
)
∫∫? @
)
∫∫@ A
{
ªª 
if
ºº 
(
ºº 
children
ºº 
.
ºº 
	IsVisible
ºº &
&&
ºº' )
children
ºº* 2
is
ºº3 5
ITimerContent
ºº6 C
content
ººD K
)
ººK L
content
ΩΩ 
.
ΩΩ 
Tick
ΩΩ  
(
ΩΩ  !
)
ΩΩ! "
;
ΩΩ" #
}
ææ 
}
øø 	
public
¡¡ 
void
¡¡ 
RefreshSuggestion
¡¡ %
(
¡¡% &
)
¡¡& '
{
¬¬ 	
string
√√ 
searchedText
√√ 
=
√√  !
	EntryText
√√" +
??
√√, .
$str
√√/ 1
;
√√1 2
var
ƒƒ 
newList
ƒƒ 
=
ƒƒ 
SearchProcessing
ƒƒ *
.
ƒƒ* +'
GenerateSearchSuggestions
ƒƒ+ D
(
ƒƒD E
)
ƒƒE F
.
ƒƒF G
FindAll
ƒƒG N
(
ƒƒN O
item
≈≈ 
=>
≈≈ 
searchedText
≈≈ $
.
≈≈$ %
ToLowerInvariant
≈≈% 5
(
≈≈5 6
)
≈≈6 7
.
≈≈7 8
Contains
≈≈8 @
(
≈≈@ A
item
≈≈A E
.
≈≈E F
ToLowerInvariant
≈≈F V
(
≈≈V W
)
≈≈W X
)
≈≈X Y
||
≈≈Z \
item
≈≈] a
.
≈≈a b
ToLowerInvariant
≈≈b r
(
≈≈r s
)
≈≈s t
.
≈≈t u
Contains
≈≈u }
(
≈≈} ~
searchedText≈≈~ ä
.≈≈ä ã 
ToLowerInvariant≈≈ã õ
(≈≈õ ú
)≈≈ú ù
)≈≈ù û
)≈≈û ü
;≈≈ü †
SuggestionItems
«« 
.
«« 
Clear
«« !
(
««! "
)
««" #
;
««# $
foreach
»» 
(
»» 
var
»» 
item
»» 
in
»»  
newList
»»! (
)
»»( )
{
…… 
SuggestionItems
   
.
    
Add
    #
(
  # $
new
  $ '
HistoryModel
  ( 4
(
  4 5
)
  5 6
{
  7 8
Text
  9 =
=
  > ?
item
  @ D
}
  E F
)
  F G
;
  G H
}
ÀÀ 
}
ÃÃ 	
public
ÕÕ 
async
ÕÕ 
void
ÕÕ %
SuggestionItem_Selected
ÕÕ 1
(
ÕÕ1 2
object
ÕÕ2 8
sender
ÕÕ9 ?
,
ÕÕ? @*
SelectedItemChangedEventArgs
ÕÕA ]
e
ÕÕ^ _
)
ÕÕ_ `
{
ŒŒ 	
int
œœ 
index
œœ 
=
œœ 
e
œœ 
.
œœ 
SelectedItemIndex
œœ +
;
œœ+ ,
if
—— 
(
—— 
index
—— 
>=
—— 
$num
—— 
&&
—— 
index
—— #
<
——$ %
SuggestionItems
——& 5
.
——5 6
Count
——6 ;
)
——; <
{
““ 
if
”” 
(
”” 
Global
”” 
.
”” 
Application
”” &
.
””& '
HasInternet
””' 2
(
””2 3
)
””3 4
)
””4 5
await
‘‘ 

NormalPage
‘‘ $
.
‘‘$ % 
NavigationInstance
‘‘% 7
.
‘‘7 8
PushModalAsync
‘‘8 F
(
‘‘F G
new
‘‘G J
	ModalPage
‘‘K T
(
‘‘T U
new
‘‘U X
SearchResultPage
‘‘Y i
(
‘‘i j
SuggestionItems
‘‘j y
[
‘‘y z
index
‘‘z 
]‘‘ Ä
.‘‘Ä Å
Text‘‘Å Ö
)‘‘Ö Ü
,‘‘Ü á
SuggestionItems‘‘à ó
[‘‘ó ò
index‘‘ò ù
]‘‘ù û
.‘‘û ü
Text‘‘ü £
)‘‘£ §
)‘‘§ •
;‘‘• ¶
else
’’ 
await
÷÷ 

NormalPage
÷÷ $
.
÷÷$ %
Instance
÷÷% -
.
÷÷- .
DisplayAlert
÷÷. :
(
÷÷: ;
Localization
÷÷; G
.
÷÷G H
Warning
÷÷H O
,
÷÷O P
Localization
÷÷Q ]
.
÷÷] ^
NoConnection
÷÷^ j
,
÷÷j k
Localization
÷÷l x
.
÷÷x y
Cancel
÷÷y 
)÷÷ Ä
;÷÷Ä Å
(
ÿÿ 
sender
ÿÿ 
as
ÿÿ 
ListView
ÿÿ #
)
ÿÿ# $
.
ÿÿ$ %
SelectedItem
ÿÿ% 1
=
ÿÿ2 3
null
ÿÿ4 8
;
ÿÿ8 9
}
ŸŸ 
}
⁄⁄ 	
private
‡‡ 
void
‡‡ 
Toggle
‡‡ 
(
‡‡ 
int
‡‡ 
buttonIndex
‡‡  +
=
‡‡, -
$num
‡‡. /
)
‡‡/ 0
{
·· 	!
TracksButtonToggled
‚‚ 
=
‚‚  !
buttonIndex
‚‚" -
==
‚‚. 0
$num
‚‚1 2
;
‚‚2 3"
ArtistsButtonToggled
„„  
=
„„! "
buttonIndex
„„# .
==
„„/ 1
$num
„„2 3
;
„„3 4$
PlaylistsButtonToggled
‰‰ "
=
‰‰# $
buttonIndex
‰‰% 0
==
‰‰1 3
$num
‰‰4 5
;
‰‰5 6#
SettingsButtonToggled
ÂÂ !
=
ÂÂ" #
buttonIndex
ÂÂ$ /
==
ÂÂ0 2
$num
ÂÂ3 4
;
ÂÂ4 5 
currentButtonIndex
ÊÊ 
=
ÊÊ  
buttonIndex
ÊÊ! ,
;
ÊÊ, -
}
ÁÁ 	
private
ÈÈ 
void
ÈÈ 
SetContainer
ÈÈ !
(
ÈÈ! "
ContentView
ÈÈ" -
content
ÈÈ. 5
,
ÈÈ5 6
string
ÈÈ7 =
title
ÈÈ> C
)
ÈÈC D
{
ÍÍ 	
if
ÎÎ 
(
ÎÎ 
!
ÎÎ 
	Container
ÎÎ 
.
ÎÎ 
Children
ÎÎ #
.
ÎÎ# $
Contains
ÎÎ$ ,
(
ÎÎ, -
content
ÎÎ- 4
)
ÎÎ4 5
)
ÎÎ5 6
	Container
ÏÏ 
.
ÏÏ 
Children
ÏÏ "
.
ÏÏ" #
Add
ÏÏ# &
(
ÏÏ& '
content
ÏÏ' .
)
ÏÏ. /
;
ÏÏ/ 0
else
ÌÌ 
{
ÓÓ 
	Container
ÔÔ 
.
ÔÔ 
Children
ÔÔ "
.
ÔÔ" #
Remove
ÔÔ# )
(
ÔÔ) *
content
ÔÔ* 1
)
ÔÔ1 2
;
ÔÔ2 3
	Container
 
.
 
Children
 "
.
" #
Add
# &
(
& '
content
' .
)
. /
;
/ 0
}
ÒÒ 
if
ÚÚ 
(
ÚÚ 
	Container
ÚÚ 
.
ÚÚ 
Children
ÚÚ "
.
ÚÚ" #
Count
ÚÚ# (
>
ÚÚ) *
$num
ÚÚ+ ,
)
ÚÚ, -
{
ÛÛ 
foreach
ÙÙ 
(
ÙÙ 
var
ÙÙ 
children
ÙÙ %
in
ÙÙ& (
	Container
ÙÙ) 2
.
ÙÙ2 3
Children
ÙÙ3 ;
)
ÙÙ; <
{
ıı 
if
˜˜ 
(
˜˜ 
children
˜˜  
.
˜˜  !
	IsVisible
˜˜! *
)
˜˜* +
{
¯¯ 
if
˘˘ 
(
˘˘ 
children
˘˘ $
is
˘˘% '
IVisibleContent
˘˘( 7
)
˘˘7 8
(
˙˙ 
children
˙˙ %
as
˙˙& (
IVisibleContent
˙˙) 8
)
˙˙8 9
.
˙˙9 :
Disappearing
˙˙: F
(
˙˙F G
)
˙˙G H
;
˙˙H I
children
˚˚  
.
˚˚  !
	IsVisible
˚˚! *
=
˚˚+ ,
false
˚˚- 2
;
˚˚2 3
}
¸¸ 
if
˛˛ 
(
˛˛ 
children
˛˛  
==
˛˛! #
content
˛˛$ +
)
˛˛+ ,
{
ˇˇ 
if
ÄÄ 
(
ÄÄ 
children
ÄÄ $
is
ÄÄ% '
IVisibleContent
ÄÄ( 7
)
ÄÄ7 8
(
ÅÅ 
children
ÅÅ %
as
ÅÅ& (
IVisibleContent
ÅÅ) 8
)
ÅÅ8 9
.
ÅÅ9 :
	Appearing
ÅÅ: C
(
ÅÅC D
)
ÅÅD E
;
ÅÅE F
children
ÇÇ  
.
ÇÇ  !
	IsVisible
ÇÇ! *
=
ÇÇ+ ,
true
ÇÇ- 1
;
ÇÇ1 2
}
ÑÑ 
else
ÖÖ 
children
ÜÜ  
.
ÜÜ  !
	IsVisible
ÜÜ! *
=
ÜÜ+ ,
false
ÜÜ- 2
;
ÜÜ2 3
}
áá 
}
àà 
	PageTitle
ââ 
=
ââ 
title
ââ 
;
ââ 
}
ää 	
}
çç 
}éé ’
JD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\PermissionViewModel.cs
	namespace		 	
Newtone		
 
.		 
Mobile		 
.		 
UI		 
.		 

ViewModels		 &
{

 
public 

class 
PermissionViewModel $
{ 
private 
ICommand 
grant 
; 
public 
ICommand 
Grant 
{ 	
get 
{ 
if 
( 
grant 
== 
null !
)! "
grant 
= 
new 
ActionCommand  -
(- .
	parameter. 7
=>8 :
{ 
Global 
. 
Permissions *
.* +
Request+ 2
(2 3
)3 4
;4 5
} 
) 
; 
return 
grant 
; 
} 
} 	
public 
PermissionViewModel "
(" #
)# $
{ 	
Device 
. 

StartTimer 
( 
TimeSpan &
.& '
FromSeconds' 2
(2 3
$num3 6
)6 7
,7 8
Check9 >
)> ?
;? @
}   	
private## 
bool## 
Check## 
(## 
)## 
{$$ 	
if%% 
(%% 
Global%% 
.%% 
Permissions%% "
.%%" #
IsValid%%# *
(%%* +
)%%+ ,
)%%, -
{&& 

GlobalData'' 
.'' 
Current'' "
.''" #

SaveConfig''# -
(''- .
)''. /
;''/ 0
App)) 
.)) 
Instance)) 
.)) 
MainPage)) %
=))& '
new))( +

NormalPage)), 6
())6 7
)))7 8
;))8 9
Task** 
.** 
Run** 
(** 
async** 
(**  
)**  !
=>**" $
{**% &
await++ 
PopToRootAsync++ (
(++( )
)++) *
;++* +
},, 
),, 
.,, 
Wait,, 
(,, 
),, 
;,, 
return.. 
false.. 
;.. 
}// 
else00 
{11 
return22 
true22 
;22 
}33 
}44 	
private66 
async66 
Task66 
PopToRootAsync66 )
(66) *
)66* +
{77 	
while88 
(88 
App88 
.88 
Instance88 
.88  
MainPage88  (
.88( )

Navigation88) 3
.883 4

ModalStack884 >
.88> ?
Count88? D
>88E F
$num88G H
)88H I
{99 
await:: 
App:: 
.:: 
Instance:: "
.::" #
MainPage::# +
.::+ ,

Navigation::, 6
.::6 7
PopModalAsync::7 D
(::D E
false::E J
)::J K
;::K L
};; 
}<< 	
}?? 
}@@ Õ;
HD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\PlaylistViewModel.cs
	namespace

 	
Newtone


 
.

 
Mobile

 
.

 
UI

 
.

 

ViewModels

 &
{ 
public 

class 
PlaylistViewModel "
{ 
public  
ObservableCollection #
<# $
PlaylistModel$ 1
>1 2
Items3 8
{9 :
get; >
;> ?
private@ G
setH K
;K L
}M N
public 
PlaylistViewModel  
(  !
)! "
{ 	
Items 
= 
new  
ObservableCollection ,
<, -
PlaylistModel- :
>: ;
(; <
)< =
;= >
List 
< 
string 
> 

beforeSort #
=$ %
new& )
List* .
<. /
string/ 5
>5 6
(6 7
)7 8
;8 9
foreach 
( 
string 
playlist $
in% '

GlobalData( 2
.2 3
Current3 :
.: ;
	Playlists; D
.D E
KeysE I
)I J
{ 

beforeSort 
. 
Add 
( 
playlist '
)' (
;( )
} 
List 
< 
string 
> 
	afterSort "
=# $

beforeSort% /
./ 0
OrderBy0 7
(7 8
o8 9
=>: <
o= >
)> ?
.? @
ToList@ F
(F G
)G H
;H I
foreach 
( 
var 
playlistName %
in& (
	afterSort) 2
)2 3
{   
ImageSource!! 
image!! !
=!!" #
ImageSource!!$ /
.!!/ 0
FromFile!!0 8
(!!8 9
$str!!9 I
)!!I J
;!!J K
foreach"" 
("" 
string"" 
filePath""  (
in"") +

GlobalData"", 6
.""6 7
Current""7 >
.""> ?
	Playlists""? H
[""H I
playlistName""I U
]""U V
)""V W
{## 
MediaSource$$ 
source$$  &
=$$' (
null$$) -
;$$- .
if%% 
(%% 
filePath%%  
.%%  !
Length%%! '
==%%( *
$num%%+ -
)%%- .
source&& 
=&&  

GlobalData&&! +
.&&+ ,
Current&&, 3
.&&3 4
SavedTracks&&4 ?
[&&? @
filePath&&@ H
]&&H I
;&&I J
else'' 
source(( 
=((  

GlobalData((! +
.((+ ,
Current((, 3
.((3 4
Audios((4 :
[((: ;
filePath((; C
]((C D
;((D E
if)) 
()) 
source)) 
.)) 
Image)) $
!=))% '
null))( ,
))), -
{** 
image++ 
=++ 
ImageProcessing++  /
.++/ 0
	FromArray++0 9
(++9 :
source++: @
.++@ A
Image++A F
)++F G
;++G H
break,, 
;,, 
}-- 
}.. 
Items00 
.00 
Add00 
(00 
new00 
PlaylistModel00 +
(00+ ,
)00, -
{00. /
Image000 5
=006 7
image008 =
,00= >
Name00? C
=00D E
playlistName00F R
,00R S

TrackCount00T ^
=00_ `

GlobalData00a k
.00k l
Current00l s
.00s t
	Playlists00t }
[00} ~
playlistName	00~ ä
]
00ä ã
.
00ã å
Count
00å ë
}
00í ì
)
00ì î
;
00î ï
}11 
}22 	
public55 
int55 
Init55 
(55 
)55 
{66 	
Items77 
.77 
Clear77 
(77 
)77 
;77 
List99 
<99 
string99 
>99 

beforeSort99 #
=99$ %
new99& )
List99* .
<99. /
string99/ 5
>995 6
(996 7
)997 8
;998 9
foreach;; 
(;; 
string;; 
playlist;; $
in;;% '

GlobalData;;( 2
.;;2 3
Current;;3 :
.;;: ;
	Playlists;;; D
.;;D E
Keys;;E I
);;I J
{<< 

beforeSort== 
.== 
Add== 
(== 
playlist== '
)==' (
;==( )
}>> 
List@@ 
<@@ 
string@@ 
>@@ 
	afterSort@@ "
=@@# $

beforeSort@@% /
.@@/ 0
OrderBy@@0 7
(@@7 8
o@@8 9
=>@@: <
o@@= >
)@@> ?
.@@? @
ToList@@@ F
(@@F G
)@@G H
;@@H I
foreachBB 
(BB 
varBB 
playlistNameBB %
inBB& (
	afterSortBB) 2
)BB2 3
{CC 
ImageSourceDD 
imageDD !
=DD" #
ImageSourceDD$ /
.DD/ 0
FromFileDD0 8
(DD8 9
$strDD9 I
)DDI J
;DDJ K
foreachEE 
(EE 
stringEE 
filePathEE  (
inEE) +

GlobalDataEE, 6
.EE6 7
CurrentEE7 >
.EE> ?
	PlaylistsEE? H
[EEH I
playlistNameEEI U
]EEU V
)EEV W
{FF 
MediaSourceGG 
sourceGG  &
=GG' (
nullGG) -
;GG- .
ifHH 
(HH 
filePathHH  
.HH  !
LengthHH! '
==HH( *
$numHH+ -
)HH- .
sourceII 
=II  

GlobalDataII! +
.II+ ,
CurrentII, 3
.II3 4
SavedTracksII4 ?
[II? @
filePathII@ H
]IIH I
;III J
elseJJ 
sourceKK 
=KK  

GlobalDataKK! +
.KK+ ,
CurrentKK, 3
.KK3 4
AudiosKK4 :
[KK: ;
filePathKK; C
]KKC D
;KKD E
ifLL 
(LL 
sourceLL 
.LL 
ImageLL $
!=LL% '
nullLL( ,
)LL, -
{MM 
imageNN 
=NN 
ImageProcessingNN  /
.NN/ 0
	FromArrayNN0 9
(NN9 :
sourceNN: @
.NN@ A
ImageNNA F
)NNF G
;NNG H
breakOO 
;OO 
}PP 
}QQ 
ItemsSS 
.SS 
AddSS 
(SS 
newSS 
PlaylistModelSS +
(SS+ ,
)SS, -
{SS. /
ImageSS0 5
=SS6 7
imageSS8 =
,SS= >
NameSS? C
=SSD E
playlistNameSSF R
,SSR S

TrackCountSST ^
=SS_ `

GlobalDataSSa k
.SSk l
CurrentSSl s
.SSs t
	PlaylistsSSt }
[SS} ~
playlistName	SS~ ä
]
SSä ã
.
SSã å
Count
SSå ë
}
SSí ì
)
SSì î
;
SSî ï
}TT 
returnVV 
ItemsVV 
.VV 
CountVV 
;VV 
}WW 	
}ZZ 
}[[ ‹Ü
LD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\SearchResultViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
{ 
public 

class !
SearchResultViewModel &
:' (
PropertyChangedBase) <
{ 
private  
ObservableCollection $
<$ %
Models% +
.+ ,
SearchResultModel, =
>= >
items? D
;D E
private 
readonly 
ObservableBridge )
<) *
Newtone* 1
.1 2
Core2 6
.6 7
Models7 =
.= >
SearchResultModel> O
>O P
rawItemsQ Y
;Y Z
private 
int 
currentPage 
=  !
$num" #
;# $
private 
bool 

pageLoaded 
=  !
false" '
;' (
private 
readonly 
string 
searchedText  ,
;, -
private 
bool 
spinnerVisible #
=$ %
false& +
;+ ,
private 
int 
maxItems 
; 
public  
ObservableCollection #
<# $
Models$ *
.* +
SearchResultModel+ <
>< =
Items> C
{ 	
get   
=>   
items   
;   
set!! 
{"" 
items## 
=## 
value## 
;## 
OnPropertyChanged$$ !
($$! "
)$$" #
;$$# $
}%% 
}&& 	
public(( 
bool(( 
SpinnerVisible(( "
{)) 	
get** 
=>** 
spinnerVisible** !
;**! "
set++ 
{,, 
spinnerVisible-- 
=--  
value--! &
;--& '
OnPropertyChanged.. !
(..! "
).." #
;..# $
}// 
}00 	
public33 !
SearchResultViewModel33 $
(33$ %
string33% +
searchedText33, 8
)338 9
{44 	
this55 
.55 
searchedText55 
=55 
searchedText55  ,
;55, -
Items66 
=66 
new66  
ObservableCollection66 ,
<66, -
Models66- 3
.663 4
SearchResultModel664 E
>66E F
(66F G
)66G H
;66H I
rawItems77 
=77 
new77 
ObservableBridge77 +
<77+ ,
Newtone77, 3
.773 4
Core774 8
.778 9
Models779 ?
.77? @
SearchResultModel77@ Q
>77Q R
{88 
Action99 
=99 
model99 
=>99 !
Items99" '
.99' (
Add99( +
(99+ ,
new99, /
Models990 6
.996 7
SearchResultModel997 H
(99H I
model99I N
)99N O
)99O P
}:: 
;:: 
Task<< 
.<< 
Run<< 
(<< 
async<< 
(<< 
)<< 
=><<  
{== 
SpinnerVisible>> 
=>>  
true>>! %
;>>% &
SearchProcessing??  
.??  !
SearchOffline??! .
(??. /
searchedText??/ ;
,??; <
rawItems??= E
)??E F
;??F G
ifAA 
(AA 
GlobalAA 
.AA 
ApplicationAA &
.AA& '
HasInternetAA' 2
(AA2 3
)AA3 4
)AA4 5
maxItemsBB 
=BB 
awaitBB $
SearchProcessingBB% 5
.BB5 6
SearchBB6 <
(BB< =
searchedTextBB= I
,BBI J
rawItemsBBK S
)BBS T
;BBT U
usingDD 
(DD 
	WebClientDD  
	webClientDD! *
=DD+ ,
newDD- 0
	WebClientDD1 :
(DD: ;
)DD; <
)DD< =
{EE 
forFF 
(FF 
intFF 
aFF 
=FF  
$numFF! "
;FF" #
aFF$ %
<FF& '
ItemsFF( -
.FF- .
CountFF. 3
;FF3 4
aFF5 6
++FF6 8
)FF8 9
{GG 
ifHH 
(HH 
!HH 
stringHH #
.HH# $
IsNullOrEmptyHH$ 1
(HH1 2
ItemsHH2 7
[HH7 8
aHH8 9
]HH9 :
.HH: ;
ThumbUrlHH; C
)HHC D
)HHD E
{II 
byteJJ  
[JJ  !
]JJ! "
dataJJ# '
=JJ( )
	webClientJJ* 3
.JJ3 4
DownloadDataJJ4 @
(JJ@ A
ItemsJJA F
[JJF G
aJJG H
]JJH I
.JJI J
ThumbUrlJJJ R
)JJR S
;JJS T
ItemsKK !
[KK! "
aKK" #
]KK# $
.KK$ %
ImageKK% *
=KK+ ,
dataKK- 1
;KK1 2
}LL 
elseMM 
{NN 
ItemsOO !
[OO! "
aOO" #
]OO# $
.OO$ %
ThumbOO% *
=OO+ ,
ImageProcessingOO- <
.OO< =
	FromArrayOO= F
(OOF G
ItemsOOG L
[OOL M
aOOM N
]OON O
.OOO P
ImageOOP U
)OOU V
;OOV W
}PP 
ItemsQQ 
[QQ 
aQQ 
]QQ  
.QQ  !
CheckChangesQQ! -
(QQ- .
)QQ. /
;QQ/ 0
}RR 

pageLoadedTT 
=TT  
trueTT! %
;TT% &
}UU 
SpinnerVisibleWW 
=WW  
falseWW! &
;WW& '
}XX 
)XX 
;XX 
}YY 	
public\\ 
async\\ 
Task\\ 
Item_Selected\\ '
(\\' (
object\\( .
sender\\/ 5
,\\5 6(
SelectedItemChangedEventArgs\\7 S
e\\T U
)\\U V
{]] 	
int^^ 
index^^ 
=^^ 
e^^ 
.^^ 
SelectedItemIndex^^ +
;^^+ ,
if`` 
(`` 
index`` 
>=`` 
$num`` 
&&`` 
index`` #
<``$ %
Items``& +
.``+ ,
Count``, 1
)``1 2
{aa 
varbb 
itembb 
=bb 
Itemsbb  
[bb  !
indexbb! &
]bb& '
;bb' (

GlobalDatacc 
.cc 
Currentcc "
.cc" #
CurrentPlaylistcc# 2
.cc2 3
Clearcc3 8
(cc8 9
)cc9 :
;cc: ;
ifee 
(ee 
stringee 
.ee 
IsNullOrEmptyee (
(ee( )
itemee) -
.ee- .
MixIdee. 3
)ee3 4
)ee4 5
{ff 

GlobalDatagg 
.gg 
Currentgg &
.gg& '
PlaylistPositiongg' 7
=gg8 9
egg: ;
.gg; <
SelectedItemIndexgg< M
;ggM N
foreachii 
(ii 
varii  
_itemii! &
inii' )
Itemsii* /
)ii/ 0
{jj 

GlobalDatakk "
.kk" #
Currentkk# *
.kk* +
CurrentPlaylistkk+ :
.kk: ;
Addkk; >
(kk> ?
newkk? B
NewtonekkC J
.kkJ K
CorekkK O
.kkO P
MediakkP U
.kkU V
MediaSourcekkV a
(kka b
)kkb c
{ll 
Artistmm "
=mm# $
_itemmm% *
.mm* +
Authormm+ 1
,mm1 2
Durationnn $
=nn% &
_itemnn' ,
.nn, -
Durationnn- 5
,nn5 6
FilePathoo $
=oo% &
_itemoo' ,
.oo, -
Idoo- /
,oo/ 0
Imagepp !
=pp" #
_itempp$ )
.pp) *
Imagepp* /
,pp/ 0
Titleqq !
=qq" #
_itemqq$ )
.qq) *
Titleqq* /
,qq/ 0
Typerr  
=rr! "
_itemrr# (
.rr( )
Idrr) +
.rr+ ,
Lengthrr, 2
==rr3 5
$numrr6 8
?rr9 :
Newtonerr; B
.rrB C
CorerrC G
.rrG H
MediarrH M
.rrM N
MediaSourcerrN Y
.rrY Z

SourceTyperrZ d
.rrd e
Webrre h
:rri j
Corerrk o
.rro p
Mediarrp u
.rru v
MediaSource	rrv Å
.
rrÅ Ç

SourceType
rrÇ å
.
rrå ç
Local
rrç í
}ss 
)ss 
;ss 
}tt 

GlobalDatavv 
.vv 
Currentvv &
.vv& '
MediaSourcevv' 2
=vv3 4

GlobalDatavv5 ?
.vv? @
Currentvv@ G
.vvG H
CurrentPlaylistvvH W
[vvW X
evvX Y
.vvY Z
SelectedItemIndexvvZ k
]vvk l
;vvl m

GlobalDataxx 
.xx 
Currentxx &
.xx& '
MediaPlayerxx' 2
.xx2 3
LoadPlaylistxx3 ?
(xx? @
(xx@ A
)xxA B
=>xxC E
{yy 
Listzz 
<zz 
Corezz !
.zz! "
Mediazz" '
.zz' (
MediaSourcezz( 3
>zz3 4
newPlaylistzz5 @
=zzA B
ItemszzC H
.zzH I
SelectzzI O
(zzO P
_itemzzP U
=>zzV X
newzzY \
Corezz] a
.zza b
Mediazzb g
.zzg h
MediaSourcezzh s
(zzs t
)zzt u
{{{ 
Artist|| "
=||# $
_item||% *
.||* +
Author||+ 1
,||1 2
Duration}} $
=}}% &
_item}}' ,
.}}, -
Duration}}- 5
,}}5 6
FilePath~~ $
=~~% &
_item~~' ,
.~~, -
Id~~- /
,~~/ 0
Image !
=" #
_item$ )
.) *
Image* /
,/ 0
Title
ÄÄ !
=
ÄÄ" #
_item
ÄÄ$ )
.
ÄÄ) *
Title
ÄÄ* /
,
ÄÄ/ 0
Type
ÅÅ  
=
ÅÅ! "
_item
ÅÅ# (
.
ÅÅ( )
Id
ÅÅ) +
.
ÅÅ+ ,
Length
ÅÅ, 2
==
ÅÅ3 5
$num
ÅÅ6 8
?
ÅÅ9 :
Newtone
ÅÅ; B
.
ÅÅB C
Core
ÅÅC G
.
ÅÅG H
Media
ÅÅH M
.
ÅÅM N
MediaSource
ÅÅN Y
.
ÅÅY Z

SourceType
ÅÅZ d
.
ÅÅd e
Web
ÅÅe h
:
ÅÅi j
Core
ÅÅk o
.
ÅÅo p
Media
ÅÅp u
.
ÅÅu v
MediaSourceÅÅv Å
.ÅÅÅ Ç

SourceTypeÅÅÇ å
.ÅÅå ç
LocalÅÅç í
}
ÇÇ 
)
ÇÇ 
.
ÇÇ 
ToList
ÇÇ !
(
ÇÇ! "
)
ÇÇ" #
;
ÇÇ# $
return
ÑÑ 
newPlaylist
ÑÑ *
;
ÑÑ* +
}
ÖÖ 
,
ÖÖ 
index
ÖÖ 
,
ÖÖ 
true
ÖÖ "
,
ÖÖ" #
true
ÖÖ$ (
)
ÖÖ( )
;
ÖÖ) *
}
ÜÜ 
else
áá 
{
àà 

GlobalData
ââ 
.
ââ 
Current
ââ &
.
ââ& '
MediaPlayer
ââ' 2
.
ââ2 3
LoadPlaylist
ââ3 ?
(
ââ? @
item
ââ@ D
.
ââD E
MixId
ââE J
,
ââJ K
$num
ââL M
,
ââM N
new
ââO R
Newtone
ââS Z
.
ââZ [
Core
ââ[ _
.
ââ_ `
Media
ââ` e
.
ââe f
MediaSource
ââf q
(
ââq r
)
ââr s
{
ää 
Artist
ãã 
=
ãã  
item
ãã! %
.
ãã% &
Author
ãã& ,
,
ãã, -
Duration
åå  
=
åå! "
item
åå# '
.
åå' (
Duration
åå( 0
,
åå0 1
FilePath
çç  
=
çç! "
item
çç# '
.
çç' (
Id
çç( *
,
çç* +
Image
éé 
=
éé 
item
éé  $
.
éé$ %
Image
éé% *
,
éé* +
Title
èè 
=
èè 
item
èè  $
.
èè$ %
Title
èè% *
,
èè* +
Type
êê 
=
êê 
Newtone
êê &
.
êê& '
Core
êê' +
.
êê+ ,
Media
êê, 1
.
êê1 2
MediaSource
êê2 =
.
êê= >

SourceType
êê> H
.
êêH I
Web
êêI L
}
ëë 
,
ëë 
true
ëë 
,
ëë 
true
ëë !
)
ëë! "
;
ëë" #
}
íí 
await
îî 

NormalPage
îî  
.
îî  ! 
NavigationInstance
îî! 3
.
îî3 4
PushModalAsync
îî4 B
(
îîB C
new
îîC F
FullScreenPage
îîG U
(
îîU V
)
îîV W
)
îîW X
;
îîX Y
(
ññ 
sender
ññ 
as
ññ 
Xamarin
ññ "
.
ññ" #
Forms
ññ# (
.
ññ( )
ListView
ññ) 1
)
ññ1 2
.
ññ2 3
SelectedItem
ññ3 ?
=
ññ@ A
null
ññB F
;
ññF G
}
óó 
}
òò 	
public
öö 
void
öö *
SearchListView_ItemAppearing
öö 0
(
öö0 1
int
öö1 4
	itemIndex
öö5 >
)
öö> ?
{
õõ 	
if
úú 
(
úú 

pageLoaded
úú 
&&
úú 
	itemIndex
úú '
==
úú( *
Items
úú+ 0
.
úú0 1
Count
úú1 6
-
úú7 8
$num
úú9 :
&&
úú; =
maxItems
úú> F
>
úúG H
$num
úúI J
&&
úúK M
Items
úúN S
.
úúS T
Count
úúT Y
<
úúZ [
maxItems
úú\ d
)
úúd e
{
ùù 

pageLoaded
ûû 
=
ûû 
false
ûû "
;
ûû" #
currentPage
üü 
++
üü 
;
üü 
Task
°° 
.
°° 
Run
°° 
(
°° 
async
°° 
(
°°  
)
°°  !
=>
°°" $
{
¢¢ 
SpinnerVisible
££ "
=
££# $
true
££% )
;
££) *
if
§§ 
(
§§ 
Global
§§ 
.
§§ 
Application
§§ *
.
§§* +
HasInternet
§§+ 6
(
§§6 7
)
§§7 8
)
§§8 9
maxItems
••  
=
••! "
await
••# (
SearchProcessing
••) 9
.
••9 :
Search
••: @
(
••@ A
searchedText
••A M
,
••M N
rawItems
••O W
,
••W X
currentPage
••Y d
)
••d e
;
••e f
using
ßß 
(
ßß 
	WebClient
ßß $
	webClient
ßß% .
=
ßß/ 0
new
ßß1 4
	WebClient
ßß5 >
(
ßß> ?
)
ßß? @
)
ßß@ A
{
®® 
for
©© 
(
©© 
int
©©  
a
©©! "
=
©©# $
$num
©©% &
;
©©& '
a
©©( )
<
©©* +
Items
©©, 1
.
©©1 2
Count
©©2 7
;
©©7 8
a
©©9 :
++
©©: <
)
©©< =
{
™™ 
if
´´ 
(
´´  
!
´´  !
string
´´! '
.
´´' (
IsNullOrEmpty
´´( 5
(
´´5 6
Items
´´6 ;
[
´´; <
a
´´< =
]
´´= >
.
´´> ?
ThumbUrl
´´? G
)
´´G H
)
´´H I
{
¨¨ 
byte
≠≠  $
[
≠≠$ %
]
≠≠% &
data
≠≠' +
=
≠≠, -
	webClient
≠≠. 7
.
≠≠7 8
DownloadData
≠≠8 D
(
≠≠D E
Items
≠≠E J
[
≠≠J K
a
≠≠K L
]
≠≠L M
.
≠≠M N
ThumbUrl
≠≠N V
)
≠≠V W
;
≠≠W X
Items
ÆÆ  %
[
ÆÆ% &
a
ÆÆ& '
]
ÆÆ' (
.
ÆÆ( )
Image
ÆÆ) .
=
ÆÆ/ 0
data
ÆÆ1 5
;
ÆÆ5 6
}
ØØ 
else
∞∞  
{
±± 
Items
≤≤  %
[
≤≤% &
a
≤≤& '
]
≤≤' (
.
≤≤( )
Thumb
≤≤) .
=
≤≤/ 0
ImageProcessing
≤≤1 @
.
≤≤@ A
	FromArray
≤≤A J
(
≤≤J K
Items
≤≤K P
[
≤≤P Q
a
≤≤Q R
]
≤≤R S
.
≤≤S T
Image
≤≤T Y
)
≤≤Y Z
;
≤≤Z [
}
≥≥ 
Items
¥¥ !
[
¥¥! "
a
¥¥" #
]
¥¥# $
.
¥¥$ %
CheckChanges
¥¥% 1
(
¥¥1 2
)
¥¥2 3
;
¥¥3 4
}
µµ 

pageLoaded
∑∑ "
=
∑∑# $
true
∑∑% )
;
∑∑) *
}
∏∏ 
SpinnerVisible
∫∫ "
=
∫∫# $
false
∫∫% *
;
∫∫* +
}
ªª 
)
ªª 
;
ªª 
}
ºº 
}
ΩΩ 	
}
øø 
}¿¿ ˇ[
FD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\SearchViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
{ 
public 

class 
SearchViewModel  
:! "
PropertyChangedBase# 6
{ 
private  
ObservableCollection $
<$ %
HistoryModel% 1
>1 2
items3 8
;8 9
private  
ObservableCollection $
<$ %
HistoryModel% 1
>1 2
suggestionItems3 B
;B C
private 
string 

searchText !
=" #
string$ *
.* +
Empty+ 0
;0 1
private 
bool $
searchSuggestionsVisible -
=. /
false0 5
;5 6
public  
ObservableCollection #
<# $
HistoryModel$ 0
>0 1
Items2 7
{ 	
get 
=> 
items 
; 
set 
{ 
items 
= 
value 
; 
OnPropertyChanged !
(! "
)" #
;# $
}   
}!! 	
public##  
ObservableCollection## #
<### $
HistoryModel##$ 0
>##0 1
SuggestionItems##2 A
{$$ 	
get%% 
=>%% 
suggestionItems%% "
;%%" #
set&& 
{'' 
suggestionItems(( 
=((  !
value((" '
;((' (
OnPropertyChanged)) !
())! "
)))" #
;))# $
}** 
}++ 	
public-- 
string-- 

SearchText--  
{.. 	
get// 
=>// 

searchText// 
;// 
set00 
{11 

searchText22 
=22 
value22 "
;22" #
OnPropertyChanged33 !
(33! "
)33" #
;33# $
}44 
}55 	
public77 
bool77 $
SearchSuggestionsVisible77 ,
{88 	
get99 
=>99 $
searchSuggestionsVisible99 +
;99+ ,
set:: 
{;; $
searchSuggestionsVisible<< (
=<<) *
value<<+ 0
;<<0 1
OnPropertyChanged== !
(==! "
)==" #
;==# $
OnPropertyChanged>> !
(>>! "
(>>" #
)>># $
=>>>% ',
 SearchSuggestionsVisibleNegative>>( H
)>>H I
;>>I J
}?? 
}@@ 	
publicBB 
boolBB ,
 SearchSuggestionsVisibleNegativeBB 4
=>BB5 7
!BB8 9$
SearchSuggestionsVisibleBB9 Q
;BBQ R
privateEE 
ICommandEE 
clearCommandEE %
;EE% &
publicFF 
ICommandFF 
	ClearListFF !
{GG 	
getHH 
{II 
ifJJ 
(JJ 
clearCommandJJ  
==JJ! #
nullJJ$ (
)JJ( )
clearCommandKK  
=KK! "
newKK# &
ActionCommandKK' 4
(KK4 5
	parameterKK5 >
=>KK? A
{LL 
ItemsMM 
.MM 
ClearMM #
(MM# $
)MM$ %
;MM% &

GlobalDataNN "
.NN" #
CurrentNN# *
.NN* +
HistoryNN+ 2
.NN2 3
ClearNN3 8
(NN8 9
)NN9 :
;NN: ;

GlobalDataOO "
.OO" #
CurrentOO# *
.OO* +

SaveConfigOO+ 5
(OO5 6
)OO6 7
;OO7 8
}PP 
)PP 
;PP 
returnQQ 
clearCommandQQ #
;QQ# $
}RR 
}SS 	
publicWW 
SearchViewModelWW 
(WW 
)WW  
{XX 	
SuggestionItemsYY 
=YY 
newYY ! 
ObservableCollectionYY" 6
<YY6 7
HistoryModelYY7 C
>YYC D
(YYD E
)YYE F
;YYF G
ItemsZZ 
=ZZ 
newZZ  
ObservableCollectionZZ ,
<ZZ, -
HistoryModelZZ- 9
>ZZ9 :
(ZZ: ;
)ZZ; <
;ZZ< =
foreach[[ 
([[ 
var[[ 
item[[ 
in[[  

GlobalData[[! +
.[[+ ,
Current[[, 3
.[[3 4
History[[4 ;
.[[; <
Reverse[[< C
<[[C D
HistoryModel[[D P
>[[P Q
([[Q R
)[[R S
)[[S T
{\\ 
Items]] 
.]] 
Add]] 
(]] 
item]] 
)]] 
;]]  
}^^ 
}__ 	
publiccc 
asynccc 
voidcc !
SearchEntry_Completedcc /
(cc/ 0
stringcc0 6

searchTextcc7 A
)ccA B
{dd 	

SearchTextee 
=ee 

searchTextee #
;ee# $
ifff 
(ff 
!ff 
stringff 
.ff 
IsNullOrEmptyff %
(ff% &

SearchTextff& 0
)ff0 1
)ff1 2
{gg 
awaithh 

NormalPagehh  
.hh  !
NavigationInstancehh! 3
.hh3 4
PushModalAsynchh4 B
(hhB C
newhhC F
	ModalPagehhG P
(hhP Q
newhhQ T
SearchResultPagehhU e
(hhe f

SearchTexthhf p
)hhp q
,hhq r

SearchTexthhs }
)hh} ~
)hh~ 
;	hh Ä
}ii 
}jj 	
publicll 
asyncll 
voidll 
Item_Selectedll '
(ll' (
objectll( .
senderll/ 5
,ll5 6(
SelectedItemChangedEventArgsll7 S
ellT U
)llU V
{mm 	
intnn 
indexnn 
=nn 
enn 
.nn 
SelectedItemIndexnn +
;nn+ ,
ifpp 
(pp 
indexpp 
>=pp 
$numpp 
&&pp 
indexpp #
<pp$ %
Itemspp& +
.pp+ ,
Countpp, 1
)pp1 2
{qq 
ifrr 
(rr 
Globalrr 
.rr 
Applicationrr &
.rr& '
HasInternetrr' 2
(rr2 3
)rr3 4
)rr4 5
awaitss 

NormalPagess $
.ss$ %
NavigationInstancess% 7
.ss7 8
PushModalAsyncss8 F
(ssF G
newssG J
	ModalPagessK T
(ssT U
newssU X
SearchResultPagessY i
(ssi j
Itemsssj o
[sso p
indexssp u
]ssu v
.ssv w
Textssw {
)ss{ |
,ss| }
Items	ss~ É
[
ssÉ Ñ
index
ssÑ â
]
ssâ ä
.
ssä ã
Text
ssã è
)
ssè ê
)
ssê ë
;
ssë í
elsett 
awaituu 

NormalPageuu $
.uu$ %
Instanceuu% -
.uu- .
DisplayAlertuu. :
(uu: ;
Localizationuu; G
.uuG H
WarninguuH O
,uuO P
LocalizationuuQ ]
.uu] ^
NoConnectionuu^ j
,uuj k
Localizationuul x
.uux y
Canceluuy 
)	uu Ä
;
uuÄ Å
(ww 
senderww 
asww 
Xamarinww "
.ww" #
Formsww# (
.ww( )
ListViewww) 1
)ww1 2
.ww2 3
SelectedItemww3 ?
=ww@ A
nullwwB F
;wwF G
}xx 
}yy 	
public{{ 
async{{ 
void{{ #
SuggestionItem_Selected{{ 1
({{1 2
object{{2 8
sender{{9 ?
,{{? @(
SelectedItemChangedEventArgs{{A ]
e{{^ _
){{_ `
{|| 	
int}} 
index}} 
=}} 
e}} 
.}} 
SelectedItemIndex}} +
;}}+ ,
if 
( 
index 
>= 
$num 
&& 
index #
<$ %
SuggestionItems& 5
.5 6
Count6 ;
); <
{
ÄÄ 
if
ÅÅ 
(
ÅÅ 
Global
ÅÅ 
.
ÅÅ 
Application
ÅÅ &
.
ÅÅ& '
HasInternet
ÅÅ' 2
(
ÅÅ2 3
)
ÅÅ3 4
)
ÅÅ4 5
await
ÇÇ 

NormalPage
ÇÇ $
.
ÇÇ$ % 
NavigationInstance
ÇÇ% 7
.
ÇÇ7 8
PushModalAsync
ÇÇ8 F
(
ÇÇF G
new
ÇÇG J
	ModalPage
ÇÇK T
(
ÇÇT U
new
ÇÇU X
SearchResultPage
ÇÇY i
(
ÇÇi j
SuggestionItems
ÇÇj y
[
ÇÇy z
index
ÇÇz 
]ÇÇ Ä
.ÇÇÄ Å
TextÇÇÅ Ö
)ÇÇÖ Ü
,ÇÇÜ á
SuggestionItemsÇÇà ó
[ÇÇó ò
indexÇÇò ù
]ÇÇù û
.ÇÇû ü
TextÇÇü £
)ÇÇ£ §
)ÇÇ§ •
;ÇÇ• ¶
else
ÉÉ 
await
ÑÑ 

NormalPage
ÑÑ $
.
ÑÑ$ %
Instance
ÑÑ% -
.
ÑÑ- .
DisplayAlert
ÑÑ. :
(
ÑÑ: ;
Localization
ÑÑ; G
.
ÑÑG H
Warning
ÑÑH O
,
ÑÑO P
Localization
ÑÑQ ]
.
ÑÑ] ^
NoConnection
ÑÑ^ j
,
ÑÑj k
Localization
ÑÑl x
.
ÑÑx y
Cancel
ÑÑy 
)ÑÑ Ä
;ÑÑÄ Å
(
ÜÜ 
sender
ÜÜ 
as
ÜÜ 
Xamarin
ÜÜ "
.
ÜÜ" #
Forms
ÜÜ# (
.
ÜÜ( )
ListView
ÜÜ) 1
)
ÜÜ1 2
.
ÜÜ2 3
SelectedItem
ÜÜ3 ?
=
ÜÜ@ A
null
ÜÜB F
;
ÜÜF G
}
áá 
}
àà 	
public
ää 
void
ää 
RefreshSuggestion
ää %
(
ää% &
string
ää& ,
text
ää- 1
)
ää1 2
{
ãã 	&
SearchSuggestionsVisible
åå $
=
åå% &
true
åå' +
;
åå+ ,
var
çç 
newList
çç 
=
çç 
SearchProcessing
çç *
.
çç* +'
GenerateSearchSuggestions
çç+ D
(
ççD E
)
ççE F
.
ççF G
FindAll
ççG N
(
ççN O
item
ççO S
=>
ççT V
item
ççW [
.
çç[ \
ToLowerInvariant
çç\ l
(
ççl m
)
ççm n
.
ççn o
Contains
çço w
(
ççw x
text
ççx |
.
çç| }
ToLowerInvariantçç} ç
(ççç é
)ççé è
)ççè ê
||ççë ì
textççî ò
.ççò ô 
ToLowerInvariantççô ©
(çç© ™
)çç™ ´
.çç´ ¨
Containsçç¨ ¥
(çç¥ µ
itemççµ π
.ççπ ∫ 
ToLowerInvariantçç∫  
(çç  À
)ççÀ Ã
)ççÃ Õ
)ççÕ Œ
;ççŒ œ
SuggestionItems
èè 
.
èè 
Clear
èè !
(
èè! "
)
èè" #
;
èè# $
foreach
êê 
(
êê 
var
êê 
item
êê 
in
êê  
newList
êê! (
)
êê( )
{
ëë 
SuggestionItems
íí 
.
íí  
Add
íí  #
(
íí# $
new
íí$ '
HistoryModel
íí( 4
(
íí4 5
)
íí5 6
{
íí7 8
Text
íí9 =
=
íí> ?
item
íí@ D
}
ííE F
)
ííF G
;
ííG H
}
ìì 
}
îî 	
}
ññ 
}óó ãã
HD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\SettingsViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
{ 
public 

class 
SettingsViewModel "
:# $
PropertyChangedBase% 8
{ 
private  
ObservableCollection $
<$ %
SettingsModel% 2
>2 3
items4 9
;9 :
private 
string 
version 
; 
public  
ObservableCollection #
<# $
SettingsModel$ 1
>1 2
Items3 8
{ 	
get 
=> 
items 
; 
set 
{ 
items 
= 
value 
; 
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
public!! 
string!! 
Version!! 
{"" 	
get## 
=>## 
version## 
;## 
set$$ 
{%% 
version&& 
=&& 
value&& 
;&&  
OnPropertyChanged'' !
(''! "
)''" #
;''# $
}(( 
})) 	
private,, 
ICommand,, 
gotoWWW,,  
;,,  !
public-- 
ICommand-- 
GotoWWW-- 
{.. 	
get// 
{00 
if11 
(11 
gotoWWW11 
==11 
null11 #
)11# $
gotoWWW22 
=22 
new22 !
ActionCommand22" /
(22/ 0
	parameter220 9
=>22: <
{33 
Device44 
.44 
OpenUri44 &
(44& '
new44' *
Uri44+ .
(44. /
$str44/ K
)44K L
)44L M
;44M N
}55 
)55 
;55 
return66 
gotoWWW66 
;66 
}77 
}88 	
public;; 
SettingsViewModel;;  
(;;  !
);;! "
{<< 	
Items== 
=== 
new==  
ObservableCollection== ,
<==, -
SettingsModel==- :
>==: ;
{>> 
new?? 
SettingsModel?? !
(??! "
)??" #
{??$ %
Name??& *
=??+ ,
Localization??- 9
.??9 :
	Settings0??: C
}??D E
,??E F
new@@ 
SettingsModel@@ !
(@@! "
)@@" #
{@@$ %
Name@@& *
=@@+ ,
Localization@@- 9
.@@9 :
	Settings2@@: C
}@@D E
,@@E F
newAA 
SettingsModelAA !
(AA! "
)AA" #
{AA$ %
NameAA& *
=AA+ ,
LocalizationAA- 9
.AA9 :
	Settings4AA: C
}AAD E
,AAE F
newBB 
SettingsModelBB !
(BB! "
)BB" #
{BB$ %
NameBB& *
=BB+ ,
LocalizationBB- 9
.BB9 :
	Settings5BB: C
}BBD E
,BBE F
newCC 
SettingsModelCC !
(CC! "
)CC" #
{CC$ %
NameCC& *
=CC+ ,
LocalizationCC- 9
.CC9 :
AutoDownloadCC: F
,CCF G
DescriptionCCH S
=CCT U

GlobalDataCCV `
.CC` a
CurrentCCa h
.CCh i
AutoDownloadCCi u
?CCv w
Localization	CCx Ñ
.
CCÑ Ö
Yes
CCÖ à
:
CCâ ä
Localization
CCã ó
.
CCó ò
No
CCò ö
}
CCõ ú
,
CCú ù
newDD 
SettingsModelDD !
(DD! "
)DD" #
{DD$ %
NameDD& *
=DD+ ,
LocalizationDD- 9
.DD9 :
	Settings3DD: C
,DDC D
DescriptionDDE P
=DDQ R

GlobalDataDDS ]
.DD] ^
CurrentDD^ e
.DDe f
IgnoreAutoFocusDDf u
?DDv w
Localization	DDx Ñ
.
DDÑ Ö
Yes
DDÖ à
:
DDâ ä
Localization
DDã ó
.
DDó ò
No
DDò ö
}
DDõ ú
}EE 
;EE 
VersionFF 
=FF 
$strFF 
+FF 
GlobalFF "
.FF" #
ApplicationFF# .
.FF. /

GetVersionFF/ 9
(FF9 :
)FF: ;
;FF; <
}GG 	
publicJJ 
asyncJJ 
SystemJJ 
.JJ 
	ThreadingJJ %
.JJ% &
TasksJJ& +
.JJ+ ,
TaskJJ, 0
Item_SelectedJJ1 >
(JJ> ?
objectJJ? E
senderJJF L
,JJL M(
SelectedItemChangedEventArgsJJN j
eJJk l
)JJl m
{KK 	
intLL 
indexLL 
=LL 
eLL 
.LL 
SelectedItemIndexLL +
;LL+ ,
ifNN 
(NN 
indexNN 
>=NN 
$numNN 
&&NN 
indexNN #
<NN$ %
ItemsNN& +
.NN+ ,
CountNN, 1
)NN1 2
{OO 
ifPP 
(PP 
ePP 
.PP 
SelectedItemIndexPP '
>PP( )
$numPP* +
&&PP, .
ePP/ 0
.PP0 1
SelectedItemPP1 =
!=PP> @
nullPPA E
)PPE F
{QQ 
ifRR 
(RR 
eRR 
.RR 
SelectedItemIndexRR +
==RR, .
$numRR/ 0
)RR0 1
{SS 
foreachTT 
(TT  !
stringTT! '
filepathTT( 0
inTT1 3

GlobalDataTT4 >
.TT> ?
CurrentTT? F
.TTF G
AudiosTTG M
.TTM N
KeysTTN R
)TTR S
{UU 
ifWW 
(WW  
!WW  !

GlobalDataWW! +
.WW+ ,
CurrentWW, 3
.WW3 4
	AudioTagsWW4 =
.WW= >
ContainsKeyWW> I
(WWI J
filepathWWJ R
)WWR S
)WWS T
{XX 
varYY  #
tagYY$ '
=YY( )

GlobalDataYY* 4
.YY4 5
CurrentYY5 <
.YY< =
AudiosYY= C
[YYC D
filepathYYD L
]YYL M
;YYM N
ifZZ  "
(ZZ# $
tagZZ$ '
.ZZ' (
ArtistZZ( .
==ZZ/ 1
LocalizationZZ2 >
.ZZ> ?
UnknownArtistZZ? L
)ZZL M
{[[  !
FileInfo\\$ ,
fileInfo\\- 5
=\\6 7
new\\8 ;
FileInfo\\< D
(\\D E
filepath\\E M
)\\M N
;\\N O
string^^$ *
name^^+ /
=^^0 1
fileInfo^^2 :
.^^: ;
Name^^; ?
.^^? @
Replace^^@ G
(^^G H
fileInfo^^H P
.^^P Q
	Extension^^Q Z
,^^Z [
$str^^\ ^
)^^^ _
;^^_ `
string__$ *
[__* +
]__+ ,
splitted__- 5
=__6 7
name__8 <
.__< =
Split__= B
(__B C
new__C F
string__G M
[__M N
]__N O
{__P Q
$str__R W
,__W X
$str__Y ^
,__^ _
$str__` d
,__d e
$str__f j
}__k l
,__l m
StringSplitOptions	__n Ä
.
__Ä Å 
RemoveEmptyEntries
__Å ì
)
__ì î
;
__î ï
stringaa$ *
artistaa+ 1
=aa2 3
splittedaa4 <
.aa< =
Lengthaa= C
==aaD F
$numaaG H
?aaI J
LocalizationaaK W
.aaW X
UnknownArtistaaX e
:aaf g
splittedaah p
[aap q
$numaaq r
]aar s
;aas t
stringbb$ *
titlebb+ 0
=bb1 2
splittedbb3 ;
[bb; <
splittedbb< D
.bbD E
LengthbbE K
==bbL N
$numbbO P
?bbQ R
$numbbS T
:bbU V
$numbbW X
]bbX Y
;bbY Z

GlobalDatacc$ .
.cc. /
Currentcc/ 6
.cc6 7
	AudioTagscc7 @
.cc@ A
AddccA D
(ccD E
filepathccE M
,ccM N
newccO R
MediaSourceTagccS a
(cca b
)ccb c
{ccd e
Authorccf l
=ccm n
artistcco u
,ccu v
Titleccw |
=cc} ~
title	cc Ñ
}
ccÖ Ü
)
ccÜ á
;
ccá à
}dd  !
}ee 
}ff 

GlobalDatagg "
.gg" #
Currentgg# *
.gg* +
SaveTagsgg+ 3
(gg3 4
)gg4 5
;gg5 6
Globalhh 
.hh 
Applicationhh *
.hh* +
ShowSnackbarhh+ 7
(hh7 8
Localizationhh8 D
.hhD E
ReadyhhE J
)hhJ K
;hhK L
}ii 
elsejj 
ifjj 
(jj 
ejj 
.jj 
SelectedItemIndexjj 0
==jj1 3
$numjj4 5
)jj5 6
{kk 
stringll 
[ll 
]ll  
filesll! &
=ll' (
	Directoryll) 2
.ll2 3
GetFilesll3 ;
(ll; <

GlobalDatall< F
.llF G
CurrentllG N
.llN O
DataPathllO W
,llW X
$strllY b
)llb c
;llc d
foreachnn 
(nn  !
stringnn! '
filenn( ,
innn- /
filesnn0 5
)nn5 6
{oo 
Filepp  
.pp  !
Deletepp! '
(pp' (
filepp( ,
)pp, -
;pp- .
}qq 
UIss 
.ss 
Globalss !
.ss! "
Applicationss" -
.ss- .
ShowSnackbarss. :
(ss: ;
Localizationss; G
.ssG H
ReadyssH M
)ssM N
;ssN O
}tt 
elseuu 
ifuu 
(uu 
euu 
.uu 
SelectedItemIndexuu 0
==uu1 3
$numuu4 5
)uu5 6
{vv 
Globalww 
.ww 
Applicationww *
.ww* +
AddFolderToScanww+ :
(ww: ;
)ww; <
;ww< =
}xx 
elseyy 
ifyy 
(yy 
eyy 
.yy 
SelectedItemIndexyy 0
==yy1 3
$numyy4 5
)yy5 6
{zz 
string{{ 
newLang{{ &
={{' (
await{{) .

NormalPage{{/ 9
.{{9 :
Instance{{: B
.{{B C
DisplayActionSheet{{C U
({{U V
Localization{{V b
.{{b c
	Settings5{{c l
,{{l m
Localization{{n z
.{{z {
Cancel	{{{ Å
,
{{Å Ç
null
{{É á
,
{{á à
Localization
{{â ï
.
{{ï ñ

LanguagePL
{{ñ †
,
{{† °
Localization
{{¢ Æ
.
{{Æ Ø

LanguageEN
{{Ø π
,
{{π ∫
Localization
{{ª «
.
{{« »

LanguageRU
{{» “
)
{{“ ”
;
{{” ‘
if|| 
(|| 
newLang|| #
==||$ &
Localization||' 3
.||3 4

LanguagePL||4 >
)||> ?

GlobalData}} &
.}}& '
Current}}' .
.}}. /
CurrentLanguage}}/ >
=}}? @
$str}}A E
;}}E F
else~~ 
if~~ 
(~~  !
newLang~~! (
==~~) +
Localization~~, 8
.~~8 9

LanguageEN~~9 C
)~~C D

GlobalData &
.& '
Current' .
.. /
CurrentLanguage/ >
=? @
$strA E
;E F
else
ÄÄ 
if
ÄÄ 
(
ÄÄ  !
newLang
ÄÄ! (
==
ÄÄ) +
Localization
ÄÄ, 8
.
ÄÄ8 9

LanguageRU
ÄÄ9 C
)
ÄÄC D

GlobalData
ÅÅ &
.
ÅÅ& '
Current
ÅÅ' .
.
ÅÅ. /
CurrentLanguage
ÅÅ/ >
=
ÅÅ? @
$str
ÅÅA E
;
ÅÅE F
Localization
ÉÉ $
.
ÉÉ$ %
RefreshLanguage
ÉÉ% 4
(
ÉÉ4 5
)
ÉÉ5 6
;
ÉÉ6 7

GlobalData
ÑÑ "
.
ÑÑ" #
Current
ÑÑ# *
.
ÑÑ* +

SaveConfig
ÑÑ+ 5
(
ÑÑ5 6
)
ÑÑ6 7
;
ÑÑ7 8
Global
ÖÖ 
.
ÖÖ 
Application
ÖÖ *
.
ÖÖ* +
ShowSnackbar
ÖÖ+ 7
(
ÖÖ7 8
Localization
ÖÖ8 D
.
ÖÖD E
SettingsChanges
ÖÖE T
)
ÖÖT U
;
ÖÖU V
}
ÜÜ 
else
áá 
if
áá 
(
áá 
e
áá 
.
áá 
SelectedItemIndex
áá 0
==
áá1 3
$num
áá4 5
)
áá5 6
{
àà 
string
ââ 
	newOption
ââ (
=
ââ) *
await
ââ+ 0

NormalPage
ââ1 ;
.
ââ; <
Instance
ââ< D
.
ââD E 
DisplayActionSheet
ââE W
(
ââW X
Localization
ââX d
.
ââd e
AutoDownload
ââe q
,
ââq r
Localization
ââs 
.ââ Ä
CancelââÄ Ü
,ââÜ á
nullââà å
,ââå ç
Localizationââé ö
.ââö õ
Yesââõ û
,ââû ü
Localizationââ† ¨
.ââ¨ ≠
Noââ≠ Ø
)ââØ ∞
;ââ∞ ±
if
ãã 
(
ãã 
	newOption
ãã %
==
ãã& (
Localization
ãã) 5
.
ãã5 6
Yes
ãã6 9
)
ãã9 :
{
åå 

GlobalData
çç &
.
çç& '
Current
çç' .
.
çç. /
AutoDownload
çç/ ;
=
çç< =
true
çç> B
;
ççB C
Items
éé !
[
éé! "
$num
éé" #
]
éé# $
.
éé$ %
Description
éé% 0
=
éé1 2
Localization
éé3 ?
.
éé? @
Yes
éé@ C
;
ééC D
}
èè 
else
êê 
if
êê 
(
êê  !
	newOption
êê! *
==
êê+ -
Localization
êê. :
.
êê: ;
No
êê; =
)
êê= >
{
ëë 

GlobalData
íí &
.
íí& '
Current
íí' .
.
íí. /
AutoDownload
íí/ ;
=
íí< =
false
íí> C
;
ííC D
Items
ìì !
[
ìì! "
$num
ìì" #
]
ìì# $
.
ìì$ %
Description
ìì% 0
=
ìì1 2
Localization
ìì3 ?
.
ìì? @
No
ìì@ B
;
ììB C
}
îî 

GlobalData
ïï "
.
ïï" #
Current
ïï# *
.
ïï* +

SaveConfig
ïï+ 5
(
ïï5 6
)
ïï6 7
;
ïï7 8
Global
ññ 
.
ññ 
Application
ññ *
.
ññ* +
ShowSnackbar
ññ+ 7
(
ññ7 8
Localization
ññ8 D
.
ññD E
SettingsChanges
ññE T
)
ññT U
;
ññU V
}
óó 
else
òò 
if
òò 
(
òò 
e
òò 
.
òò 
SelectedItemIndex
òò 0
==
òò1 3
$num
òò4 5
)
òò5 6
{
ôô 
string
öö 
	newOption
öö (
=
öö) *
await
öö+ 0

NormalPage
öö1 ;
.
öö; <
Instance
öö< D
.
ööD E 
DisplayActionSheet
ööE W
(
ööW X
Localization
ööX d
.
ööd e
	Settings3
ööe n
,
öön o
Localization
ööp |
.
öö| }
Cancelöö} É
,ööÉ Ñ
nullööÖ â
,ööâ ä
Localizationööã ó
.ööó ò
Yesööò õ
,ööõ ú
Localizationööù ©
.öö© ™
Noöö™ ¨
)öö¨ ≠
;öö≠ Æ
if
úú 
(
úú 
	newOption
úú %
==
úú& (
Localization
úú) 5
.
úú5 6
Yes
úú6 9
)
úú9 :
{
ùù 

GlobalData
ûû &
.
ûû& '
Current
ûû' .
.
ûû. /
IgnoreAutoFocus
ûû/ >
=
ûû? @
true
ûûA E
;
ûûE F
Items
üü !
[
üü! "
$num
üü" #
]
üü# $
.
üü$ %
Description
üü% 0
=
üü1 2
Localization
üü3 ?
.
üü? @
Yes
üü@ C
;
üüC D
}
†† 
else
°° 
if
°° 
(
°°  !
	newOption
°°! *
==
°°+ -
Localization
°°. :
.
°°: ;
No
°°; =
)
°°= >
{
¢¢ 

GlobalData
££ &
.
££& '
Current
££' .
.
££. /
IgnoreAutoFocus
££/ >
=
££? @
false
££A F
;
££F G
Items
§§ !
[
§§! "
$num
§§" #
]
§§# $
.
§§$ %
Description
§§% 0
=
§§1 2
Localization
§§3 ?
.
§§? @
No
§§@ B
;
§§B C
}
•• 

GlobalData
¶¶ "
.
¶¶" #
Current
¶¶# *
.
¶¶* +

SaveConfig
¶¶+ 5
(
¶¶5 6
)
¶¶6 7
;
¶¶7 8
Global
ßß 
.
ßß 
Application
ßß *
.
ßß* +
ShowSnackbar
ßß+ 7
(
ßß7 8
Localization
ßß8 D
.
ßßD E
Ready
ßßE J
)
ßßJ K
;
ßßK L
}
®® 
}
©© 
(
™™ 
sender
™™ 
as
™™ 
ListView
™™ #
)
™™# $
.
™™$ %
SelectedItem
™™% 1
=
™™2 3
null
™™4 8
;
™™8 9
}
´´ 
}
¨¨ 	
}
ØØ 
}∞∞ ®H
ED:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\TrackViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
{ 
public 

class 
TrackViewModel 
:  !
PropertyChangedBase" 5
{ 
private 
bool 
isRefreshing !
;! "
public  
ObservableCollection #
<# $

TrackModel$ .
>. /
Items0 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
bool 
IsRefreshing  
{ 	
get 
=> 
isRefreshing 
;  
set 
{ 
isRefreshing 
= 
value $
;$ %
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
private 
ICommand 
refresh  
;  !
public   
ICommand   
Refresh   
{!! 	
get"" 
{## 
if$$ 
($$ 
refresh$$ 
==$$ 
null$$ #
)$$# $
refresh%% 
=%% 
new%% !
ActionCommand%%" /
(%%/ 0
	parameter%%0 9
=>%%: <
{&& 
IsRefreshing'' $
=''% &
true''' +
;''+ ,
List(( 
<(( 

TrackModel(( '
>((' (

beforeSort(() 3
=((4 5
new((6 9
List((: >
<((> ?

TrackModel((? I
>((I J
(((J K
)((K L
;((L M
foreach)) 
())  !
var))! $
track))% *
in))+ -

GlobalData)). 8
.))8 9
Current))9 @
.))@ A
Audios))A G
.))G H
Values))H N
)))N O
{** 

beforeSort++ &
.++& '
Add++' *
(++* +
new+++ .

TrackModel++/ 9
(++9 :
track++: ?
)++? @
.++@ A
CheckChanges++A M
(++M N
)++N O
)++O P
;++P Q
},, 
Items-- 
=-- 
new--  # 
ObservableCollection--$ 8
<--8 9

TrackModel--9 C
>--C D
(--D E

beforeSort--E O
.--O P
OrderBy--P W
(--W X
item--X \
=>--] _
item--` d
.--d e
TrackString--e p
)--p q
)--q r
;--r s
IsRefreshing.. $
=..% &
false..' ,
;.., -
}// 
)// 
;// 
return00 
refresh00 
;00 
}11 
}22 	
public55 
TrackViewModel55 
(55 
)55 
{66 	
List77 
<77 

TrackModel77 
>77 

beforeSort77 '
=77( )
new77* -
List77. 2
<772 3

TrackModel773 =
>77= >
(77> ?
)77? @
;77@ A
foreach88 
(88 
var88 
track88 
in88 !

GlobalData88" ,
.88, -
Current88- 4
.884 5
Audios885 ;
.88; <
Values88< B
.88B C
ToList88C I
(88I J
)88J K
)88K L
{99 

beforeSort:: 
.:: 
Add:: 
(:: 
new:: "

TrackModel::# -
(::- .
track::. 3
)::3 4
.::4 5
CheckChanges::5 A
(::A B
)::B C
)::C D
;::D E
};; 
Items<< 
=<< 
new<<  
ObservableCollection<< ,
<<<, -

TrackModel<<- 7
><<7 8
(<<8 9

beforeSort<<9 C
.<<C D
OrderBy<<D K
(<<K L
item<<L P
=><<Q S
item<<T X
.<<X Y
TrackString<<Y d
)<<d e
)<<e f
;<<f g
}== 	
publicAA 
voidAA 
TickAA 
(AA 
)AA 
{BB 	
ifCC 
(CC 
ItemsCC 
.CC 
CountCC 
!=CC 

GlobalDataCC )
.CC) *
CurrentCC* 1
.CC1 2
AudiosCC2 8
.CC8 9
CountCC9 >
)CC> ?
{DD 
ItemsEE 
.EE 
ClearEE 
(EE 
)EE 
;EE 
ListFF 
<FF 

TrackModelFF 
>FF  

beforeSortFF! +
=FF, -
newFF. 1
ListFF2 6
<FF6 7

TrackModelFF7 A
>FFA B
(FFB C
)FFC D
;FFD E
foreachGG 
(GG 
varGG 
trackGG "
inGG# %

GlobalDataGG& 0
.GG0 1
CurrentGG1 8
.GG8 9
AudiosGG9 ?
.GG? @
ValuesGG@ F
.GGF G
ToListGGG M
(GGM N
)GGN O
)GGO P
{HH 

beforeSortII 
.II 
AddII "
(II" #
newII# &

TrackModelII' 1
(II1 2
trackII2 7
)II7 8
.II8 9
CheckChangesII9 E
(IIE F
)IIF G
)IIG H
;IIH I
}JJ 
foreachKK 
(KK 
varKK 
itemKK !
inKK" $

beforeSortKK% /
.KK/ 0
OrderByKK0 7
(KK7 8
itemKK8 <
=>KK= ?
itemKK@ D
.KKD E
TrackStringKKE P
)KKP Q
)KKQ R
{LL 
ItemsMM 
.MM 
AddMM 
(MM 
itemMM "
)MM" #
;MM# $
}NN 
}OO 
foreachPP 
(PP 
varPP 
modelPP 
inPP !
ItemsPP" '
.PP' (
ToListPP( .
(PP. /
)PP/ 0
)PP0 1
{QQ 
ifRR 
(RR 

GlobalDataRR 
.RR 
CurrentRR &
.RR& '
AudiosRR' -
.RR- .
ContainsKeyRR. 9
(RR9 :
modelRR: ?
.RR? @
FilePathRR@ H
)RRH I
)RRI J
{SS 
varTT 
sourceTT 
=TT  

GlobalDataTT! +
.TT+ ,
CurrentTT, 3
.TT3 4
AudiosTT4 :
[TT: ;
modelTT; @
.TT@ A
FilePathTTA I
]TTI J
;TTJ K
ifUU 
(UU 
modelUU 
.UU 
ArtistUU $
!=UU% '
sourceUU( .
.UU. /
ArtistUU/ 5
||UU6 8
modelUU9 >
.UU> ?
TitleUU? D
!=UUE G
sourceUUH N
.UUN O
TitleUUO T
)UUT U
{VV 
intWW 
indexWW !
=WW" #
ItemsWW$ )
.WW) *
IndexOfWW* 1
(WW1 2
modelWW2 7
)WW7 8
;WW8 9
ItemsXX 
[XX 
indexXX #
]XX# $
.XX$ %
TitleXX% *
=XX+ ,
sourceXX- 3
.XX3 4
TitleXX4 9
;XX9 :
ItemsYY 
[YY 
indexYY #
]YY# $
.YY$ %
ArtistYY% +
=YY, -
sourceYY. 4
.YY4 5
ArtistYY5 ;
;YY; <
}ZZ 
model[[ 
.[[ 
CheckChanges[[ &
([[& '
)[[' (
;[[( )
}\\ 
else]] 
{^^ 
Items__ 
.__ 
Remove__  
(__  !
model__! &
)__& '
;__' (
}`` 
}aa 
}cc 	
publicee 
voidee 
Track_Selectedee "
(ee" #
objectee# )
senderee* 0
,ee0 1(
SelectedItemChangedEventArgsee2 N
eeeO P
)eeP Q
{ff 	
intgg 
indexgg 
=gg 
egg 
.gg 
SelectedItemIndexgg +
;gg+ ,
ifii 
(ii 
indexii 
>=ii 
$numii 
&&ii 
indexii #
<ii$ %
Itemsii& +
.ii+ ,
Countii, 1
)ii1 2
{jj 

GlobalDatakk 
.kk 
Currentkk "
.kk" #
MediaPlayerkk# .
.kk. /
LoadPlaylistkk/ ;
(kk; <
Itemskk< A
.kkA B
SelectkkB H
(kkH I
itemkkI M
=>kkN P
itemkkQ U
.kkU V
FilePathkkV ^
)kk^ _
.kk_ `
ToListkk` f
(kkf g
)kkg h
,kkh i
indexkkj o
,kko p
truekkq u
,kku v
truekkw {
)kk{ |
;kk| }
(ll 
senderll 
asll 
Xamarinll "
.ll" #
Formsll# (
.ll( )
ListViewll) 1
)ll1 2
.ll2 3
SelectedItemll3 ?
=ll@ A
nullllB F
;llF G
}mm 
}nn 	
}qq 
}rr ‡-
XD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\ViewCells\ArtistGridItemViewModel.cs
	namespace

 	
Newtone


 
.

 
Mobile

 
.

 
UI

 
.

 

ViewModels

 &
.

& '
	ViewCells

' 0
{ 
public 

class #
ArtistGridItemViewModel (
:) *
PropertyChangedBase+ >
{ 
private 
string 

artistName !
;! "
private 
string 

tracksText !
;! "
private 
ImageSource 
image !
;! "
private 
Xamarin 
. 
Forms 
. 
View "
View# '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 

ArtistName  
{ 	
get 
=> 

artistName 
; 
set 
{ 

artistName 
= 
value "
;" #
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
public 
string 

TracksText  
{   	
get!! 
=>!! 

tracksText!! 
;!! 
set"" 
{## 

tracksText$$ 
=$$ 
value$$ "
;$$" #
OnPropertyChanged%% !
(%%! "
)%%" #
;%%# $
}&& 
}'' 	
public)) 
ImageSource)) 
Image))  
{** 	
get++ 
=>++ 
image++ 
;++ 
set,, 
{-- 
image.. 
=.. 
value.. 
;.. 
OnPropertyChanged// !
(//! "
)//" #
;//# $
}00 
}11 	
private44 
ICommand44 
longPressedCommand44 +
;44+ ,
public55 
ICommand55 
LongPressedCommand55 *
{66 	
get77 
{88 
if99 
(99 
longPressedCommand99 &
==99' )
null99* .
)99. /
longPressedCommand:: &
=::' (
new::) ,
ActionCommand::- :
(::: ;
	parameter::; D
=>::E G
{;; 
ContextMenuBuilder<< *
.<<* +
BuildForArtist<<+ 9
(<<9 :
View<<: >
,<<> ?

ArtistName<<@ J
)<<J K
;<<K L
}== 
)== 
;== 
return?? 
longPressedCommand?? )
;??) *
}@@ 
}AA 	
privateCC 
ICommandCC 
pressedCommandCC '
;CC' (
publicDD 
ICommandDD 
PressedCommandDD &
{EE 	
getFF 
{GG 
ifHH 
(HH 
pressedCommandHH "
==HH# %
nullHH& *
)HH* +
pressedCommandII "
=II# $
newII% (
ActionCommandII) 6
(II6 7
asyncII7 <
(II= >
	parameterII> G
)IIG H
=>III K
{JJ 
awaitKK 

NormalPageKK (
.KK( )
NavigationInstanceKK) ;
.KK; <
PushModalAsyncKK< J
(KKJ K
newKKK N
	ModalPageKKO X
(KKX Y
newKKY \
CurrentTracksPageKK] n
(KKn o

GlobalDataKKo y
.KKy z
Current	KKz Å
.
KKÅ Ç
Artists
KKÇ â
[
KKâ ä

ArtistName
KKä î
]
KKî ï
,
KKï ñ
$str
KKó ô
)
KKô ö
,
KKö õ

ArtistName
KKú ¶
)
KK¶ ß
)
KKß ®
;
KK® ©
}LL 
)LL 
;LL 
returnMM 
pressedCommandMM %
;MM% &
}NN 
}OO 	
publicRR #
ArtistGridItemViewModelRR &
(RR& '
stringRR' -

artistNameRR. 8
,RR8 9
XamarinRR: A
.RRA B
FormsRRB G
.RRG H
ViewRRH L
viewRRM Q
)RRQ R
{SS 	
ViewTT 
=TT 
viewTT 
;TT 

ArtistNameUU 
=UU 

artistNameUU #
;UU# $

TracksTextVV 
=VV 
LocalizationVV %
.VV% &
TracksVV& ,
+VV- .
$strVV/ 3
+VV4 5

GlobalDataVV6 @
.VV@ A
CurrentVVA H
.VVH I
ArtistsVVI P
[VVP Q

artistNameVVQ [
]VV[ \
.VV\ ]
CountVV] b
;VVb c
ImageWW 
=WW 
ImageSourceWW 
.WW  
FromFileWW  (
(WW( )
$strWW) 9
)WW9 :
;WW: ;
foreachYY 
(YY 
stringYY 
filePathYY $
inYY% '

GlobalDataYY( 2
.YY2 3
CurrentYY3 :
.YY: ;
ArtistsYY; B
[YYB C

artistNameYYC M
]YYM N
)YYN O
{ZZ 
var[[ 
source[[ 
=[[ 

GlobalData[[ '
.[[' (
Current[[( /
.[[/ 0
Audios[[0 6
[[[6 7
filePath[[7 ?
][[? @
;[[@ A
if\\ 
(\\ 
source\\ 
.\\ 
Image\\  
!=\\! #
null\\$ (
)\\( )
{]] 
Image^^ 
=^^ 
ImageProcessing^^ +
.^^+ ,
	FromArray^^, 5
(^^5 6
source^^6 <
.^^< =
Image^^= B
)^^B C
;^^C D
break__ 
;__ 
}`` 
}aa 
}bb 	
}dd 
}ee ™C
ZD:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\ViewCells\PlaylistGridItemViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
.& '
	ViewCells' 0
{ 
public 

class %
PlaylistGridItemViewModel *
:+ ,
PropertyChangedBase- @
{ 
private 
string 
playlistName #
;# $
private 
string 

tracksText !
;! "
private 
string 
playlistUrl "
;" #
private 
ImageSource 
image !
;! "
private 
Xamarin 
. 
Forms 
. 
View "
View# '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
PlaylistName "
{ 	
get 
=> 
playlistName 
;  
set 
{ 
playlistName 
= 
value $
;$ %
OnPropertyChanged   !
(  ! "
)  " #
;  # $
}!! 
}"" 	
public$$ 
string$$ 
PlaylistUrl$$ !
{%% 	
get&& 
=>&& 
playlistUrl&& 
;&& 
set'' 
{(( 
playlistUrl)) 
=)) 
value)) #
;))# $
OnPropertyChanged** !
(**! "
)**" #
;**# $
}++ 
},, 	
public.. 
string.. 

TracksText..  
{// 	
get00 
=>00 

tracksText00 
;00 
set11 
{22 

tracksText33 
=33 
value33 "
;33" #
OnPropertyChanged44 !
(44! "
)44" #
;44# $
}55 
}66 	
public88 
ImageSource88 
Image88  
{99 	
get:: 
=>:: 
image:: 
;:: 
set;; 
{<< 
image== 
=== 
value== 
;== 
OnPropertyChanged>> !
(>>! "
)>>" #
;>># $
}?? 
}@@ 	
privateCC 
ICommandCC 
longPressedCommandCC +
;CC+ ,
publicDD 
ICommandDD 
LongPressedCommandDD *
{EE 	
getFF 
{GG 
ifHH 
(HH 
longPressedCommandHH &
==HH' )
nullHH* .
)HH. /
longPressedCommandII &
=II' (
newII) ,
ActionCommandII- :
(II: ;
	parameterII; D
=>IIE G
{JJ 
ifKK 
(KK 
stringKK "
.KK" #
IsNullOrEmptyKK# 0
(KK0 1
PlaylistUrlKK1 <
)KK< =
)KK= >
ContextMenuBuilderLL .
.LL. /
BuildForPlaylistLL/ ?
(LL? @
ViewLL@ D
,LLD E
PlaylistNameLLF R
)LLR S
;LLS T
}MM 
)MM 
;MM 
returnOO 
longPressedCommandOO )
;OO) *
}PP 
}QQ 	
privateSS 
ICommandSS 
pressedCommandSS '
;SS' (
publicTT 
ICommandTT 
PressedCommandTT &
{UU 	
getVV 
{WW 
ifXX 
(XX 
pressedCommandXX "
==XX# %
nullXX& *
)XX* +
pressedCommandYY "
=YY# $
newYY% (
ActionCommandYY) 6
(YY6 7
asyncYY7 <
(YY= >
	parameterYY> G
)YYG H
=>YYI K
{ZZ 
if[[ 
([[ 
string[[ "
.[[" #
IsNullOrEmpty[[# 0
([[0 1
PlaylistUrl[[1 <
)[[< =
)[[= >
{\\ 
await]] !

NormalPage]]" ,
.]], -
NavigationInstance]]- ?
.]]? @
PushModalAsync]]@ N
(]]N O
new]]O R
	ModalPage]]S \
(]]\ ]
new]]] `
CurrentTracksPage]]a r
(]]r s

GlobalData]]s }
.]]} ~
Current	]]~ Ö
.
]]Ö Ü
	Playlists
]]Ü è
[
]]è ê
PlaylistName
]]ê ú
]
]]ú ù
,
]]ù û
PlaylistName
]]ü ´
)
]]´ ¨
,
]]¨ ≠
PlaylistName
]]Æ ∫
)
]]∫ ª
)
]]ª º
;
]]º Ω
}^^ 
else__ 
{`` 
awaitaa !

NormalPageaa" ,
.aa, -
NavigationInstanceaa- ?
.aa? @
PushModalAsyncaa@ N
(aaN O
newaaO R
	ModalPageaaS \
(aa\ ]
newaa] `
SearchResultPageaaa q
(aaq r
PlaylistUrlaar }
)aa} ~
,aa~ 
PlaylistName
aaÄ å
)
aaå ç
)
aaç é
;
aaé è
}bb 
}cc 
)cc 
;cc 
returndd 
pressedCommanddd %
;dd% &
}ee 
}ff 	
publicii %
PlaylistGridItemViewModelii (
(ii( )
stringii) /
playlistNameii0 <
,ii< =
Xamarinii> E
.iiE F
FormsiiF K
.iiK L
ViewiiL P
viewiiQ U
)iiU V
{jj 	
Viewkk 
=kk 
viewkk 
;kk 
Imagell 
=ll 
ImageSourcell 
.ll  
FromFilell  (
(ll( )
$strll) 9
)ll9 :
;ll: ;
ifnn 
(nn 
playlistNamenn 
.nn 

StartsWithnn '
(nn' (
$strnn( 0
)nn0 1
)nn1 2
{oo 
PlaylistNamepp 
=pp 

GlobalDatapp )
.pp) *
Currentpp* 1
.pp1 2
RecomendedPlaylistspp2 E
.ppE F
KeysppF J
.ppJ K
FirstppK P
(ppP Q
itemppQ U
=>ppV X

GlobalDatappY c
.ppc d
Currentppd k
.ppk l
RecomendedPlaylistsppl 
[	pp Ä
item
ppÄ Ñ
]
ppÑ Ö
==
ppÜ à
playlistName
ppâ ï
)
ppï ñ
;
ppñ ó
PlaylistUrlqq 
=qq 
playlistNameqq *
;qq* +
}rr 
elsess 
{tt 
PlaylistNameuu 
=uu 
playlistNameuu +
;uu+ ,

TracksTextvv 
=vv 
Localizationvv )
.vv) *
Tracksvv* 0
+vv1 2
$strvv3 7
+vv8 9

GlobalDatavv: D
.vvD E
CurrentvvE L
.vvL M
	PlaylistsvvM V
[vvV W
playlistNamevvW c
]vvc d
.vvd e
Countvve j
;vvj k
foreachxx 
(xx 
stringxx 
filePathxx  (
inxx) +

GlobalDataxx, 6
.xx6 7
Currentxx7 >
.xx> ?
	Playlistsxx? H
[xxH I
playlistNamexxI U
]xxU V
)xxV W
{yy 
MediaSourcezz 
sourcezz  &
=zz' (
nullzz) -
;zz- .
if|| 
(|| 
filePath||  
.||  !
Length||! '
==||( *
$num||+ -
)||- .
source}} 
=}}  

GlobalData}}! +
.}}+ ,
Current}}, 3
.}}3 4
SavedTracks}}4 ?
[}}? @
filePath}}@ H
]}}H I
;}}I J
else~~ 
source 
=  

GlobalData! +
.+ ,
Current, 3
.3 4
Audios4 :
[: ;
filePath; C
]C D
;D E
if
ÄÄ 
(
ÄÄ 
source
ÄÄ 
.
ÄÄ 
Image
ÄÄ $
!=
ÄÄ% '
null
ÄÄ( ,
&&
ÄÄ- /
source
ÄÄ0 6
.
ÄÄ6 7
Image
ÄÄ7 <
.
ÄÄ< =
Length
ÄÄ= C
>
ÄÄD E
$num
ÄÄF G
)
ÄÄG H
{
ÅÅ 
Image
ÇÇ 
=
ÇÇ 
ImageProcessing
ÇÇ  /
.
ÇÇ/ 0
	FromArray
ÇÇ0 9
(
ÇÇ9 :
source
ÇÇ: @
.
ÇÇ@ A
Image
ÇÇA F
)
ÇÇF G
;
ÇÇG H
break
ÉÉ 
;
ÉÉ 
}
ÑÑ 
}
ÖÖ 
}
ÜÜ 
}
áá 	
}
ââ 
}ää —
^D:\Projekty\CS\Newtone\Newtone.Mobile.UI\ViewModels\ViewCells\SearchResultViewCellViewModel.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 

ViewModels &
.& '
	ViewCells' 0
{ 
public 

class )
SearchResultViewCellViewModel .
{ 
private 
ICommand 
downloadClicked (
;( )
public 
ICommand 
DownloadClicked '
{ 	
get 
{ 
if 
( 
downloadClicked #
==$ &
null' +
)+ ,
downloadClicked #
=$ %
new& )
ActionCommand* 7
(7 8
async8 =
(> ?
	parameter? H
)H I
=>J L
{ 
ContextMenuBuilder *
.* + 
BuildForSearchResult+ ?
(? @
	parameter@ I
asJ L
XamarinM T
.T U
FormsU Z
.Z [
View[ _
,_ `
(a b
	parameterb k
asl n
CustomImageButton	o Ä
)
Ä Å
.
Å Ç
Tag
Ç Ö
)
Ö Ü
;
Ü á
} 
) 
; 
return 
downloadClicked &
;& '
} 
} 	
} 
}   ÓK
AD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\ArtistPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 

ArtistPage #
:$ %
ContentView& 1
,1 2
IVisibleContent3 B
,B C
ITimerContentD Q
{ 
private 
static 
IList 
< 
View !
>! "
generatedChildrens# 5
;5 6
private 
bool 
isInitializing #
=$ %
false& +
;+ ,
public 

ArtistPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
Init 
( 
) 
; 
} 	
public 
void 
	Appearing 
( 
) 
{ 	
} 	
public!! 
void!! 
Disappearing!!  
(!!  !
)!!! "
{"" 	
}$$ 	
public%% 
void%% 
Init%% 
(%% 
)%% 
{&& 	
isInitializing'' 
='' 
true'' !
;''! "
if(( 
((( 
generatedChildrens(( "
==((# %
null((& *
)((* +
{)) 
generatedChildrens** "
=**# $
new**% (
List**) -
<**- .
View**. 2
>**2 3
(**3 4
)**4 5
;**5 6
List++ 
<++ 
string++ 
>++ 

beforeSort++ '
=++( )
new++* -
List++. 2
<++2 3
string++3 9
>++9 :
(++: ;
)++; <
;++< =
string,, 
unknown,, 
=,,  
null,,! %
;,,% &
foreach.. 
(.. 
string.. 
artist..  &
in..' )

GlobalData..* 4
...4 5
Current..5 <
...< =
Artists..= D
...D E
Keys..E I
...I J
ToList..J P
(..P Q
)..Q R
)..R S
{// 
if00 
(00 
artist00 
==00 !
Localization00" .
.00. /
UnknownArtist00/ <
)00< =
unknown11 
=11  !
artist11" (
;11( )
else22 

beforeSort33 "
.33" #
Add33# &
(33& '
artist33' -
)33- .
;33. /
}44 
List66 
<66 
string66 
>66 
	afterSort66 &
=66' (

beforeSort66) 3
.663 4
OrderBy664 ;
(66; <
o66< =
=>66> @
o66A B
)66B C
.66C D
ToList66D J
(66J K
)66K L
;66L M
if88 
(88 
unknown88 
!=88 
null88 #
)88# $
	afterSort99 
.99 
Add99 !
(99! "
unknown99" )
)99) *
;99* +
int;; 
pos;; 
=;; 
$num;; 
;;; 
string<< 
model0<< 
=<< 
null<<  $
;<<$ %
foreach== 
(== 
string== 
artist==  &
in==' )
	afterSort==* 3
)==3 4
{>> 
if?? 
(?? 
pos?? 
==?? 
$num??  
)??  !
{@@ 
model0AA 
=AA  
artistAA! '
;AA' (
posBB 
=BB 
$numBB 
;BB  
}CC 
elseDD 
{EE 
XamarinFF 
.FF  
FormsFF  %
.FF% &
RelativeLayoutFF& 4
layoutFF5 ;
=FF< =
newFF> A
XamarinFFB I
.FFI J
FormsFFJ O
.FFO P
RelativeLayoutFFP ^
(FF^ _
)FF_ `
;FF` a
layoutGG 
.GG 
ChildrenGG '
.GG' (
AddGG( +
(GG+ ,
newGG, /
ArtistGridItemGG0 >
(GG> ?
thisGG? C
,GGC D
model0GGE K
)GGK L
,GGL M
nullGGN R
,GGR S
nullGGT X
,GGX Y

ConstraintGGZ d
.GGd e
RelativeToParentGGe u
(GGu v
parentGGv |
=>GG} 
parent
GGÄ Ü
.
GGÜ á
Width
GGá å
*
GGç é
$num
GGè í
)
GGí ì
,
GGì î

Constraint
GGï ü
.
GGü †
Constant
GG† ®
(
GG® ©
$num
GG© ¨
)
GG¨ ≠
)
GG≠ Æ
;
GGÆ Ø
layoutHH 
.HH 
ChildrenHH '
.HH' (
AddHH( +
(HH+ ,
newHH, /
ArtistGridItemHH0 >
(HH> ?
thisHH? C
,HHC D
artistHHE K
)HHK L
,HHL M

ConstraintHHN X
.HHX Y
RelativeToParentHHY i
(HHi j
parentHHj p
=>HHq s
parentHHt z
.HHz {
Width	HH{ Ä
*
HHÅ Ç
$num
HHÉ Ü
)
HHÜ á
,
HHá à
null
HHâ ç
,
HHç é

Constraint
HHè ô
.
HHô ö
RelativeToParent
HHö ™
(
HH™ ´
parent
HH´ ±
=>
HH≤ ¥
parent
HHµ ª
.
HHª º
Width
HHº ¡
*
HH¬ √
$num
HHƒ «
)
HH« »
,
HH» …

Constraint
HH  ‘
.
HH‘ ’
Constant
HH’ ›
(
HH› ﬁ
$num
HHﬁ ·
)
HH· ‚
)
HH‚ „
;
HH„ ‰
generatedChildrensII *
.II* +
AddII+ .
(II. /
layoutII/ 5
)II5 6
;II6 7
posJJ 
=JJ 
$numJJ 
;JJ  
}KK 
}MM 
ifOO 
(OO 
posOO 
==OO 
$numOO 
)OO 
{PP 
XamarinQQ 
.QQ 
FormsQQ !
.QQ! "
RelativeLayoutQQ" 0
layoutQQ1 7
=QQ8 9
newQQ: =
XamarinQQ> E
.QQE F
FormsQQF K
.QQK L
RelativeLayoutQQL Z
(QQZ [
)QQ[ \
;QQ\ ]
layoutRR 
.RR 
ChildrenRR #
.RR# $
AddRR$ '
(RR' (
newRR( +
ArtistGridItemRR, :
(RR: ;
thisRR; ?
,RR? @
model0RRA G
)RRG H
,RRH I
nullRRJ N
,RRN O
nullRRP T
,RRT U

ConstraintRRV `
.RR` a
RelativeToParentRRa q
(RRq r
parentRRr x
=>RRy {
parent	RR| Ç
.
RRÇ É
Width
RRÉ à
)
RRà â
,
RRâ ä

Constraint
RRã ï
.
RRï ñ
Constant
RRñ û
(
RRû ü
$num
RRü ¢
)
RR¢ £
)
RR£ §
;
RR§ •
generatedChildrensSS &
.SS& '
AddSS' *
(SS* +
layoutSS+ 1
)SS1 2
;SS2 3
}TT 
DeviceVV 
.VV #
BeginInvokeOnMainThreadVV .
(VV. /
(VV/ 0
)VV0 1
=>VV2 4
{WW 
	trackGridXX 
.XX 
ChildrenXX &
.XX& '
ClearXX' ,
(XX, -
)XX- .
;XX. /
generatedChildrensYY &
.YY& '
ForEachYY' .
(YY. /
	trackGridYY/ 8
.YY8 9
ChildrenYY9 A
.YYA B
AddYYB E
)YYE F
;YYF G
}ZZ 
)ZZ 
;ZZ 
}[[ 
else\\ 
{]] 
if^^ 
(^^ 
	trackGrid^^ 
.^^ 
Children^^ &
.^^& '
Count^^' ,
==^^- /
$num^^0 1
&&^^2 4
generatedChildrens^^5 G
?^^G H
.^^H I
Count^^I N
>^^O P
$num^^Q R
)^^R S
{__ 
Device`` 
.`` #
BeginInvokeOnMainThread`` 2
(``2 3
(``3 4
)``4 5
=>``6 8
generatedChildrens``9 K
.``K L
ForEach``L S
(``S T
	trackGrid``T ]
.``] ^
Children``^ f
.``f g
Add``g j
)``j k
)``k l
;``l m
}aa 
}bb 
isInitializingcc 
=cc 
falsecc "
;cc" #
}dd 	
publicff 
voidff 
Tickff 
(ff 
)ff 
{gg 	
ifhh 
(hh 

GlobalDatahh 
.hh 
Currenthh "
.hh" #
ArtistsNeedRefreshhh# 5
&&hh6 8
!hh9 :
isInitializinghh: H
&&hhI K
GlobalhhL R
.hhR S
LoadedhhS Y
)hhY Z
{ii 
ifjj 
(jj 
generatedChildrensjj &
!=jj' )
nulljj* .
)jj. /
{kk 
generatedChildrensll &
=ll' (
nullll) -
;ll- .
}mm 
Initoo 
(oo 
)oo 
;oo 

GlobalDatapp 
.pp 
Currentpp "
.pp" #
ArtistsNeedRefreshpp# 5
=pp6 7
falsepp8 =
;pp= >
}qq 
}rr 	
}tt 
}uu ü
JD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\CurrentPlaylistPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{		 
[

 
XamlCompilation

 
(

 "
XamlCompilationOptions

 +
.

+ ,
Compile

, 3
)

3 4
]

4 5
public 

partial 
class 
CurrentPlaylistPage ,
:- .
ContentView/ :
,: ;
ITimerContent< I
{ 
private 
readonly $
CurrentPlaylistViewModel 1
	ViewModel2 ;
;; <
public 
CurrentPlaylistPage "
(" #
)# $
{ 	
InitializeComponent 
(  
)  !
;! "
	ViewModel 
= 
BindingContext &
as' )$
CurrentPlaylistViewModel* B
;B C
} 	
public 
void 
	Appearing 
( 
) 
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public 
void 
Disappearing  
(  !
)! "
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public"" 
void"" 
Tick"" 
("" 
)"" 
{## 	
	ViewModel$$ 
?$$ 
.$$ 
Tick$$ 
($$ 
)$$ 
;$$ 
}&& 	
private)) 
void)) &
TrackListView_ItemSelected)) /
())/ 0
object))0 6
sender))7 =
,))= >(
SelectedItemChangedEventArgs))? [
e))\ ]
)))] ^
{** 	
	ViewModel++ 
?++ 
.++ &
TrackListView_ItemSelected++ 1
(++1 2
sender++2 8
,++8 9
e++: ;
)++; <
;++< =
},, 	
}.. 
}// Œ
HD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\CurrentTracksPage.xaml.cs
	namespace

 	
Newtone


 
.

 
Mobile

 
.

 
UI

 
.

 
Views

 !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
CurrentTracksPage *
:+ ,
ContentView- 8
,8 9
ITimerContent: G
{ 
private "
CurrentTracksViewModel &
	ViewModel' 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
CurrentTracksPage  
(  !
List! %
<% &
string& ,
>, -
tracks. 4
,4 5
string6 <
playlistName= I
)I J
{ 	
InitializeComponent 
(  
)  !
;! "
BindingContext 
= 
	ViewModel &
=' (
new) ,"
CurrentTracksViewModel- C
(C D
tracksD J
,J K
playlistNameL X
)X Y
;Y Z
} 	
public 
void 
Tick 
( 
) 
{ 	
	ViewModel 
? 
. 
Tick 
( 
) 
; 
} 	
private"" 
void"" &
TrackListView_ItemSelected"" /
(""/ 0
object""0 6
sender""7 =
,""= >(
SelectedItemChangedEventArgs""? [
e""\ ]
)""] ^
{## 	
	ViewModel$$ 
?$$ 
.$$ &
TrackListView_ItemSelected$$ 1
($$1 2
sender$$2 8
,$$8 9
e$$: ;
)$$; <
;$$< =
}%% 	
public'' 
void'' 
	Appearing'' 
('' 
)'' 
{(( 	
throw)) 
new)) #
NotImplementedException)) -
())- .
))). /
;))/ 0
}** 	
public,, 
void,, 
Disappearing,,  
(,,  !
),,! "
{-- 	
throw.. 
new.. #
NotImplementedException.. -
(..- .
)... /
;../ 0
}// 	
}11 
}22 â,
KD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\Custom\AudioSliderControl.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "
Custom" (
{ 
public 

class 
AudioSliderControl #
:$ %
Slider& ,
{ 
private 
static 
AudioSliderControl )
Instance* 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public		 
static		 
readonly		 
BindableProperty		 /*
ValueWithoutBaseEventsProperty		0 N
=		O P
BindableProperty		Q a
.		a b
Create		b h
(		h i
$str			i Å
,
		Å Ç
typeof
		É â
(
		â ä
double
		ä ê
)
		ê ë
,
		ë í
typeof
		ì ô
(
		ô ö 
AudioSliderControl
		ö ¨
)
		¨ ≠
,
		≠ Æ
null
		Ø ≥
,
		≥ ¥
propertyChanged
		µ ƒ
:
		ƒ ≈-
OnValueWithoutBaseEventsChanged
		∆ Â
)
		Â Ê
;
		Ê Á
public

 
static

 
readonly

 
BindableProperty

 /(
MaxWithoutBaseEventsProperty

0 L
=

M N
BindableProperty

O _
.

_ `
Create

` f
(

f g
$str

g }
,

} ~
typeof	

 Ö
(


Ö Ü
double


Ü å
)


å ç
,


ç é
typeof


è ï
(


ï ñ 
AudioSliderControl


ñ ®
)


® ©
,


© ™
null


´ Ø
,


Ø ∞
propertyChanged


± ¿
:


¿ ¡+
OnMaxWithoutBaseEventsChanged


¬ ﬂ
)


ﬂ ‡
;


‡ ·
public 
double "
ValueWithoutBaseEvents ,
{ 	
get 
=> 
Value 
; 
set 
{ 
InvokeEvents 
= 
false $
;$ %
Value 
= 
value 
; 
OnPropertyChanged !
(! "
$str" )
)) *
;* +
} 
} 	
public 
double  
MaxWithoutBaseEvents *
{ 	
get 
=> 
Maximum 
; 
set 
{ 
InvokeEvents 
= 
false $
;$ %
Maximum 
= 
value 
;  
OnPropertyChanged !
(! "
$str" +
)+ ,
;, -
} 
}   	
private"" 
bool"" 
InvokeEvents"" !
{""" #
get""$ '
;""' (
set"") ,
;"", -
}"". /
public%% 
delegate%% 
void%% 
ValueChangedHandler%% 0
(%%0 1
object%%1 7
sender%%8 >
,%%> ?
ValueChangedArgs%%@ P
e%%Q R
)%%R S
;%%S T
public&& 
event&& 
ValueChangedHandler&& (
ValueNewChanged&&) 8
;&&8 9
public)) 
AudioSliderControl)) !
())! "
)))" #
{** 	
ValueChanged++ 
+=++ $
AudioSlider_ValueChanged++ 4
;++4 5
Instance,, 
=,, 
this,, 
;,, 
InvokeEvents-- 
=-- 
true-- 
;--  
}.. 	
private11 
void11 $
AudioSlider_ValueChanged11 -
(11- .
object11. 4
sender115 ;
,11; <!
ValueChangedEventArgs11= R
e11S T
)11T U
{22 	
if33 
(33 
InvokeEvents33 
)33 
ValueNewChanged44 
?44  
.44  !
Invoke44! '
(44' (
sender44( .
,44. /
new440 3
ValueChangedArgs444 D
(44D E
)44E F
{44G H
Value44I N
=44O P
e44Q R
.44R S
NewValue44S [
}44\ ]
)44] ^
;44^ _
InvokeEvents66 
=66 
true66 
;66  
}77 	
private88 
static88 
void88 +
OnValueWithoutBaseEventsChanged88 ;
(88; <
BindableObject88< J
bindable88K S
,88S T
object88U [
oldValue88\ d
,88d e
object88f l
newValue88m u
)88u v
{99 	
Instance:: 
.:: "
ValueWithoutBaseEvents:: +
=::, -
(::. /
double::/ 5
)::5 6
newValue::6 >
;::> ?
};; 	
private== 
static== 
void== )
OnMaxWithoutBaseEventsChanged== 9
(==9 :
BindableObject==: H
bindable==I Q
,==Q R
object==S Y
oldValue==Z b
,==b c
object==d j
newValue==k s
)==s t
{>> 	
Instance?? 
.??  
MaxWithoutBaseEvents?? )
=??* +
(??, -
double??- 3
)??3 4
newValue??4 <
;??< =
}@@ 	
publicCC 
classCC 
ValueChangedArgsCC %
{DD 	
publicEE 
doubleEE 
ValueEE 
{EE  !
getEE" %
;EE% &
setEE' *
;EE* +
}EE, -
}FF 	
}HH 
}II Ê#
JD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\Custom\CustomImageButton.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "
Custom" (
{ 
public 

class 
CustomImageButton "
:# $
ImageButton% 0
{ 
public

 
event

 
EventHandler

 !
<

! "
ToggledEventArgs

" 2
>

2 3
Toggled

4 ;
;

; <
public 
static 
BindableProperty &
IsToggledProperty' 8
=9 :
BindableProperty 
. 
Create #
(# $
$str$ /
,/ 0
typeof1 7
(7 8
bool8 <
)< =
,= >
typeof? E
(E F
CustomImageButtonF W
)W X
,X Y
falseZ _
,_ `
propertyChanged$ 3
:3 4
OnIsToggledChanged5 G
)G H
;H I
public 
bool 
	IsToggled 
{ 	
set 
{ 
SetValue 
( 
IsToggledProperty ,
,, -
value. 3
)3 4
;4 5
}6 7
get 
{ 
return 
( 
bool 
) 
GetValue '
(' (
IsToggledProperty( 9
)9 :
;: ;
}< =
} 	
public 
static 
BindableProperty &
TagProperty' 2
=3 4
BindableProperty 
. 
Create #
(# $
$str$ )
,) *
typeof+ 1
(1 2
string2 8
)8 9
,9 :
typeof; A
(A B
CustomImageButtonB S
)S T
,T U
defaultV ]
(] ^
string^ d
)d e
)e f
;f g
public 
string 
Tag 
{ 	
set 
{ 
SetValue 
( 
TagProperty &
,& '
value( -
)- .
;. /
}0 1
get 
{ 
return 
( 
string  
)  !
GetValue! )
() *
TagProperty* 5
)5 6
;6 7
}8 9
} 	
public!! 
CustomImageButton!!  
(!!  !
)!!! "
{"" 	
Clicked## 
+=## %
CustomImageButton_Clicked## 0
;##0 1
}$$ 	
private'' 
static'' 
void'' 
OnIsToggledChanged'' .
(''. /
BindableObject''/ =
bindable''> F
,''F G
object''H N
oldValue''O W
,''W X
object''Y _
newValue''` h
)''h i
{(( 	
CustomImageButton)) 
toggleButton)) *
=))+ ,
())- .
CustomImageButton)). ?
)))? @
bindable))@ H
;))H I
bool** 
	isToggled** 
=** 
(** 
bool** "
)**" #
newValue**# +
;**+ ,
toggleButton-- 
.-- 
Toggled--  
?--  !
.--! "
Invoke--" (
(--( )
toggleButton--) 5
,--5 6
new--7 :
ToggledEventArgs--; K
(--K L
	isToggled--L U
)--U V
)--V W
;--W X
Debug.. 
... 
	WriteLine.. 
(.. 
$str.. /
+..0 1
	isToggled..2 ;
)..; <
;..< =
VisualStateManager00 
.00 
	GoToState00 (
(00( )
toggleButton00) 5
,005 6
	isToggled007 @
?00A B
$str00C N
:00O P
$str00Q Y
)00Y Z
;00Z [
}11 	
private33 
void33 %
CustomImageButton_Clicked33 .
(33. /
object33/ 5
sender336 <
,33< =
	EventArgs33> G
e33H I
)33I J
{44 	
VisualStateManager55 
.55 
	GoToState55 (
(55( )
this55) -
,55- .
	IsToggled55/ 8
?559 :
$str55; F
:55G H
$str55I Q
)55Q R
;55R S
}66 	
}88 
}99  
ID:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\Custom\PlayerPanel.xaml.cs
	namespace

 	
Newtone


 
.

 
Mobile

 
.

 
UI

 
.

 
Views

 !
.

! "
Custom

" (
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
PlayerPanel $
:% &
ContentView' 2
,2 3
ITimerContent4 A
{ 
private  
PlayerPanelViewModel $
	ViewModel% .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
PlayerPanel 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
	ViewModel 
= 
BindingContext &
as' ) 
PlayerPanelViewModel* >
;> ?
backgroundImage 
. 
On 
< 
iOS "
>" #
(# $
)$ %
.% &
UseBlurEffect& 3
(3 4
BlurEffectStyle4 C
.C D
LightD I
)I J
;J K
} 	
public 
void 
Tick 
( 
) 
{ 	
	ViewModel 
? 
. 
Tick 
( 
) 
; 
} 	
public   
void   
	Appearing   
(   
)   
{!! 	
throw"" 
new"" #
NotImplementedException"" -
(""- .
)"". /
;""/ 0
}## 	
public%% 
void%% 
Disappearing%%  
(%%  !
)%%! "
{&& 	
throw'' 
new'' #
NotImplementedException'' -
(''- .
)''. /
;''/ 0
}(( 	
}** 
}++ ’
ID:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\Custom\PressGestureMask.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "
Custom" (
{ 
public 

class 
PressGestureMask !
:" #
Xamarin$ +
.+ ,
Forms, 1
.1 2
Image2 7
{ 
public

 
static

 
BindableProperty

 &"
PressedCommandProperty

' =
=

> ?
BindableProperty 
. 
Create #
(# $
$str$ 4
,4 5
typeof6 <
(< =
ICommand= E
)E F
,F G
typeofH N
(N O
PressGestureMaskO _
)_ `
)` a
;a b
public 
static 
BindableProperty &&
LongPressedCommandProperty' A
=B C
BindableProperty 
. 
Create #
(# $
$str$ 8
,8 9
typeof: @
(@ A
ICommandA I
)I J
,J K
typeofL R
(R S
PressGestureMaskS c
)c d
)d e
;e f
public 
event 
EventHandler !
LongPressed" -
;- .
public 
event 
EventHandler !
Pressed" )
;) *
public 
ICommand 
PressedCommand &
{ 	
get 
=> 
( 
ICommand 
) 
GetValue %
(% &"
PressedCommandProperty& <
)< =
;= >
set 
=> 
SetValue 
( "
PressedCommandProperty 2
,2 3
value4 9
)9 :
;: ;
} 	
public 
ICommand 
LongPressedCommand *
{ 	
get 
=> 
( 
ICommand 
) 
GetValue %
(% &&
LongPressedCommandProperty& @
)@ A
;A B
set 
=> 
SetValue 
( &
LongPressedCommandProperty 6
,6 7
value8 =
)= >
;> ?
} 	
public$$ 
void$$ 
HandleLongPress$$ #
($$# $
object$$$ *
sender$$+ 1
,$$1 2
	EventArgs$$3 <
e$$= >
)$$> ?
{%% 	
LongPressed&& 
?&& 
.&& 
Invoke&& 
(&&  
sender&&  &
,&&& '
e&&( )
)&&) *
;&&* +
LongPressedCommand'' 
?'' 
.''  
Execute''  '
(''' (
null''( ,
)'', -
;''- .
})) 	
public++ 
void++ 
HandlePress++ 
(++  
object++  &
sender++' -
,++- .
	EventArgs++/ 8
e++9 :
)++: ;
{,, 	
Pressed-- 
?-- 
.-- 
Invoke-- 
(-- 
sender-- "
,--" #
e--$ %
)--% &
;--& '
PressedCommand.. 
?.. 
... 
Execute.. #
(..# $
null..$ (
)..( )
;..) *
}// 	
}11 
}22 ˛
CD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\DownloadPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{		 
[

 
XamlCompilation

 
(

 "
XamlCompilationOptions

 +
.

+ ,
Compile

, 3
)

3 4
]

4 5
public 

partial 
class 
DownloadPage %
:& '
ContentView( 3
,3 4
ITimerContent5 B
{ 
private 
DownloadViewModel !
	ViewModel" +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
DownloadPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
	ViewModel 
= 
BindingContext &
as' )
DownloadViewModel* ;
;; <
} 	
public 
void 
Tick 
( 
) 
{ 	
	ViewModel 
? 
. 
Tick 
( 
) 
; 
} 	
public 
void 
	Appearing 
( 
) 
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
}   	
public"" 
void"" 
Disappearing""  
(""  !
)""! "
{## 	
throw$$ 
new$$ #
NotImplementedException$$ -
($$- .
)$$. /
;$$/ 0
}%% 	
}'' 
}(( í
ED:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\FirstStartPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public		 

partial		 
class		 
FirstStartPage		 '
:		( )
ContentPage		* 5
{

 
public 
static 
FirstStartPage $
Instance% -
{. /
get0 3
;3 4
private5 <
set= @
;@ A
}B C
public 
FirstStartPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
Instance 
= 
this 
; 
SetPage 
( 
new 
FirstStartSearch (
(( )
)) *
)* +
;+ ,
} 	
public 
void 
SetPage 
( 
ContentView '
view( ,
), -
{ 	
mainGrid 
. 
Children 
. 
Clear #
(# $
)$ %
;% &
mainGrid 
. 
Children 
. 
Add !
(! "
view" &
,& '
$num( )
,) *
$num+ ,
), -
;- .
} 	
} 
} †
RD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\FirstStart\FirstStartSearch.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "

FirstStart" ,
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
FirstStartSearch )
:* +
ContentView, 7
{ 
public

 
FirstStartSearch

 
(

  
)

  !
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} Ω
ED:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\FullScreenPage.xaml.cs
	namespace

 	
Newtone


 
.

 
Mobile

 
.

 
UI

 
.

 
Views

 !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
FullScreenPage '
:( )
ContentPage* 5
,5 6 
INavigationContainer7 K
{ 
private 
FullScreenViewModel #
	ViewModel$ -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
FullScreenPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
On 
< 
iOS 
> 
( 
) 
. 
SetUseSafeArea $
($ %
true% )
)) *
;* +
var 
safeAreaInset 
= 
On  "
<" #
iOS# &
>& '
(' (
)( )
.) *
SafeAreaInsets* 8
(8 9
)9 :
;: ;
Padding 
= 
safeAreaInset #
;# $
	ViewModel 
= 
BindingContext &
as' )
FullScreenViewModel* =
;= >
	Appearing 
+= 
PageAppearing &
;& '
Disappearing 
+= 
PageDisappearing ,
;, -
audioSlider 
. 
ValueNewChanged '
+=( *'
AudioSlider_ValueNewChanged+ F
;F G
	trackBlur 
. 
On 
< 
iOS 
> 
( 
) 
.  
UseBlurEffect  -
(- .
BlurEffectStyle. =
.= >
Light> C
)C D
;D E
} 	
private!! 
void!! '
AudioSlider_ValueNewChanged!! 0
(!!0 1
object!!1 7
sender!!8 >
,!!> ?
Custom!!@ F
.!!F G
AudioSliderControl!!G Y
.!!Y Z
ValueChangedArgs!!Z j
e!!k l
)!!l m
{"" 	
	ViewModel## 
?## 
.## '
AudioSlider_ValueNewChanged## 2
(##2 3
e##3 4
)##4 5
;##5 6
}$$ 	
private&& 
void&& 
PageDisappearing&& %
(&&% &
object&&& ,
sender&&- 3
,&&3 4
	EventArgs&&5 >
e&&? @
)&&@ A
{'' 	
	ViewModel(( 
?(( 
.(( 
Disappearing(( #
(((# $
)(($ %
;((% &
})) 	
private++ 
void++ 
PageAppearing++ "
(++" #
object++# )
sender++* 0
,++0 1
	EventArgs++2 ;
e++< =
)++= >
{,, 	
	ViewModel-- 
?-- 
.-- 
	Appearing--  
(--  !
)--! "
;--" #
}.. 	
public00 
void00 
Block00 
(00 
)00 
{11 	
blocker22 
.22 
	IsVisible22 
=22 
true22  $
;22$ %
}33 	
public55 
void55 
Unblock55 
(55 
)55 
{66 	
blocker77 
.77 
	IsVisible77 
=77 
false77  %
;77% &
}88 	
public:: 
bool:: 
	IsBlocked:: 
(:: 
):: 
{;; 	
return<< 
blocker<< 
.<< 
	IsVisible<< $
;<<$ %
}== 	
}?? 
}@@ ¬
ID:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\LanguageSelectPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public		 

partial		 
class		 
LanguageSelectPage		 +
:		, -
ContentPage		. 9
{

 
public 
LanguageSelectPage !
(! "
string" (
nextPage) 1
)1 2
{ 	
InitializeComponent 
(  
)  !
;! "
BindingContext 
= 
new  #
LanguageSelectViewModel! 8
(8 9
nextPage9 A
)A B
;B C
} 	
} 
} ﬂ	
?D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\MainPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
MainPage !
:" #
NavigationPage$ 2
{ 
public

 
static

 
MainPage

 
Instance

 '
{

( )
get

* -
;

- .
set

/ 2
;

2 3
}

4 5
public 
static 
INavigation !
NavigationInstance" 4
{ 	
get 
{ 
return 
Instance 
.  

Navigation  *
;* +
} 
} 	
public 
MainPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
Instance 
= 
this 
; 
} 	
} 
} „2
@D:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\ModalPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
	ModalPage "
:# $
ContentPage% 0
,0 1 
INavigationContainer2 F
{ 
private 
IDisposable 
loopSubscription ,
;, -
private 
ModalViewModel 
	ViewModel (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
	ModalPage 
( 
ContentView $
content% ,
,, -
string. 4
title5 :
,: ;
bool< @
topPanelVisibleA P
=Q R
trueS W
,W X
boolY ]
playerPanelVisible^ p
=q r
trues w
)w x
{ 	
InitializeComponent 
(  
)  !
;! "
On 
< 
iOS 
> 
( 
) 
. 
SetUseSafeArea $
($ %
true% )
)) *
;* +
var 
safeAreaInset 
= 
On  "
<" #
iOS# &
>& '
(' (
)( )
.) *
SafeAreaInsets* 8
(8 9
)9 :
;: ;
page 
. 
Padding 
= 
safeAreaInset (
;( )
BindingContext 
= 
	ViewModel &
=' (
new) ,
ModalViewModel- ;
(; <
	container< E
,E F
titleG L
,L M
topPanelVisibleN ]
)] ^
;^ _
	container 
. 
Children 
. 
Add "
(" #
content# *
)* +
;+ ,
	Appearing!! 
+=!! 
PageAppearing!! &
;!!& '
Disappearing"" 
+="" 
PageDisappearing"" ,
;"", -
playerPanel$$ 
.$$ 
	IsVisible$$ !
=$$" #
playerPanelVisible$$$ 6
;$$6 7
	ViewModel%% 
.%% 
OnPropertyChanged%% '
(%%' (
(%%( )
)%%) *
=>%%+ -
	ViewModel%%. 7
.%%7 8!
DownloadButtonVisible%%8 M
)%%M N
;%%N O
}&& 	
private)) 
void)) 
PageDisappearing)) %
())% &
object))& ,
sender))- 3
,))3 4
	EventArgs))5 >
e))? @
)))@ A
{** 	
	ViewModel++ 
?++ 
.++ 
Disappearing++ #
(++# $
)++$ %
;++% &
loopSubscription,, 
?,, 
.,, 
Dispose,, %
(,,% &
),,& '
;,,' (
loopSubscription-- 
=-- 
null-- #
;--# $
}.. 	
private00 
void00 
PageAppearing00 "
(00" #
object00# )
sender00* 0
,000 1
	EventArgs002 ;
e00< =
)00= >
{11 	
var22 
src22 
=22 
System22 
.22 
Reactive22 %
.22% &
Linq22& *
.22* +

Observable22+ 5
.225 6
Timer226 ;
(22; <
TimeSpan22< D
.22D E
Zero22E I
,22I J
TimeSpan22K S
.22S T
FromMilliseconds22T d
(22d e
$num22e h
)22h i
)22i j
.22j k
	Timestamp22k t
(22t u
)22u v
;22v w
loopSubscription33 
=33 
src33 "
.33" #
	Subscribe33# ,
(33, -
time33- 1
=>332 4
Tick335 9
(339 :
)33: ;
)33; <
;33< =
	ViewModel44 
?44 
.44 
	Appearing44  
(44  !
)44! "
;44" #
}55 	
private77 
void77 
Tick77 
(77 
)77 
{88 	
if99 
(99 
playerPanel99 
!=99 
null99 #
)99# $
{:: 
Device;; 
.;; #
BeginInvokeOnMainThread;; .
(;;. /
(;;/ 0
);;0 1
=>;;2 4
playerPanel;;5 @
.;;@ A
	IsVisible;;A J
=;;K L

GlobalData;;M W
.;;W X
Current;;X _
.;;_ `
MediaSource;;` k
!=;;l n
null;;o s
);;s t
;;;t u
playerPanel<< 
?<< 
.<< 
Tick<< !
(<<! "
)<<" #
;<<# $
}== 
	ViewModel?? 
??? 
.?? 
Tick?? 
(?? 
)?? 
;?? 
}@@ 	
publicBB 
voidBB 
BlockBB 
(BB 
)BB 
{CC 	
blockerDD 
.DD 
	IsVisibleDD 
=DD 
trueDD  $
;DD$ %
}EE 	
publicGG 
voidGG 
UnblockGG 
(GG 
)GG 
{HH 	
blockerII 
.II 
	IsVisibleII 
=II 
falseII  %
;II% &
}JJ 	
publicLL 
boolLL 
	IsBlockedLL 
(LL 
)LL 
{MM 	
returnNN 
blockerNN 
.NN 
	IsVisibleNN $
;NN$ %
}OO 	
publicQQ 
TypeQQ 
GetContentTypeQQ "
(QQ" #
)QQ# $
{RR 	
returnSS 
	containerSS 
.SS 
ChildrenSS %
.SS% &
CountSS& +
==SS, .
$numSS/ 0
?SS1 2
nullSS3 7
:SS8 9
	containerSS: C
.SSC D
ChildrenSSD L
[SSL M
$numSSM N
]SSN O
.SSO P
GetTypeSSP W
(SSW X
)SSX Y
;SSY Z
}TT 	
}VV 
}WW Å3
AD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\NormalPage.xaml.cs
	namespace

 	
Newtone


 
.

 
Mobile

 
.

 
UI

 
.

 
Views

 !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 

NormalPage #
:$ %
ContentPage& 1
,1 2 
INavigationContainer3 G
{ 
private 
NormalViewModel 
	ViewModel  )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
static 

NormalPage  
Instance! )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
static 
NavigationWrapper '
NavigationInstance( :
{ 	
get 
{ 
return 
new 
NavigationWrapper ,
(, -
Instance- 5
.5 6

Navigation6 @
)@ A
;A B
} 
} 	
public 

NormalPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
On 
< 
iOS 
> 
( 
) 
. 
SetUseSafeArea $
($ %
true% )
)) *
;* +
var 
safeAreaInset 
= 
On  "
<" #
iOS# &
>& '
(' (
)( )
.) *
SafeAreaInsets* 8
(8 9
)9 :
;: ;
page   
.   
Padding   
=   
safeAreaInset   (
;  ( )
BindingContext!! 
=!! 
	ViewModel!! &
=!!' (
new!!) ,
NormalViewModel!!- <
(!!< =
	container!!= F
,!!F G
playerPanel!!H S
,!!S T
searchEntry!!U `
)!!` a
;!!a b
Instance"" 
="" 
this"" 
;"" 
	Appearing## 
+=## 
PageAppearing## &
;##& '
Disappearing$$ 
+=$$ 
PageDisappearing$$ ,
;$$, -
}%% 	
public(( 
void(( 
Block(( 
((( 
)(( 
{)) 	
blocker** 
.** 
	IsVisible** 
=** 
true**  $
;**$ %
}++ 	
public-- 
void-- 
Unblock-- 
(-- 
)-- 
{.. 	
blocker// 
.// 
	IsVisible// 
=// 
false//  %
;//% &
}00 	
public11 
bool11 
	IsBlocked11 
(11 
)11 
{22 	
return33 
blocker33 
.33 
	IsVisible33 $
;33$ %
}44 	
private77 
void77 
PageDisappearing77 %
(77% &
object77& ,
sender77- 3
,773 4
	EventArgs775 >
e77? @
)77@ A
{88 	
	ViewModel99 
?99 
.99 
Disappearing99 #
(99# $
)99$ %
;99% &
}:: 	
private<< 
void<< 
PageAppearing<< "
(<<" #
object<<# )
sender<<* 0
,<<0 1
	EventArgs<<2 ;
e<<< =
)<<= >
{== 	
	ViewModel>> 
?>> 
.>> 
	Appearing>>  
(>>  !
)>>! "
;>>" #
}?? 	
privateAA 
asyncAA 
voidAA 
Entry_CompletedAA *
(AA* +
objectAA+ 1
senderAA2 8
,AA8 9
	EventArgsAA: C
eAAD E
)AAE F
{BB 	
ifCC 
(CC 
!CC 
stringCC 
.CC 
IsNullOrEmptyCC %
(CC% &
	ViewModelCC& /
?CC/ 0
.CC0 1
	EntryTextCC1 :
)CC: ;
)CC; <
{DD 
awaitEE 

NormalPageEE  
.EE  !
NavigationInstanceEE! 3
.EE3 4
PushModalAsyncEE4 B
(EEB C
newEEC F
	ModalPageEEG P
(EEP Q
newEEQ T
SearchResultPageEEU e
(EEe f
	ViewModelEEf o
?EEo p
.EEp q
	EntryTextEEq z
)EEz {
,EE{ |
	ViewModel	EE} Ü
?
EEÜ á
.
EEá à
	EntryText
EEà ë
)
EEë í
)
EEí ì
;
EEì î
}FF 
}GG 	
privateHH 
voidHH 
Entry_FocusedHH "
(HH" #
objectHH# )
senderHH* 0
,HH0 1
FocusEventArgsHH2 @
eHHA B
)HHB C
{II 	
	ViewModelJJ 
.JJ $
SearchSuggestionsVisibleJJ .
=JJ/ 0
trueJJ1 5
;JJ5 6
	ViewModelKK 
?KK 
.KK 
RefreshSuggestionKK (
(KK( )
)KK) *
;KK* +
}LL 	
privateNN 
voidNN 
Entry_UnfocusedNN $
(NN$ %
objectNN% +
senderNN, 2
,NN2 3
FocusEventArgsNN4 B
eNNC D
)NND E
{OO 	
	ViewModelPP 
.PP $
SearchSuggestionsVisiblePP .
=PP/ 0
falsePP1 6
;PP6 7
}QQ 	
privateSS 
voidSS 
Entry_TextChangedSS &
(SS& '
objectSS' -
senderSS. 4
,SS4 5 
TextChangedEventArgsSS6 J
eSSK L
)SSL M
{TT 	
	ViewModelUU 
?UU 
.UU 
RefreshSuggestionUU (
(UU( )
)UU) *
;UU* +
}VV 	
privateXX 
voidXX '
SuggestionList_ItemSelectedXX 0
(XX0 1
objectXX1 7
senderXX8 >
,XX> ?(
SelectedItemChangedEventArgsXX@ \
eXX] ^
)XX^ _
{YY 	
	ViewModelZZ 
?ZZ 
.ZZ #
SuggestionItem_SelectedZZ .
(ZZ. /
senderZZ/ 5
,ZZ5 6
eZZ7 8
)ZZ8 9
;ZZ9 :
}[[ 	
}]] 
}^^ Ë
ED:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\PermissionPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
PermissionPage '
:( )
ContentPage* 5
{ 
public

 
PermissionPage

 
(

 
)

 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} ît
CD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\PlaylistPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
PlaylistPage %
:& '
ContentView( 3
,3 4
IVisibleContent5 D
,D E
ITimerContentF S
{ 
private 
static 
IList 
< 
View !
>! "
generatedChildrens# 5
;5 6
private 
bool 
isInitializing #
=$ %
false& +
;+ ,
public 
PlaylistPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
Init 
( 
) 
; 
} 	
public 
void 
Init 
( 
) 
{ 	
isInitializing 
= 
true !
;! "
if   
(   
generatedChildrens   "
==  # %
null  & *
)  * +
{!! 
List"" 
<"" 
string"" 
>"" 

beforeSort"" '
=""( )
new""* -
List"". 2
<""2 3
string""3 9
>""9 :
("": ;
)""; <
;""< =
foreach$$ 
($$ 
string$$ 
playlist$$  (
in$$) +

GlobalData$$, 6
.$$6 7
Current$$7 >
.$$> ?
	Playlists$$? H
.$$H I
Keys$$I M
.$$M N
ToList$$N T
($$T U
)$$U V
)$$V W
{%% 

beforeSort&& 
.&& 
Add&& "
(&&" #
playlist&&# +
)&&+ ,
;&&, -
}'' 
List)) 
<)) 
string)) 
>)) 
	afterSort)) &
=))' (

beforeSort))) 3
.))3 4
OrderBy))4 ;
()); <
o))< =
=>))> @
o))A B
)))B C
.))C D
ToList))D J
())J K
)))K L
;))L M
generatedChildrens++ "
=++# $
new++% (
List++) -
<++- .
View++. 2
>++2 3
(++3 4
)++4 5
;++5 6
int,, 
pos,, 
=,, 
$num,, 
;,, 
string-- 
model0-- 
=-- 
null--  $
;--$ %
foreach// 
(// 
string// 
playlist//  (
in//) +
	afterSort//, 5
)//5 6
{00 
if11 
(11 
pos11 
==11 
$num11  
)11  !
{22 
model033 
=33  
playlist33! )
;33) *
pos44 
=44 
$num44 
;44  
}55 
else66 
{77 
Xamarin88 
.88  
Forms88  %
.88% &
RelativeLayout88& 4
layout885 ;
=88< =
new88> A
Xamarin88B I
.88I J
Forms88J O
.88O P
RelativeLayout88P ^
(88^ _
)88_ `
;88` a
layout99 
.99 
Children99 '
.99' (
Add99( +
(99+ ,
new99, /
PlaylistGridItem990 @
(99@ A
this99A E
,99E F
model099G M
)99M N
,99N O
null99P T
,99T U
null99V Z
,99Z [

Constraint99\ f
.99f g
RelativeToParent99g w
(99w x
parent99x ~
=>	99 Å
parent
99Ç à
.
99à â
Width
99â é
*
99è ê
$num
99ë î
)
99î ï
,
99ï ñ

Constraint
99ó °
.
99° ¢
Constant
99¢ ™
(
99™ ´
$num
99´ Æ
)
99Æ Ø
)
99Ø ∞
;
99∞ ±
layout:: 
.:: 
Children:: '
.::' (
Add::( +
(::+ ,
new::, /
PlaylistGridItem::0 @
(::@ A
this::A E
,::E F
playlist::G O
)::O P
,::P Q

Constraint::R \
.::\ ]
RelativeToParent::] m
(::m n
parent::n t
=>::u w
parent::x ~
.::~ 
Width	:: Ñ
*
::Ö Ü
$num
::á ä
)
::ä ã
,
::ã å
null
::ç ë
,
::ë í

Constraint
::ì ù
.
::ù û
RelativeToParent
::û Æ
(
::Æ Ø
parent
::Ø µ
=>
::∂ ∏
parent
::π ø
.
::ø ¿
Width
::¿ ≈
*
::∆ «
$num
::» À
)
::À Ã
,
::Ã Õ

Constraint
::Œ ÿ
.
::ÿ Ÿ
Constant
::Ÿ ·
(
::· ‚
$num
::‚ Â
)
::Â Ê
)
::Ê Á
;
::Á Ë
generatedChildrens<< *
.<<* +
Add<<+ .
(<<. /
layout<</ 5
)<<5 6
;<<6 7
pos== 
=== 
$num== 
;==  
}>> 
}?? 
ifAA 
(AA 
posAA 
==AA 
$numAA 
)AA 
{BB 
XamarinCC 
.CC 
FormsCC !
.CC! "
RelativeLayoutCC" 0
layoutCC1 7
=CC8 9
newCC: =
XamarinCC> E
.CCE F
FormsCCF K
.CCK L
RelativeLayoutCCL Z
(CCZ [
)CC[ \
;CC\ ]
layoutDD 
.DD 
ChildrenDD #
.DD# $
AddDD$ '
(DD' (
newDD( +
PlaylistGridItemDD, <
(DD< =
thisDD= A
,DDA B
model0DDC I
)DDI J
,DDJ K
nullDDL P
,DDP Q
nullDDR V
,DDV W

ConstraintDDX b
.DDb c
RelativeToParentDDc s
(DDs t
parentDDt z
=>DD{ }
parent	DD~ Ñ
.
DDÑ Ö
Width
DDÖ ä
)
DDä ã
,
DDã å

Constraint
DDç ó
.
DDó ò
Constant
DDò †
(
DD† °
$num
DD° §
)
DD§ •
)
DD• ¶
;
DD¶ ß
generatedChildrensEE &
.EE& '
AddEE' *
(EE* +
layoutEE+ 1
)EE1 2
;EE2 3
}FF 
GenerateRecomendedHH "
(HH" #
)HH# $
;HH$ %
DeviceJJ 
.JJ #
BeginInvokeOnMainThreadJJ .
(JJ. /
(JJ/ 0
)JJ0 1
=>JJ2 4
{KK 
	trackGridLL 
.LL 
ChildrenLL &
.LL& '
ClearLL' ,
(LL, -
)LL- .
;LL. /
foreachMM 
(MM 
varMM  
itemMM! %
inMM& (
generatedChildrensMM) ;
.MM; <
ToListMM< B
(MMB C
)MMC D
)MMD E
{NN 
	trackGridOO !
.OO! "
ChildrenOO" *
.OO* +
AddOO+ .
(OO. /
itemOO/ 3
)OO3 4
;OO4 5
}PP 
}QQ 
)QQ 
;QQ 
}RR 
elseSS 
{TT 
ifUU 
(UU 
	trackGridUU 
.UU 
ChildrenUU &
.UU& '
CountUU' ,
==UU- /
$numUU0 1
&&UU2 4
generatedChildrensUU5 G
?UUG H
.UUH I
CountUUI N
>UUO P
$numUUQ R
)UUR S
{VV 
DeviceWW 
.WW #
BeginInvokeOnMainThreadWW 2
(WW2 3
(WW3 4
)WW4 5
=>WW6 8
generatedChildrensWW9 K
.WWK L
ForEachWWL S
(WWS T
	trackGridWWT ]
.WW] ^
ChildrenWW^ f
.WWf g
AddWWg j
)WWj k
)WWk l
;WWl m
}XX 
}YY 
isInitializingZZ 
=ZZ 
falseZZ "
;ZZ" #
}[[ 	
public\\ 
void\\ 
	Appearing\\ 
(\\ 
)\\ 
{]] 	
}__ 	
publicaa 
voidaa 
Disappearingaa  
(aa  !
)aa! "
{bb 	
}dd 	
publicff 
voidff 
Tickff 
(ff 
)ff 
{gg 	
ifhh 
(hh 

GlobalDatahh 
.hh 
Currenthh "
.hh" # 
PlaylistsNeedRefreshhh# 7
&&hh8 :
!hh; <
isInitializinghh< J
&&hhK M
GlobalhhN T
.hhT U
LoadedhhU [
)hh[ \
{ii 
ifjj 
(jj 
generatedChildrensjj &
!=jj' )
nulljj* .
)jj. /
generatedChildrenskk &
=kk' (
nullkk) -
;kk- .
Initmm 
(mm 
)mm 
;mm 

GlobalDatann 
.nn 
Currentnn "
.nn" # 
PlaylistsNeedRefreshnn# 7
=nn8 9
falsenn: ?
;nn? @
}oo 
}pp 	
privatess 
voidss 
GenerateRecomendedss '
(ss' (
)ss( )
{tt 	
ifuu 
(uu 
Globaluu 
.uu 
Applicationuu "
.uu" #
HasInternetuu# .
(uu. /
)uu/ 0
)uu0 1
{vv 

GlobalDataww 
.ww 
Currentww "
.ww" #
RecomendedPlaylistsww# 6
=ww7 8
RecomendedPlaylistsww9 L
.wwL M"
GetRecomendedPlaylistswwM c
(wwc d
)wwd e
;wwe f
}xx 
intzz 
poszz 
=zz 
$numzz 
;zz 
string{{ 
model0{{ 
={{ 
null{{  
;{{  !
foreach}} 
(}} 
var}} 
key}} 
in}} 

GlobalData}}  *
.}}* +
Current}}+ 2
.}}2 3
RecomendedPlaylists}}3 F
.}}F G
Keys}}G K
)}}K L
{~~ 
if 
( 
pos 
== 
$num 
) 
{
ÄÄ 
model0
ÅÅ 
=
ÅÅ 

GlobalData
ÅÅ '
.
ÅÅ' (
Current
ÅÅ( /
.
ÅÅ/ 0!
RecomendedPlaylists
ÅÅ0 C
[
ÅÅC D
key
ÅÅD G
]
ÅÅG H
;
ÅÅH I
pos
ÇÇ 
=
ÇÇ 
$num
ÇÇ 
;
ÇÇ 
}
ÉÉ 
else
ÑÑ 
{
ÖÖ 
Xamarin
ÜÜ 
.
ÜÜ 
Forms
ÜÜ !
.
ÜÜ! "
RelativeLayout
ÜÜ" 0
layout
ÜÜ1 7
=
ÜÜ8 9
new
ÜÜ: =
Xamarin
ÜÜ> E
.
ÜÜE F
Forms
ÜÜF K
.
ÜÜK L
RelativeLayout
ÜÜL Z
(
ÜÜZ [
)
ÜÜ[ \
;
ÜÜ\ ]
layout
áá 
.
áá 
Children
áá #
.
áá# $
Add
áá$ '
(
áá' (
new
áá( +!
PlaylistWebGridItem
áá, ?
(
áá? @
this
áá@ D
,
ááD E
model0
ááF L
)
ááL M
,
ááM N
null
ááO S
,
ááS T
null
ááU Y
,
ááY Z

Constraint
áá[ e
.
ááe f
RelativeToParent
ááf v
(
ááv w
parent
ááw }
=>áá~ Ä
parentááÅ á
.ááá à
Widthááà ç
*ááé è
$numááê ì
)ááì î
,ááî ï

Constraintááñ †
.áá† °
Constantáá° ©
(áá© ™
$numáá™ ≠
)áá≠ Æ
)ááÆ Ø
;ááØ ∞
layout
àà 
.
àà 
Children
àà #
.
àà# $
Add
àà$ '
(
àà' (
new
àà( +!
PlaylistWebGridItem
àà, ?
(
àà? @
this
àà@ D
,
ààD E

GlobalData
ààF P
.
ààP Q
Current
ààQ X
.
ààX Y!
RecomendedPlaylists
ààY l
[
ààl m
key
ààm p
]
ààp q
)
ààq r
,
ààr s

Constraint
ààt ~
.
àà~ 
RelativeToParentàà è
(ààè ê
parentààê ñ
=>ààó ô
parentààö †
.àà† °
Widthàà° ¶
*ààß ®
$numàà© ¨
)àà¨ ≠
,àà≠ Æ
nullààØ ≥
,àà≥ ¥

Constraintààµ ø
.ààø ¿ 
RelativeToParentàà¿ –
(àà– —
parentàà— ◊
=>ààÿ ⁄
parentàà€ ·
.àà· ‚
Widthàà‚ Á
*ààË È
$numààÍ Ì
)ààÌ Ó
,ààÓ Ô

Constraintàà ˙
.àà˙ ˚
Constantàà˚ É
(ààÉ Ñ
$numààÑ á
)ààá à
)ààà â
;ààâ ä 
generatedChildrens
ää &
.
ää& '
Add
ää' *
(
ää* +
layout
ää+ 1
)
ää1 2
;
ää2 3
pos
ãã 
=
ãã 
$num
ãã 
;
ãã 
}
åå 
}
çç 
if
èè 
(
èè 
pos
èè 
==
èè 
$num
èè 
)
èè 
{
êê 
Xamarin
ëë 
.
ëë 
Forms
ëë 
.
ëë 
RelativeLayout
ëë ,
layout
ëë- 3
=
ëë4 5
new
ëë6 9
Xamarin
ëë: A
.
ëëA B
Forms
ëëB G
.
ëëG H
RelativeLayout
ëëH V
(
ëëV W
)
ëëW X
;
ëëX Y
layout
íí 
.
íí 
Children
íí 
.
íí  
Add
íí  #
(
íí# $
new
íí$ '!
PlaylistWebGridItem
íí( ;
(
íí; <
this
íí< @
,
íí@ A
model0
ííB H
)
ííH I
,
ííI J
null
ííK O
,
ííO P
null
ííQ U
,
ííU V

Constraint
ííW a
.
íía b
RelativeToParent
ííb r
(
íír s
parent
íís y
=>
ííz |
parentíí} É
.ííÉ Ñ
WidthííÑ â
)ííâ ä
,ííä ã

Constraintííå ñ
.ííñ ó
Constantííó ü
(ííü †
$numíí† £
)íí£ §
)íí§ •
;íí• ¶ 
generatedChildrens
ìì "
.
ìì" #
Add
ìì# &
(
ìì& '
layout
ìì' -
)
ìì- .
;
ìì. /
}
îî 
}
ïï 	
}
óó 
}òò ü
GD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\SearchResultPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public		 

partial		 
class		 
SearchResultPage		 )
:		* +
ContentView		, 7
{

 
private !
SearchResultViewModel %
	ViewModel& /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
SearchResultPage 
(  
string  &
searchedText' 3
)3 4
{ 	
InitializeComponent 
(  
)  !
;! "
BindingContext 
= 
	ViewModel &
=' (
new) ,!
SearchResultViewModel- B
(B C
searchedTextC O
)O P
;P Q
} 	
private 
async 
void '
SearchListView_ItemSelected 6
(6 7
object7 =
sender> D
,D E(
SelectedItemChangedEventArgsF b
ec d
)d e
{ 	
await 
	ViewModel 
? 
. 
Item_Selected *
(* +
sender+ 1
,1 2
e3 4
)4 5
;5 6
} 	
private 
void (
SearchListView_ItemAppearing 1
(1 2
object2 8
sender9 ?
,? @#
ItemVisibilityEventArgsA X
eY Z
)Z [
{ 	
	ViewModel 
? 
. (
SearchListView_ItemAppearing 3
(3 4
e4 5
.5 6
	ItemIndex6 ?
)? @
;@ A
} 	
}!! 
}"" ⁄
CD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\SettingsPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
SettingsPage %
:& '
ContentView( 3
{		 
private 
SettingsViewModel !
	ViewModel" +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
SettingsPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
	ViewModel 
= 
BindingContext &
as' )
SettingsViewModel* ;
;; <
} 	
private 
async 
void %
SettingsList_ItemSelected 4
(4 5
object5 ;
sender< B
,B C(
SelectedItemChangedEventArgsD `
ea b
)b c
{ 	
await 
	ViewModel 
? 
. 
Item_Selected *
(* +
sender+ 1
,1 2
e3 4
)4 5
;5 6
} 	
} 
} ±
AD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\TracksPage.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
{ 
[		 
XamlCompilation		 
(		 "
XamlCompilationOptions		 +
.		+ ,
Compile		, 3
)		3 4
]		4 5
public

 

partial

 
class

 

TracksPage

 #
:

$ %
ContentView

& 1
,

1 2
ITimerContent

3 @
{ 
private 
TrackViewModel 
	ViewModel (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 

TracksPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
	ViewModel 
= 
BindingContext &
as' )
TrackViewModel* 8
;8 9
} 	
public 
void 
Tick 
( 
) 
{ 	
	ViewModel 
? 
. 
Tick 
( 
) 
; 
} 	
private 
void &
TrackListView_ItemSelected /
(/ 0
object0 6
sender7 =
,= >(
SelectedItemChangedEventArgs? [
e\ ]
)] ^
{ 	
	ViewModel   
?   
.   
Track_Selected   %
(  % &
sender  & ,
,  , -
e  . /
)  / 0
;  0 1
}!! 	
public## 
void## 
	Appearing## 
(## 
)## 
{$$ 	
}&& 	
public(( 
void(( 
Disappearing((  
(((  !
)((! "
{)) 	
}++ 	
}-- 
}.. ∑

OD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\ViewCells\ArtistGridItem.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "
	ViewCells" +
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public		 

partial		 
class		 
ArtistGridItem		 '
:		( )
ContentView		* 5
{

 
public 

ArtistPage 
Page 
{  
get! $
;$ %
private& -
set. 1
;1 2
}3 4
public 
ArtistGridItem 
( 

ArtistPage (
page) -
,- .
string/ 5

artistName6 @
)@ A
{ 	
InitializeComponent 
(  
)  !
;! "
Page 
= 
page 
; 
BindingContext 
= 
new  #
ArtistGridItemViewModel! 8
(8 9

artistName9 C
,C D
thisE I
)I J
;J K
} 	
} 
} õ
QD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\ViewCells\DownloadViewCell.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "
	ViewCells" +
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
DownloadViewCell )
:* +
ViewCell, 4
{ 
public

 
DownloadViewCell

 
(

  
)

  !
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} «

QD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\ViewCells\PlaylistGridItem.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "
	ViewCells" +
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public		 

partial		 
class		 
PlaylistGridItem		 )
:		* +
ContentView		, 7
{

 
public 
PlaylistPage 
Page  
{! "
get# &
;& '
private( /
set0 3
;3 4
}5 6
public 
PlaylistGridItem 
(  
PlaylistPage  ,
page- 1
,1 2
string3 9
playlistName: F
)F G
{ 	
InitializeComponent 
(  
)  !
;! "
Page 
= 
page 
; 
BindingContext 
= 
new  %
PlaylistGridItemViewModel! :
(: ;
playlistName; G
,G H
thisI M
)M N
;N O
} 	
} 
} –

TD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\ViewCells\PlaylistWebGridItem.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "
	ViewCells" +
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public		 

partial		 
class		 
PlaylistWebGridItem		 ,
:		- .
ContentView		/ :
{

 
public 
PlaylistPage 
Page  
{! "
get# &
;& '
private( /
set0 3
;3 4
}5 6
public 
PlaylistWebGridItem "
(" #
PlaylistPage# /
page0 4
,4 5
string6 <
playlistName= I
)I J
{ 	
InitializeComponent 
(  
)  !
;! "
Page 
= 
page 
; 
BindingContext 
= 
new  %
PlaylistGridItemViewModel! :
(: ;
playlistName; G
,G H
thisI M
)M N
;N O
} 	
} 
} ß
UD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\ViewCells\SearchResultViewCell.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "
	ViewCells" +
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class  
SearchResultViewCell -
:. /
ViewCell0 8
{ 
public

  
SearchResultViewCell

 #
(

# $
)

$ %
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} õ
QD:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\ViewCells\SettingsViewCell.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "
	ViewCells" +
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
SettingsViewCell )
:* +
ViewCell, 4
{ 
public

 
SettingsViewCell

 
(

  
)

  !
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} í
ND:\Projekty\CS\Newtone\Newtone.Mobile.UI\Views\ViewCells\TrackViewCell.xaml.cs
	namespace 	
Newtone
 
. 
Mobile 
. 
UI 
. 
Views !
.! "
	ViewCells" +
{ 
[ 
XamlCompilation 
( "
XamlCompilationOptions +
.+ ,
Compile, 3
)3 4
]4 5
public 

partial 
class 
TrackViewCell &
:' (
ViewCell) 1
{ 
public

 
TrackViewCell

 
(

 
)

 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} 